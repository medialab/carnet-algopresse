(this["webpackJsonpcarnet-algopresse"]=this["webpackJsonpcarnet-algopresse"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return x}));var a=n(9),r=n(5),i=n(3),c=n(23),o=n(346),l=n(347),s=function(e,t){return"<".concat(e," \n  ").concat(Object.entries(t).filter((function(e){var t=Object(i.a)(e,2),n=(t[0],t[1]);return!(void 0===n||!1===n||""===n||Array.isArray(n)&&!n.length)})).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return"".concat(n,"={").concat(function(e){return"string"===typeof e?"'".concat(e,"'"):"object"===typeof e?JSON.stringify(e):e}(a),"}")})).join(" \n  ").trim(),"\n/>")},u=function(e){return s("GraphBlock",e)},b=function(e){return s("IceCreamBlock",e)},d=function(e){return s("LinearGraphBlock",e)},j=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];switch(e){case"table":return h.apply(void 0,n);case"graph":default:return O.apply(void 0,n)}},h=function(e){return e.columns.reduce((function(t,n){var i=Object(c.uniq)(e.map((function(e){return e[n]}))),s="string";i.find((function(e){return isNaN(+e)}))||(s=i.find((function(e){return!Number.isInteger(+e)}))?"float":"integer");var u={id:n,title:n,type:s,options:i};return["float","integer"].includes(s)&&(u.options=u.options.map((function(e){return+e})),u.min=Object(o.a)(u.options),u.max=Object(l.a)(u.options)),Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},n,u))}),{})},O=function(e,t){var n=(new DOMParser).parseFromString(t,"application/xml").querySelectorAll("attributes.node attribute"),i=[],c=["weight"];return n.forEach((function(e){var t=e.getAttribute("id");if(!c.includes(t)){var n=e.getAttribute("title"),a=e.getAttribute("type");i.push({id:t,title:n,type:a,options:new Set})}})),e.forEachNode((function(e,t){i.forEach((function(e){e.options.has(t[e.id])||e.options.add(t[e.id])}))})),i.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},t.id,t))}),{})},g=function(e,t,n){return n?!(void 0!==t.find((function(t){var n=t.attribute,a=t.value;return e[n]!==""+a}))):void 0!==t.find((function(t){var n=t.attribute,a=t.value;return e[n]===""+a}))},f=function(e,t){var n=Math.sqrt(e*e+t*t),a=Math.atan2(t,e);return{distance:n,radians:a,degrees:function(e){return e*(180/Math.PI)}(a)}},v=function(e,t){var n=function(e){return e*(Math.PI/180)}(t);return{x:e*Math.cos(n),y:e*Math.sin(n)}},x=function(e,t){var n=e.x,a=e.y,r=t.rotate,i=t.translate,c=f(n,a),o=c.degrees,l=c.distance,s=o;r&&(s+=r);var u=v(l,s),b=u.x,d=u.y;return i&&(i.x&&(b+=i.x),i.y&&(d+=i.y)),{x:b,y:d}}},129:function(e){e.exports=JSON.parse('{"a":"https://github.com/medialab/carnet-algopresse"}')},150:function(e,t,n){},151:function(e,t,n){},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),r=n.n(a).a.createContext({})},340:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){var a={"./00_home.mdx":[348,11],"./01_couverture_media.mdx":[349,12],"./02_detectcritic.mdx":[350,13],"./03_graphclusters.mdx":[351,3],"./04_timelineclusters.mdx":[352,14],"./05_toporobotalgo.mdx":[353,4],"./06_explore_entities.mdx":[354,5],"./07_IssueVERB.mdx":[355,6],"./08_NERdate.mdx":[359,10],"./dates-analysis.mdx":[356,7],"./graph-critics.mdx":[357,8],"./verbs-analysis.mdx":[358,9]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=344,e.exports=r},345:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n.n(r),c=n(13),o=n.n(c),l=(n(150),n(5)),s=n(33),u=n(8),b=(n(151),n(129)),d=n(3),j=n(130),h=n.n(j),O=n(364),g=n(365),f=function(e){var t=e.percentsLoaded,n=void 0===t?0:t;return Object(a.jsx)("div",{className:"loader-container",children:Object(a.jsx)("div",{className:"loader",children:Object(a.jsx)("div",{className:"loading-bar",style:{width:n+"%"}})})})},v=function(e){var t=e.url,n=e.children,i=Object(r.useState)(null),c=Object(d.a)(i,2),o=c[0],l=c[1],s=Object(r.useState)(0),u=Object(d.a)(s,2),b=u[0],j=u[1];return Object(r.useEffect)((function(){t&&h.a.get(t,{onDownloadProgress:function(e){var t=e.loaded/e.total;j(t)}}).then((function(e){var n=e.data;setTimeout((function(){var e=n;"csv"===t.split(".").pop()?e=Object(O.a)(n):"tsv"===t.split(".").pop()&&(e=Object(g.a)(n)),l(e)}))}))}),[t]),t?o?n(o):Object(a.jsx)(f,{percentsLoaded:100*b}):n()},x=n(9),p=n(366),m=n(131),C=n.n(m),y={cmin:25.59,cmax:55.59,lmin:60.94,lmax:90.94},S=["#999"];function V(e,t){return 1!==t&&t?2===t?["#D77186","#61A2DA"]:C()(t,{colorSpace:y,seed:e,clustering:"force-vector"}):S}var N=n(132),T=n.n(N),k=n(133),P=n.n(k),M=n(134),A=n(367),z=n(346),L=n(347),F=n(32),R=n.n(F);function _(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}var w=n(6),D=n.n(w),E=n(143),X=n(53),Y=n.n(X);var I=function(e){var t=e.children,n=e.onClick;return Object(a.jsx)("button",{className:"control-button",onClick:n,children:t})},U=n(20);var q=function(e){var t=e.onToggleFiltersModeAnd,n=e.filtersModeAnd,i=e.filtersOptions,c=e.onFiltersChange,o=e.filters,l=Object(r.useState)(!1),s=Object(d.a)(l,2),u=s[0],b=s[1],j=Object(r.useState)(void 0),h=Object(d.a)(j,2),O=h[0],g=h[1],f=[];return O&&i[O].options.forEach((function(e){return f.push(e)})),Object(a.jsxs)("div",{className:"FiltersEditor",children:[Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:u?"is-active":"",onClick:function(){return b(!u)},children:"Filtres ..."})}),u&&Object(a.jsxs)("div",{children:[Object(a.jsxs)(I,{onClick:t,children:["Mode des filtres: ",n?"AND (intersection des filtres)":"OR (union des filtres)"]}),o.length?Object(a.jsxs)("div",{children:[Object(a.jsx)("h6",{children:"Filtres existants"}),Object(a.jsx)("ul",{className:"existing-filters",children:o.map((function(e,t){var n=e.attribute,r=e.value;return Object(a.jsxs)("li",{children:[Object(a.jsxs)("div",{children:[n," : ",r]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){var e=o.filter((function(e,n){return n!==t}));c(e)},children:"\ud83d\uddd1"})})]},t)}))})]}):null,Object(a.jsxs)("div",{children:[Object(a.jsx)("h6",{children:"Ajouter un nouveau filtre"}),Object(a.jsxs)("select",{value:O||"",onChange:function(e){var t=e.target.value;t.length&&g(t)},children:[Object.entries(i).map((function(e,t){var n=Object(d.a)(e,2),r=n[0],i=n[1].title;return Object(a.jsx)("option",{value:r,children:i},t)})),Object(a.jsx)("option",{value:"",children:"Selectionner"})]}),void 0!==O?Object(a.jsxs)("select",{value:"",onChange:function(e){var t=e.target.value;c([].concat(Object(U.a)(o),[{attribute:O,value:t}])),g(void 0)},children:[f.sort((function(e,t){return e>t?1:-1})).map((function(e,t){return Object(a.jsx)("option",{value:e,children:e},t)})),Object(a.jsx)("option",{value:"",children:"Selectionner"})]}):null]})]})]})};var G=function(e){var t=e.options,n=e.variables,i=Object(r.useState)(!1),c=Object(d.a)(i,2),o=c[0],l=c[1],s=void 0!==n.find((function(e){return"default"!==e.value&&void 0!==e.value}));return Object(a.jsxs)("div",{className:"FiltersEditor VariablesEditor",children:[Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:o||s?"is-active":"",onClick:function(){return l(!o)},children:"Variables ..."})}),(o||s)&&Object(a.jsx)("div",{children:n.map((function(e,n){var r=e.title,i=e.value,c=e.onChange,o=e.type,l=e.localOptions,s=[{value:"default",title:"D\xe9faut"}].concat(Object(U.a)(function(){switch(o){case"color":case"string":return l||Object.entries(t);case"boolean":return[["true",{title:"Oui"}],["false",{title:"Non"}]];case"number":default:return Object.entries(t).filter((function(e){var t=Object(d.a)(e,2),n=(t[0],t[1]);return["integer","float"].includes(n.type)}))}}().map((function(e){var t=Object(d.a)(e,2),n=t[0];return{label:t[1].title,value:n}}))));return s.length<=1?null:Object(a.jsxs)("div",{children:[Object(a.jsxs)("h6",{children:[r," "]}),Object(a.jsx)("select",{value:i,onChange:function(e){var t=e.target.value;return c("boolean"===o?"true"===t:t)},children:s.map((function(e){var t=e.value,n=e.label;return Object(a.jsx)("option",{value:t,children:n||"D\xe9faut"},t)}))})]},n)}))})]})},B=n(142),J=function(e){var t=e.modality,n=e.onChange,i=e.color,c=Object(r.useState)(!1),o=Object(d.a)(c,2),l=o[0],s=o[1],u=Object(r.useState)(i),b=Object(d.a)(u,2),j=b[0],h=b[1];Object(r.useEffect)((function(){h(i)}),[i]);var O=Y()(n,300);return Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{onClick:function(){return s(!l)},className:"legend-color",style:{background:i}}),Object(a.jsx)("span",{className:"legend-modality",children:t}),l?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{onClick:function(){n(j),s(!1)},className:"color-picker-container",children:Object(a.jsxs)("div",{onClick:function(e){e.stopPropagation()},children:[Object(a.jsxs)("h5",{children:['Choisir la couleur de la modalit\xe9 "',t,'"']}),Object(a.jsx)(B.a,{onChange:function(e){h(e.hex),O(e.hex)},color:j})]})})}):null]})};var W=function(e){var t=e.colorPalette,n=e.onChange;return t?Object(a.jsxs)("div",{className:"ColorLegend",children:[Object(a.jsx)("h6",{children:"L\xe9gende"}),Object(a.jsx)("ul",{children:Object.entries(t).map((function(e){var r=Object(d.a)(e,2),i=r[0],c=r[1];return Object(a.jsx)(J,Object(l.a)({onChange:function(e){n(Object(l.a)(Object(l.a)({},t),{},Object(x.a)({},i,e)))}},{modality:i,color:c}),i)}))})]}):null},Z={.25:"d\xe9faut"};function H(e){var t=e.defaultValue,n=e.onChange,i=Object(r.useState)(t),c=Object(d.a)(i,2),o=c[0],l=c[1];Object(r.useEffect)((function(){l(t)}),[t]);return Object(a.jsx)(E.a,{min:0,max:1,step:.01,defaultValue:t,value:o,onChange:function(e){l(e),n(e)},marks:Z})}function K(e){var t=e.rescale,n=e.zoomIn,i=e.zoomOut,c=e.searchString,o=void 0===c?"":c,s=e.onSearchStringChange,u=e.filtersModeAnd,b=e.onToggleFiltersModeAnd,j=e.labelDensity,h=e.nodeSizeVariable,O=e.nodeColorVariable,g=e.nodeLabelVariable,f=e.filtersOptions,v=e.filters,x=void 0===v?[]:v,p=e.colorPalette,m=e.onFiltersChange,C=e.onNodeSizeVariableChange,y=e.onNodeColorVariableChange,S=e.onNodeLabelVariableChange,V=e.onLabelDensityChange,N=e.onColorPaletteChange,T=Object(r.useState)(!0),k=Object(d.a)(T,2),P=k[0],M=k[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){return M(!P)},className:D()("minify-button",{"is-active":!P}),children:"\xe9diter"}),Object(a.jsxs)("ul",{className:D()("VisControls GraphControls",{"is-minified":P}),children:[Object(a.jsxs)("li",{className:"vis-controls-item camera",children:[Object(a.jsx)(I,{onClick:i,children:"-"}),Object(a.jsx)(I,{onClick:n,children:"+"}),Object(a.jsx)(I,{onClick:t,children:"Recentrer"})]}),Object(a.jsx)("li",{className:"vis-controls-item",children:Object(a.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(a.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)},placeholder:"rechercher",value:o})})}),Object(a.jsx)("li",{className:"vis-controls-item",children:Object(a.jsx)(G,Object(l.a)({},{options:f,variables:[{title:"Taille des noeuds",onChange:C,value:h,type:"number"},{title:"Couleur des noeuds",value:O,onChange:y,type:"color"},{title:"Label des noeuds",value:g,onChange:S,type:"string"}]}))}),Object(a.jsx)("li",{className:"vis-controls-item",children:Object(a.jsx)(q,Object(l.a)({},{onToggleFiltersModeAnd:b,filtersModeAnd:u,filtersOptions:f,onFiltersChange:m,filters:x}))}),Object(a.jsx)("li",{className:"vis-controls-item slider-wrapper",children:Object(a.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(a.jsx)("h5",{children:"Densit\xe9 des labels"}),Object(a.jsx)("div",{className:"slider-container",children:Object(a.jsx)(H,{defaultValue:j,onChange:Y()(V,300)})})]})}),O&&"default"!==O?Object(a.jsx)(W,{colorPalette:p,onChange:N}):null]})]})}var Q=n(140),$=n.n(Q),ee=n(12),te="#999",ne=[2,15];n(340);function ae(e){e.getCamera().animatedReset(e)}function re(e){e.getCamera().animatedZoom(e)}function ie(e){e.getCamera().animatedUnzoom(e)}function ce(e){var t=e.graph,n=e.width,i=e.height,c=e.labelDensity,o=e.extents,s=e.searchString,u=void 0===s?"":s,b=e.onSearchStringChange,j=e.filtersModeAnd,h=e.onToggleFiltersModeAnd,O=e.filtersOptions,g=void 0===O?{}:O,f=e.filters,v=void 0===f?[]:f,x=e.onFiltersChange,p=e.onCameraUpdate,m=e.cameraPosition,C=e.updateTimestamp,y=e.nodeSizeVariable,S=e.nodeColorVariable,N=e.colorPalette,T=e.nodeLabelVariable,k=e.onNodeSizeVariableChange,P=e.onNodeColorVariableChange,F=e.onNodeLabelVariableChange,R=e.onLabelDensityChange,w=e.onColorPaletteChange,D=[i/5,i/1e3],E=[n/5,n/1e3],X=Object(A.a)().domain([0,1]).range(D),Y=Object(A.a)().domain([0,1]).range(E),I=Object(r.useMemo)((function(){if(y&&"default"!==y&&g[y]){var e=Array.from(g[y].options);return{min:Object(z.a)(e),max:Object(L.a)(e),name:y}}}),[y]),U=Object(r.useMemo)((function(){if(S&&"default"!==S&&g[S]){var e=V(S,g[S].options.size),t={},n=0;return g[S].options.forEach((function(a){t[a]=e[n],n++})),{palette:t,name:S}}}),[S]),q=Object(r.useMemo)((function(){var e=new Map;return t.forEach((function(t,n,a,r,i,c){e.set(i,{sourceNode:a,targetNode:r})})),e}),[t]),G=_(U),B=_(I),J=_(T),W=_(c),Z=_(u),H=_(v),Q=_(N),ce=function(e){var t=e.nodeColor,n=e.nodeSize,a=e.nodeLabel,r=e.nodeSizeFactor,i=void 0===r?1:r,c=e.extents,o=e.filters,l=void 0===o?[]:o,s=e.filtersModeAnd,u=e.colorPalette,b=null;return b=n?Object(A.a)().domain([n.min,n.max]).range(ne):Object(A.a)().domain([c.nodeSize.min,c.nodeSize.max]).range(ne),function(e,r){var c={x:r.x,y:r.y};if(c.color=t?u?u[r[t.name]]||te:t.palette[r[t.name]]||te:r.color||te,n){var o=r[n.name];o="number"===typeof o?o:1,c.size=b(o)}else{var d=r.size||1;c.size=b(d)}return c.size*=i,l.length&&!1===Object(ee.e)(r,l,s)?(c.hidden=!0,c.label=""):(c.hidden=!1,c.label=a?"default"===a?r.label||e:r[a]||"":r.label||e),c}}({nodeColor:U,nodeSize:I,nodeLabel:T,extents:o,filters:v,filtersModeAnd:j,colorPalette:N}),oe=function(e){var t=e.nodeColor,n=e.nodeSize,a=e.edgesMap,r=e.colorPalette;return function(e,i,c,o){var l=a.get(e),s=l.sourceNode,u=l.targetNode,b={},d=(n?s[n.name]:s.size)>(n?u[n.name]:u.size)?s:u;return d&&(b.color=t?r?r[d[t.name]]||te:t.palette[d[t.name]]||te:d.color||te,b.color=$()(b.color).lighten(.4).rgb().string()),b}}({nodeColor:U,colorPalette:N,filters:v,filtersModeAnd:j,edgesMap:q}),le=Object(r.useRef)(null),se=Object(r.useState)(null),ue=Object(d.a)(se,2),be=ue[0],de=ue[1];if(Object(r.useEffect)((function(){m&&be&&be.getCamera().animate(m)}),[C]),be){var je=!1;G===U&&B===I&&J===T&&Q===N&&H===v||(be.settings.nodeReducer=ce,be.settings.edgeReducer=oe,je=!0),W!==c&&(be.settings.labelGrid.cell={width:Y(c),height:X(c)},be.displayedLabels=new Set,je=!0),Z!==u&&(u.length>=3?t.forEachNode((function(e,t){t.label.toLowerCase().includes(u.toLowerCase())?be.highlightNode(e):be.unhighlightNode(e)})):be.highlightedNodes.size>0&&(be.highlightedNodes=new Set)),je&&be.refresh()}var he=Object(r.useCallback)((function(e){if(be&&be.graph!==t&&(be.kill(),de(null)),e&&t){var n=new M.WebGLRenderer(t,e,{nodeReducer:ce,edgeReducer:oe});de(n);var a=n.getCamera();p(a.getState()),a.on("updated",(function(e){p(e)}))}le.current=e}),[t]);return Object(a.jsxs)("div",{className:"VisContainer GraphContainer",children:[Object(a.jsx)("div",{ref:he,style:{width:"100%",height:"100%"}}),be&&Object(a.jsx)(K,Object(l.a)({rescale:ae.bind(null,be),zoomIn:re.bind(null,be),zoomOut:ie.bind(null,be)},{searchString:u,onSearchStringChange:b,filtersModeAnd:j,onToggleFiltersModeAnd:h,filtersOptions:g,filters:v,onFiltersChange:x,nodeSizeVariable:y,nodeColorVariable:S,nodeLabelVariable:T,labelDensity:c,onNodeSizeVariableChange:k,onNodeColorVariableChange:P,onNodeLabelVariableChange:F,onColorPaletteChange:w,onLabelDensityChange:R,colorPalette:N||U&&U.palette}))]})}function oe(e){return Object(a.jsx)("div",{className:"VisContainer IcecreamContainer",children:Object(a.jsx)(R.a,{children:function(t){return Object(a.jsx)(ce,Object(l.a)({},Object(l.a)(Object(l.a)({},e),t)))}})})}var le=function(e){var t=e.prevPage,n=e.nextPage;return Object(a.jsx)("footer",{className:D()("FooterNav",{"start-page":!t}),children:Object(a.jsxs)("ul",{children:[t?Object(a.jsx)("li",{className:"previous-page",children:Object(a.jsx)("h5",{children:Object(a.jsxs)(s.b,{to:t.route,children:[Object(a.jsx)("div",{className:"marker",children:"<"}),Object(a.jsxs)("div",{className:"page-content",children:[Object(a.jsx)("div",{className:"page-label",children:Object(a.jsx)("i",{children:"Page pr\xe9c\xe9dente"})}),Object(a.jsx)("div",{children:t.title})]})]})})}):null,n?Object(a.jsx)("li",{className:"next-page",children:Object(a.jsx)("h5",{children:Object(a.jsxs)(s.b,{to:n.route,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"page-label",children:Object(a.jsx)("i",{children:"Page suivante"})}),Object(a.jsx)("div",{className:"page-content",children:n.title})]}),Object(a.jsx)("div",{className:"marker",children:">"})]})})}):null]})})},se=n(30),ue=function(e){var t=e.Content,n=e.data,i=e.contentsURL,c=e.prevPage,o=e.nextPage,s=Object(r.useMemo)((function(){return T.a.parse(P.a,n)}),[n]),u=Object(r.useMemo)((function(){return Object(ee.d)("graph",s,n)}),[s,n]),b=Object(r.useState)(void 0),j=Object(d.a)(b,2),h=j[0],O=j[1],g=Object(r.useState)(!1),f=Object(d.a)(g,2),v=f[0],m=f[1],C=Object(r.useState)(""),y=Object(d.a)(C,2),S=y[0],N=y[1],k=Object(r.useState)(!1),M=Object(d.a)(k,2),A=M[0],z=M[1],L=Object(r.useState)((new Date).getTime()),F=Object(d.a)(L,2),R=F[0],_=F[1],w=Object(r.useState)([]),D=Object(d.a)(w,2),E=D[0],X=D[1],Y=Object(r.useState)(void 0),I=Object(d.a)(Y,2),U=I[0],q=I[1],G=Object(r.useState)(void 0),B=Object(d.a)(G,2),J=B[0],W=B[1],Z=Object(r.useState)(void 0),H=Object(d.a)(Z,2),K=H[0],Q=H[1],$=Object(r.useState)(void 0),te=Object(d.a)($,2),ne=te[0],ae=te[1],re=Object(r.useState)(.25),ie=Object(d.a)(re,2),ce=ie[0],ue=ie[1],be=Object(r.useState)(null),de=Object(d.a)(be,2),je=de[0],he=de[1],Oe=Object(r.useState)({}),ge=Object(d.a)(Oe,2),fe=ge[0],ve=ge[1];Object(r.useEffect)((function(){if(!je&&Object.keys(fe).length){var e=Object.keys(fe)[0];he(e)}}),[fe,je]);var xe=[];s.forEachNode((function(e,t){xe.push(t.size)}));var pe=Object(p.a)(xe);return Object(a.jsx)(se.a.Provider,{value:{onVisualizationUpdate:function(e){var t=e.x,n=e.y,a=e.ratio,r=e.searchString,i=e.filtersModeAnd,c=e.filters,o=e.nodeColorVariable,l=e.nodeSizeVariable,s=e.nodeLabelVariable,b=e.labelDensity,d=e.colorPalette;if(O({x:t,y:n,ratio:a}),_((new Date).getTime()),N(r),z(i),X(c),q(o),Q(l),ae(s),d&&U===o)W(d);else{var j=V(o,u[o].options.size),h={},g=0;u[o].options.forEach((function(e){h[e]=j[g],g++})),W(h)}ue(void 0===b?.25:b)},onRegisterVisualization:function(e,t){ve(Object(l.a)(Object(l.a)({},fe),{},Object(x.a)({},e,t)))},onUnregisterVisualization:function(e){var t=Object(l.a)({},fe);delete t[e],ve(t)},focusedVisualizationId:je,setFocusedVisualizationId:he,visualizationParams:Object(l.a)(Object(l.a)({},h),{},{searchString:S,filters:E,nodeSizeVariable:K,nodeColorVariable:U,nodeLabelVariable:ne,filtersModeAnd:A,labelDensity:ce,colorPalette:J})},children:Object(a.jsxs)("div",{className:"slide-container",children:[Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:Object(a.jsx)("button",{className:v?"is-active":"",onClick:function(){return m(!v)},children:"Comment modifier cette page ?"})}),Object(a.jsxs)("ol",{className:"edit-help ".concat(v?"is-active":""),children:[Object(a.jsx)("li",{children:"Pr\xe9alablement se logger dans github si le r\xe9pertoire est priv\xe9"}),Object(a.jsxs)("li",{children:["Se rendre sur ",Object(a.jsx)("a",{target:"blank",href:i,children:"cette page du r\xe9pertoire github"})]}),Object(a.jsx)("li",{children:'Cliquer sur le crayon en haut \xe0 droite des contenus (il affiche "edit" au survol)'}),Object(a.jsx)("li",{children:'Faire les modifications puis cliquer sur "Commit changes" en bas de la page'}),Object(a.jsx)("li",{children:"Attendre 2 minutes puis recharger la page pour voir la version \xe0 jour de la page"})]})]}),Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)("div",{children:"Chargement"}),children:Object(a.jsx)(t,{})}),Object(a.jsx)(le,{prevPage:c,nextPage:o})]}),Object(a.jsx)("aside",{children:Object(a.jsx)("div",{className:"vis",children:Object(a.jsx)(oe,Object(l.a)({},{graph:s,searchString:S,filtersOptions:u,filters:E,cameraPosition:h,onCameraUpdate:function(e){var t=e.x,n=e.y,a=e.ratio;O({x:t,y:n,ratio:a})},updateTimestamp:R,nodeSizeVariable:K,nodeColorVariable:U,nodeLabelVariable:ne,filtersModeAnd:A,labelDensity:ce,colorPalette:J,onSearchStringChange:function(e){N(e)},onToggleFiltersModeAnd:function(){return z(!A)},onFiltersChange:function(e){return X(e)},onLabelDensityChange:function(e){return ue(e)},onNodeSizeVariableChange:function(e){return Q(e)},onNodeColorVariableChange:function(e){return q(e)},onNodeLabelVariableChange:function(e){return ae(e)},onColorPaletteChange:function(e){return W(e)},extents:{nodeSize:{min:pe[0],max:pe[1]}}}))})})]})})};function be(e){var t=e.xVariable,n=e.reverseX,i=e.yVariable,c=e.reverseY,o=e.sizeVariable,s=e.colorVariable,u=e.labelVariable,b=e.labelsOnTheSide,j=e.colorScaleType,h=e.onToggleFiltersModeAnd,O=e.filtersModeAnd,g=e.onFiltersChange,f=e.filters,v=e.rotateMode,x=e.searchString,p=e.onSearchStringChange,m=e.onToggleRotateMode,C=e.onXVariableChange,y=e.onYVariableChange,S=e.onColorVariableChange,V=e.onSizeVariableChange,N=e.onLabelVariableChange,T=e.onToggleLabelsOnTheSide,k=e.onColorPaletteChange,P=e.onToggleReverseX,M=e.onToggleReverseY,A=e.onColorScaleTypeChange,z=e.filtersOptions,L=e.colorPalette,F=Object(r.useState)(!0),R=Object(d.a)(F,2),_=R[0],w=R[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){return w(!_)},className:D()("minify-button",{"is-active":!_}),children:"\xe9diter"}),Object(a.jsxs)("ul",{className:D()("VisControls",{"is-minified":_}),children:[Object(a.jsx)("li",{className:"vis-controls-item",children:Object(a.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(a.jsx)("input",{type:"text",onChange:function(e){return p(e.target.value)},placeholder:"rechercher",value:x})})}),Object(a.jsx)("li",{className:"vis-controls-item",children:Object(a.jsx)(G,Object(l.a)({},{options:z,variables:[{title:"X des points",onChange:C,value:t,type:"number"},{title:"Inverser les x",onChange:P,value:n,type:"boolean"},{title:"Y des points",onChange:y,value:i,type:"number"},{title:"Inverser les y",onChange:M,value:c,type:"boolean"},{title:"Taille des points",onChange:V,value:o,type:"number"},{title:"Couleur des points",onChange:S,value:s,type:"color"},{title:"Type d'\xe9chelle pour la couleur",onChange:A,localOptions:[["discrete",{title:"discr\xe8te"}],["continuous",{title:"continue"}]],value:j,type:"string"},{title:"Labels des points",onChange:N,value:u,type:"string"},{title:"Tourner la visualisation \xe0 45\xb0",onChange:m,value:v,type:"boolean"},{title:"Afficher les labels sur le c\xf4t\xe9",onChange:T,value:b,type:"boolean"}]}))}),Object(a.jsx)("li",{className:"vis-controls-item",children:Object(a.jsx)(q,Object(l.a)({},{onToggleFiltersModeAnd:h,filtersModeAnd:O,filtersOptions:z,onFiltersChange:g,filters:f}))}),s&&"default"!==s?Object(a.jsx)(W,{colorPalette:L,onChange:k}):null]})]})}n(342);function de(e){var t=e.width,n=e.height,r=e.data,i=e.xVariable,c=e.reverseX,o=e.yVariable,s=e.reverseY,u=e.sizeVariable,b=e.colorVariable,d=e.labelVariable,j=e.labelsOnTheSide,h=void 0===j||j,O=e.colorPalette,g=e.colorScaleType,f=e.rotateMode,v=e.searchString,m=void 0===v?"":v,C=e.onSearchStringChange,y=e.onToggleRotateMode,S=e.filtersOptions,N=void 0===S?{}:S,T=e.onToggleFiltersModeAnd,k=e.filtersModeAnd,P=e.onFiltersChange,M=e.filters,L=e.onXVariableChange,F=e.onYVariableChange,R=e.onColorVariableChange,_=e.onSizeVariableChange,w=e.onLabelVariableChange,E=e.onToggleReverseX,X=e.onToggleReverseY,Y=e.onToggleLabelsOnTheSide,I=e.onColorPaletteChange,U=e.onColorScaleTypeChange,q=Object(z.a)([t,n]),G=f?parseInt(Math.sqrt(q*q/2)):q,B=f?parseInt(Math.sqrt(q*q/2)):q,J=q/50,W=q/2,Z=G/15,H=[Z,G-2*Z],K=[Z,B-2*Z];c&&(H=H.reverse()),s&&(K=K.reverse());var Q,$,te=i&&"default"!==i?Object(A.a)().range(H).domain([0,1]):function(){return 0},ne=o&&"default"!==o?Object(A.a)().range(K).domain([0,1]):function(){return 0},ae=u&&"default"!==u?Object(A.a)().domain(Object(p.a)(r.map((function(e){return+e[u]})))).range([J,W]):function(){return 0};if(O)Q=O;else if(b&&"default"!==b){var re=V(b,N[b].options.length);Q=N[b].options.reduce((function(e,t,n){return Object(l.a)(Object(l.a)({},e),{},Object(x.a)({},t,re[n]))}),{})}if("continuous"===g){var ie=["#D77186","#61A2DA"];Q&&Q.from&&Q.to?ie=[Q.from,Q.to]:Q={from:"#D77186",to:"#61A2DA"},$=Object(A.a)().domain(Object(p.a)(r.map((function(e){return+e[b]})))).range(ie)}var ce;m.length&&d&&(ce=new Set,r.forEach((function(e,t){e[d].toLowerCase().includes(m)&&ce.add(t)})));var oe={rotate:0};f&&(oe={rotate:-45,translate:{x:0,y:q/2}});var le=function(e,t){return Object(ee.f)({x:e,y:t},oe)},se=Object(ee.f)({x:0,y:0},oe),ue=se.x,de=se.y,je=Object(ee.f)({x:G,y:0},oe),he=je.x,Oe=je.y,ge=Object(ee.f)({x:G,y:B},oe),fe=ge.x,ve=ge.y,xe=Object(ee.f)({x:0,y:B},oe),pe=xe.x,me=xe.y;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("svg",{className:"scatterplot",width:q,height:q,transform:"translate(".concat((t-q)/2,", 0)"),children:[Object(a.jsx)("polygon",{points:"".concat(ue,",").concat(de," ").concat(he,",").concat(Oe," ").concat(fe,",").concat(ve," ").concat(pe,",").concat(me),width:G,height:B,fill:"white"}),Object(a.jsxs)("g",{transform:"translate(".concat(f?0:Z/2,", ").concat(f?-Z:0,")").concat(f?"scale(1.05)":""),children:[Object(a.jsxs)("g",{className:"axis axis-left",children:[Object(a.jsx)("line",{x1:le(Z,Z).x,y1:le(Z,Z).y,x2:le(Z,B-2*Z).x,y2:le(Z,B-2*Z).y,stroke:"black"}),ne.ticks&&ne.ticks().map((function(e){var t=le(Z,ne(e)),n=t.x,r=t.y,i=le(Z/4,ne(e)+Z/6),c=i.x,o=i.y,l=le(Z/2,ne(e)),s=l.x,u=l.y;return Object(a.jsxs)("g",{children:[Object(a.jsx)("text",{textAnchor:"end",x:c,y:o,children:e}),Object(a.jsx)("line",{x1:n,y1:r,x2:s,y2:u,stroke:"black"})]},e)})),Object(a.jsx)("g",{transform:f?"translate(".concat(G/2-1.5*Z,", ").concat(B+2.5*Z,")rotate(45)"):"translate(0, ".concat(Z/2-2,")"),children:Object(a.jsx)("text",{className:"axis-variable-name",textAnchor:f?"end":"start",children:o})})]}),Object(a.jsxs)("g",{className:"axis axis-bottom",children:[Object(a.jsx)("line",{x1:le(Z,B-2*Z).x,y1:le(Z,B-2*Z).y,x2:le(G-2*Z,B-2*Z).x,y2:le(G-2*Z,B-2*Z).y,stroke:"black"}),te.ticks&&te.ticks().map((function(e){var t=le(te(e),B-2*Z),n=t.x,r=t.y,i=le(te(e),B-1.66*Z),c=i.x,o=i.y,l=le(te(e),B-1.25*Z),s=l.x,u=l.y;return Object(a.jsxs)("g",{children:[Object(a.jsx)("text",{textAnchor:"center",x:s,y:u,children:e}),Object(a.jsx)("line",{x1:n,y1:r,x2:c,y2:o,stroke:"black"})]},e)})),Object(a.jsx)("g",{transform:f?"translate(".concat(G,", ").concat(B+1.5*Z,")rotate(-45)"):"translate(".concat(G-1.5*Z,", ").concat(B-Z/3-2,")"),children:Object(a.jsx)("text",{className:"axis-variable-name",textAnchor:f?"end":"start",children:i})})]}),Object(a.jsxs)("g",{className:"ticks-container",children:[ne.ticks&&ne.ticks().map((function(e){return Object(a.jsx)("line",{x1:le(Z,ne(e)).x,y1:le(Z,ne(e)).y,x2:le(G-2*Z,ne(e)).x,y2:le(G-2*Z,ne(e)).y,stroke:"lightgrey"},e)})),te.ticks&&te.ticks().map((function(e){return Object(a.jsx)("line",{x1:le(te(e),Z).x,y1:le(te(e),Z).y,x2:le(te(e),G-2*Z).x,y2:le(te(e),G-2*Z).y,stroke:"lightgrey"},e)}))]}),Object(a.jsx)("g",{className:"plot-objects-container",children:r.sort((function(e,t){return ne(e[o])>ne(t[o])?1:-1})).map((function(e,t){var n=Math.sqrt(ae(e[u])/Math.PI),c=le(te(e[i]),ne(e[o])),l=c.x,s=c.y,j=le(te(e[i]),ne.range?ne.range()[0]:0),O=j.x,v=j.y,x=le(te.range?te.range()[0]:0,ne(e[o])),p=x.x,m=x.y,C=l+n+q/100,y=f?s-q/200:s+q/200,S=le(te(e[i])+n,ne(e[o]));if(h){var V=le(G-1.7*Z,Z+t*(B-3*Z)/r.length);C=V.x,y=V.y}var N,T=1,P=!M.length||Object(ee.e)(e,M,k);return M.length?T=!P||ce&&!ce.has(t)?.05:1:ce&&!ce.has(t)&&(T=.2),Object(a.jsxs)("g",{className:D()("plot-object",{"is-matching":P}),opacity:T,children:[Object(a.jsx)("line",{className:"axis-line",stroke:"grey",strokeDasharray:"1,1",x1:l,y1:s,x2:p,y2:m}),Object(a.jsx)("line",{className:"axis-line",stroke:"grey",strokeDasharray:"1,1",x1:l,y1:s,x2:O,y2:v}),Object(a.jsx)("circle",{cx:l,cy:s,r:n,fill:(N=e[b],"continuous"===g?$(+N):Q?Q[N]:"grey"),opacity:.8}),h?Object(a.jsx)("line",{x1:S.x,y1:S.y,x2:C,y2:y,stroke:"lightgrey",strokeDasharray:"4,4"}):null,Object(a.jsx)("g",{transform:"translate(".concat(C,", ").concat(y,")"),children:Object(a.jsx)("text",{transform:f?"rotate(-45)":"",style:{fontSize:f&&h?B/70:void 0},children:e[d]})})]},t)}))})]})]}),Object(a.jsx)(be,Object(l.a)({},{xVariable:i,yVariable:o,reverseX:c,reverseY:s,sizeVariable:u,colorVariable:b,labelVariable:d,labelsOnTheSide:h,rotateMode:f,searchString:m,colorScaleType:g,onSearchStringChange:C,onToggleRotateMode:y,onXVariableChange:L,onYVariableChange:F,onColorVariableChange:R,onSizeVariableChange:_,onLabelVariableChange:w,onToggleLabelsOnTheSide:Y,onToggleReverseX:E,onToggleReverseY:X,onColorPaletteChange:I,onColorScaleTypeChange:U,onToggleFiltersModeAnd:T,filtersModeAnd:k,onFiltersChange:P,filters:M,filtersOptions:N,colorPalette:Q}))]})}function je(e){return Object(a.jsx)("div",{className:"VisContainer IcecreamContainer",children:Object(a.jsx)(R.a,{children:function(t){return Object(a.jsx)(de,Object(l.a)({},Object(l.a)(Object(l.a)({},e),t)))}})})}var he=function(e){var t=e.Content,n=e.data,i=e.contentsURL,c=e.prevPage,o=e.nextPage,s=Object(r.useMemo)((function(){return Object(ee.d)("table",n)}),[n]),u=Object(r.useState)(!1),b=Object(d.a)(u,2),j=b[0],h=b[1],O=Object(r.useState)(""),g=Object(d.a)(O,2),f=g[0],v=g[1],p=Object(r.useState)(void 0),m=Object(d.a)(p,2),C=m[0],y=m[1],S=Object(r.useState)(void 0),N=Object(d.a)(S,2),T=N[0],k=N[1],P=Object(r.useState)(!1),M=Object(d.a)(P,2),A=M[0],z=M[1],L=Object(r.useState)(!1),F=Object(d.a)(L,2),R=F[0],_=F[1],w=Object(r.useState)(void 0),D=Object(d.a)(w,2),E=D[0],X=D[1],Y=Object(r.useState)(void 0),I=Object(d.a)(Y,2),U=I[0],q=I[1],G=Object(r.useState)(void 0),B=Object(d.a)(G,2),J=B[0],W=B[1],Z=Object(r.useState)(!1),H=Object(d.a)(Z,2),K=H[0],Q=H[1],$=Object(r.useState)(void 0),te=Object(d.a)($,2),ne=te[0],ae=te[1],re=Object(r.useState)(void 0),ie=Object(d.a)(re,2),ce=ie[0],oe=ie[1],ue=Object(r.useState)(!1),be=Object(d.a)(ue,2),de=be[0],he=be[1],Oe=Object(r.useState)([]),ge=Object(d.a)(Oe,2),fe=ge[0],ve=ge[1],xe=Object(r.useState)(!1),pe=Object(d.a)(xe,2),me=pe[0],Ce=pe[1],ye=Object(r.useState)(null),Se=Object(d.a)(ye,2),Ve=Se[0],Ne=Se[1],Te=Object(r.useState)({}),ke=Object(d.a)(Te,2),Pe=ke[0],Me=ke[1],Ae=function(e){var t=e.xVariable,n=e.yVariable,a=e.reverseX,r=e.reverseY,i=e.sizeVariable,c=e.colorVariable,o=e.labelVariable,l=e.labelsOnTheSide,u=e.colorScaleType,b=e.rotateMode,d=e.searchString,j=e.colorPalette,h=e.filters,O=void 0===h?[]:h,g=e.filtersModeAnd;if(y(t),k(n),z(a),_(r),X(i),q(c),oe(u),W(o),Ce(b),v(d),Q(l),ve(O),he(g),j&&U===c)ae(j);else if(c||ce!==u){var f=U&&"default"!==U?V(U,s[U].options.length):void 0;if(f){var x=V(c,s[c].options.size),p=0;s[c].options.forEach((function(e){f[e]=x[p],p++}))}else ae(void 0);ae(f)}else ne&&ae(void 0)};Object(r.useEffect)((function(){if(!Ve&&Object.keys(Pe).length){var e=Object.keys(Pe)[0];Ne(e),Ae(Pe[e])}}),[Pe,Ve]);return Object(a.jsx)(se.a.Provider,{value:{onVisualizationUpdate:Ae,onRegisterVisualization:function(e,t){Me(Object(l.a)(Object(l.a)({},Pe),{},Object(x.a)({},e,t)))},onUnregisterVisualization:function(e){var t=Object(l.a)({},Pe);delete t[e],Me(t)},focusedVisualizationId:Ve,setFocusedVisualizationId:Ne,visualizationParams:{xVariable:C,yVariable:T,reverseX:A,reverseY:R,sizeVariable:E,colorVariable:U,labelVariable:J,labelsOnTheSide:K,rotateMode:me,searchString:f,colorPalette:ne,colorScaleType:ce,filters:fe,filtersModeAnd:de}},children:Object(a.jsxs)("div",{className:"slide-container",children:[Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:Object(a.jsx)("button",{className:j?"is-active":"",onClick:function(){return h(!j)},children:"Comment modifier cette page ?"})}),Object(a.jsxs)("ol",{className:"edit-help ".concat(j?"is-active":""),children:[Object(a.jsx)("li",{children:"Pr\xe9alablement se logger dans github si le r\xe9pertoire est priv\xe9"}),Object(a.jsxs)("li",{children:["Se rendre sur ",Object(a.jsx)("a",{target:"blank",href:i,children:"cette page du r\xe9pertoire github"})]}),Object(a.jsx)("li",{children:'Cliquer sur le crayon en haut \xe0 droite des contenus (il affiche "edit" au survol)'}),Object(a.jsx)("li",{children:'Faire les modifications puis cliquer sur "Commit changes" en bas de la page'}),Object(a.jsx)("li",{children:"Attendre 2 minutes puis recharger la page pour voir la version \xe0 jour de la page"})]})]}),Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)("div",{children:"Chargement"}),children:Object(a.jsx)(t,{})}),Object(a.jsx)(le,{prevPage:c,nextPage:o})]}),Object(a.jsx)("aside",{children:Object(a.jsx)("div",{className:"vis",children:Object(a.jsx)(je,Object(l.a)({},{data:n,filtersOptions:s,xVariable:C,reverseX:A,yVariable:T,reverseY:R,sizeVariable:E,colorVariable:U,labelVariable:J,labelsOnTheSide:K,colorPalette:ne,colorScaleType:ce,rotateMode:me,searchString:f,filtersModeAnd:de,filters:fe,onToggleFiltersModeAnd:function(){return he(!de)},onFiltersChange:function(e){return ve(e)},onSearchStringChange:function(e){v(e)},onToggleRotateMode:function(){return Ce(!me)},onXVariableChange:function(e){return y(e)},onYVariableChange:function(e){return k(e)},onToggleReverseX:function(){return z(!A)},onToggleReverseY:function(){return _(!R)},onColorVariableChange:function(e){return q(e)},onSizeVariableChange:function(e){return X(e)},onLabelVariableChange:function(e){return W(e)},onToggleLabelsOnTheSide:function(e){return Q(e)},onColorPaletteChange:function(e){return ae(e)},onColorScaleTypeChange:function(e){return oe(e)}}))})})]})})},Oe=n(368);function ge(e){var t=e.xVariable,n=e.xLabelVariable,i=e.graphType,c=e.yVariable,o=e.colorVariable,s=e.useRelativeScale,u=e.onToggleFiltersModeAnd,b=e.filtersModeAnd,j=e.onFiltersChange,h=e.filters,O=e.onToggleUseRelativeScale,g=e.onGraphTypeChange,f=e.onXVariableChange,v=e.onXLabelVariableChange,x=e.onYVariableChange,p=e.onColorVariableChange,m=e.onColorPaletteChange,C=e.filtersOptions,y=e.colorPalette,S=Object(r.useState)(!0),V=Object(d.a)(S,2),N=V[0],T=V[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){return T(!N)},className:D()("minify-button",{"is-active":!N}),children:"\xe9diter"}),Object(a.jsxs)("ul",{className:D()("VisControls",{"is-minified":N}),children:[Object(a.jsx)("li",{className:"vis-controls-item",children:Object(a.jsx)(G,Object(l.a)({},{options:C,variables:[{title:"Type de graphe",onChange:g,localOptions:[["linegraph",{title:"lignes"}],["histogram",{title:"histogramme"}]],value:i,type:"string"},{title:"Variable des X",onChange:f,value:t,type:"number"},{title:"Label des X",onChange:v,value:n,type:"string"},{title:"Label des Y",onChange:x,value:c,type:"number"},{title:"Utiliser une \xe9chelle relative pour les Y quand filtr\xe9",onChange:O,value:s,type:"boolean"},{title:"Couleur des points",onChange:p,value:o,type:"color"}]}))}),Object(a.jsx)("li",{className:"vis-controls-item",children:Object(a.jsx)(q,Object(l.a)({},{onToggleFiltersModeAnd:u,filtersModeAnd:b,filtersOptions:C,onFiltersChange:j,filters:h}))}),o&&"default"!==o?Object(a.jsx)(W,{colorPalette:y,onChange:m}):null]})]})}n(343);var fe=n(23);function ve(e){var t,n,i=e.width,c=e.height,o=e.data,s=e.xVariable,u=e.xLabelVariable,b=e.reverseX,j=e.yVariable,h=e.reverseY,O=e.sizeVariable,g=e.colorVariable,f=e.labelVariable,v=e.colorPalette,m=e.searchString,C=void 0===m?"":m,y=e.graphType,S=void 0===y?"linegraph":y,N=e.useRelativeScale,T=e.onSearchStringChange,k=e.filtersOptions,P=void 0===k?{}:k,M=e.onToggleFiltersModeAnd,z=e.filtersModeAnd,L=e.onFiltersChange,F=e.filters,R=e.onXVariableChange,_=e.onXLabelVariableChange,w=e.onYVariableChange,D=e.onColorVariableChange,E=e.onSizeVariableChange,X=e.onLabelVariableChange,Y=e.onToggleReverseX,I=e.onToggleReverseY,q=e.onColorPaletteChange,G=e.onGraphTypeChange,B=e.onToggleUseRelativeScale,J=i,W=c,Z=J/10,H=[Z,J-Z/2],K=[W-Z,Z],Q=Object(r.useMemo)((function(){return o.reduce((function(e,t){var n="default"===u?s:u;return Object(l.a)(Object(l.a)({},e),{},Object(x.a)({},t[s],t[n]))}),{})}),[o,s,u]),$=[[void 0,o]];if(g&&($=Array.from(Object(Oe.a)(o,(function(e){return e[g]})))),$=$.map((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return[n,Array.from(Object(Oe.a)(a,(function(e){return e[s]}))).map((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return{x:+n,y:a.reduce((function(e,t){return e+ +t[j]}),0),filteredY:a.filter((function(e){return!F.length||Object(ee.e)(e,F,z)})).reduce((function(e,t){return e+ +t[j]}),0),xValue:n}}))]})),"histogram"===S){var te=$.reduce((function(e,t){var n=Object(d.a)(t,2),a=n[0];return n[1].reduce((function(e,t){var n=t.x,r=Object(l.a)(Object(l.a)({},t),{},{color:a});return Object(l.a)(Object(l.a)({},e),{},Object(x.a)({},n,e[n]?[].concat(Object(U.a)(e[n]),[r]):[r]))}),e)}),{});$=Object.entries(te)}var ne,ae,re=N?"filteredY":"y";if("linegraph"===S){var ie=Object(p.a)($.reduce((function(e,t){var n=Object(d.a)(t,2),a=(n[0],n[1]);return[].concat(Object(U.a)(e),Object(U.a)(a.map((function(e){return e.x}))))}),[]));t=Object(A.a)().range(H).domain(ie),n=Object(A.a)().range(K).domain([0,Object(fe.max)($.map((function(e){var t=Object(d.a)(e,2),n=(t[0],t[1]);return Object(fe.max)(n.map((function(e){return e[re]})))})))]).nice()}else if("histogram"===S){var ce=Object(p.a)($.map((function(e){return+Object(d.a)(e,1)[0]})));t=Object(A.a)().range(H).domain(ce),ne=Object(fe.uniqBy)($,(function(e){return e[0]})),n=Object(A.a)().range(K).domain([0,Object(fe.max)($.map((function(e){var t=Object(d.a)(e,2);t[0];return t[1].reduce((function(e,t){return e+t[re]}),0)})))]).nice()}if(F.length&&g){var oe=F.filter((function(e){return e.attribute===g}));"linegraph"===S?$=$.filter((function(e){var t=Object(d.a)(e,2),n=t[0];t[1];return!oe||(z?!(void 0!==oe.find((function(e){e.attribute;var t=e.value;return n!==""+t}))):void 0!==oe.find((function(e){e.attribute;var t=e.value;return n===""+t})))})):"histogram"===S&&($=$.reduce((function(e,t){var n=Object(d.a)(t,2),a=n[0],r=n[1];if(oe){var i=r.filter((function(e){return z?!(void 0!==oe.find((function(e){e.attribute;var t=e.value;return t.color!==""+t}))):void 0!==oe.find((function(e){e.attribute;var t=e.value;return t.color===""+t}))}));return i.length?[].concat(Object(U.a)(e),[[a,i]]):e}return[].concat(Object(U.a)(e),[[a,r]])}),[]))}if(v)ae=v;else if(g&&"default"!==g){var le=V(g,P[g].options.length);ae=P[g].options.reduce((function(e,t,n){return Object(l.a)(Object(l.a)({},e),{},Object(x.a)({},t,le[n]))}),{})}var se,ue,be=function(e){return ae?ae[e]:"grey"};return C.length&&f&&(se=new Set,o.forEach((function(e,t){e[f].toLowerCase().includes(C)&&se.add(t)}))),b&&(H=H.reverse()),h&&(K=K.reverse()),"histogram"===S&&($=($=$.map((function(e){var t=Object(d.a)(e,2);return[t[0],t[1].sort((function(e,t){return e.color>t.color?1:-1})).reduce((function(e,t,n){var a=n>0?e[n-1]:void 0,r=a?+a.y+(a.yDisplace||0):0,i=Object(l.a)(Object(l.a)({},t),{},{yDisplace:r,y:+t.y,x:+t.x});return[].concat(Object(U.a)(e),[i])}),[])]}),[])).sort((function(e,t){return+e[0]>+t[0]?1:-1})),ue=Object(A.a)().range([Z,W-2*Z]).domain([0,Object(fe.max)($.map((function(e){var t=Object(d.a)(e,2);t[0];return t[1].reduce((function(e,t){return e+t.y}),0)})))]).nice(),n.domain([0,Object(fe.max)($.map((function(e){var t=Object(d.a)(e,2);t[0];return t[1].reduce((function(e,t){return e+t.y}),0)})))]).nice()),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("svg",{className:"linear-graph",width:J,height:W,children:Object(a.jsxs)("g",{children:["linegraph"===S?$.map((function(e){var r=Object(d.a)(e,2),i=r[0],c=r[1],o=t(c[0].x),l=n(c[0].y),s=g?be(i):"grey",u="M ".concat(o," ").concat(l," ").concat(c.reduce((function(e,a){var r=a.x,i=a.y;return"".concat(e," L ").concat(t(r)," ").concat(n(i))}),""));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("path",{d:u,fill:"transparent",stroke:g?s:"grey"},i),c.map((function(e,r){var i=e.x,c=e.y;return Object(a.jsx)("circle",{cx:t(i),cy:n(c),fill:s,r:2},r)}))]})})):Object(a.jsx)("g",{className:"histogram-objects",children:$.map((function(e,n){var r=Object(d.a)(e,2),i=(r[0],r[1]);return Object(a.jsx)("g",{className:"x-group",children:i.map((function(e,n){var r=e.x,i=e.y,c=e.yDisplace,o=e.color;return Object(a.jsx)("rect",{x:t(r),y:W-ue(c)-ue(i),width:(J-4*Z)/ne.length,height:ue(i),fill:be(o)},n)}))},n)}))}),Object(a.jsxs)("g",{className:"left-axis",children:[n.ticks&&n.ticks().map((function(e){var t=Z/2;return Object(a.jsxs)("g",{children:[Object(a.jsx)("text",{textAnchor:"end",x:t,y:n(e),children:e}),Object(a.jsx)("line",{x1:t+Z/4,y1:n(e),x2:Z,y2:n(e),stroke:"black"})]},e)})),Object(a.jsx)("line",{stroke:"black",y1:Z,y2:W-Z,x1:Z,x2:Z})]}),Object(a.jsxs)("g",{className:"bottom-axis",children:[Object(a.jsx)("line",{stroke:"black",y1:W-Z,y2:W-Z,x1:Z,x2:J-Z/2}),t.ticks&&t.ticks().map((function(e){var n=W-.75*Z;return Object(a.jsxs)("g",{children:[Object(a.jsx)("g",{transform:"translate(".concat(t(e)," ").concat(n,")"),children:Object(a.jsx)("g",{transform:"rotate(-45)",children:Object(a.jsx)("text",{textAnchor:"end",children:Q[e]})})}),Object(a.jsx)("line",{y1:W-Z,y2:n-.1*Z,x1:t(e),x2:t(e),stroke:"black"})]},e)}))]})]})}),Object(a.jsx)(ge,Object(l.a)({},{xVariable:s,xLabelVariable:u,yVariable:j,reverseX:b,reverseY:h,sizeVariable:O,colorVariable:g,labelVariable:f,graphType:S,useRelativeScale:N,searchString:C,onSearchStringChange:T,onXVariableChange:R,onXLabelVariableChange:_,onYVariableChange:w,onColorVariableChange:D,onSizeVariableChange:E,onLabelVariableChange:X,onToggleReverseX:Y,onToggleReverseY:I,onColorPaletteChange:q,onToggleUseRelativeScale:B,onGraphTypeChange:G,onToggleFiltersModeAnd:M,filtersModeAnd:z,onFiltersChange:L,filters:F,filtersOptions:P,colorPalette:ae}))]})}function xe(e){return Object(a.jsx)("div",{className:"VisContainer LinearGraphContainer",children:Object(a.jsx)(R.a,{children:function(t){return Object(a.jsx)(ve,Object(l.a)({},Object(l.a)(Object(l.a)({},e),t)))}})})}var pe=function(e){var t=e.Content,n=e.contentsURL,i=e.prevPage,c=e.nextPage,o=Object(r.useState)(!1),l=Object(d.a)(o,2),s=l[0],u=l[1];return Object(a.jsxs)("div",{className:"slide-container without-visualization",children:[Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:Object(a.jsx)("button",{className:s?"is-active":"",onClick:function(){return u(!s)},children:"Comment modifier cette page ?"})}),Object(a.jsxs)("ol",{className:"edit-help ".concat(s?"is-active":""),children:[Object(a.jsx)("li",{children:"Pr\xe9alablement se logger dans github si le r\xe9pertoire est priv\xe9"}),Object(a.jsxs)("li",{children:["Se rendre sur ",Object(a.jsx)("a",{target:"blank",href:n,children:"cette page du r\xe9pertoire github"})]}),Object(a.jsx)("li",{children:'Cliquer sur le crayon en haut \xe0 droite des contenus (il affiche "edit" au survol)'}),Object(a.jsx)("li",{children:'Faire les modifications puis cliquer sur "Commit changes" en bas de la page'}),Object(a.jsx)("li",{children:"Attendre 2 minutes puis recharger la page pour voir la version \xe0 jour de la page"})]})]}),Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)("div",{children:"Chargement"}),children:Object(a.jsx)(t,{})}),Object(a.jsx)(le,{prevPage:i,nextPage:c})]}),Object(a.jsx)("aside",{})]})},me=[{title:"Introduction",route:"/introduction",contents:"00_home.mdx",Component:pe},{title:"1. Couverture m\xe9dias",route:"/01-couverture-media",contents:"01_couverture_media.mdx",Component:pe},{title:"2. D\xe9tecter les critiques",route:"/02-detect-critic",contents:"02_detectcritic.mdx",Component:pe},{title:"3. Graphe clusters",route:"/03-graph-clusters",contents:"03_graphclusters.mdx",data:"Graph_Critic_EN_algopress_webV2.gexf",Component:ue},{title:"4. \xc9volution de l'agenda m\xe9diatique",route:"/04-timeline-clusters",contents:"04_timelineclusters.mdx",Component:pe},{title:"5. Topologie du r\xe9seau",route:"/05-topologie",contents:"05_toporobotalgo.mdx",data:"Graph_Critic_EN_algopress_webV2.gexf",Component:ue},{title:"6. Agents calculateurs",route:"/06-agents",contents:"06_explore_entities.mdx",data:"Graph_Critic_EN_algopress_webV2.gexf",Component:ue},{title:"7. Verbes de troubles",route:"/07-verbs",contents:"07_IssueVERB.mdx",data:"df_AB_tfidf_verbs_freq_count.csv",Component:he},{title:"8. Temporalit\xe9",route:"/08-temporalite",contents:"08_NERdate.mdx",Component:function(e){var t=e.Content,n=e.data,i=e.contentsURL,c=e.prevPage,o=e.nextPage,s=Object(r.useMemo)((function(){return Object(ee.d)("table",n)}),[n]),u=Object(r.useState)(!1),b=Object(d.a)(u,2),j=b[0],h=b[1],O=Object(r.useState)(""),g=Object(d.a)(O,2),f=g[0],v=g[1],p=Object(r.useState)(void 0),m=Object(d.a)(p,2),C=m[0],y=m[1],S=Object(r.useState)(void 0),N=Object(d.a)(S,2),T=N[0],k=N[1],P=Object(r.useState)(void 0),M=Object(d.a)(P,2),A=M[0],z=M[1],L=Object(r.useState)(!1),F=Object(d.a)(L,2),R=F[0],_=F[1],w=Object(r.useState)(!1),D=Object(d.a)(w,2),E=D[0],X=D[1],Y=Object(r.useState)(void 0),I=Object(d.a)(Y,2),U=I[0],q=I[1],G=Object(r.useState)(void 0),B=Object(d.a)(G,2),J=B[0],W=B[1],Z=Object(r.useState)(void 0),H=Object(d.a)(Z,2),K=H[0],Q=H[1],$=Object(r.useState)(void 0),te=Object(d.a)($,2),ne=te[0],ae=te[1],re=Object(r.useState)("linegraph"),ie=Object(d.a)(re,2),ce=ie[0],oe=ie[1],ue=Object(r.useState)(void 0),be=Object(d.a)(ue,2),de=be[0],je=be[1],he=Object(r.useState)(!1),Oe=Object(d.a)(he,2),ge=Oe[0],fe=Oe[1],ve=Object(r.useState)([]),pe=Object(d.a)(ve,2),me=pe[0],Ce=pe[1],ye=Object(r.useState)(null),Se=Object(d.a)(ye,2),Ve=Se[0],Ne=Se[1],Te=Object(r.useState)({}),ke=Object(d.a)(Te,2),Pe=ke[0],Me=ke[1],Ae=function(e){var t=e.xVariable,n=e.xLabelVariable,a=e.yVariable,r=e.reverseX,i=e.reverseY,c=e.sizeVariable,o=e.colorVariable,l=e.labelVariable,u=e.searchString,b=e.colorPalette,d=e.graphType,j=e.useRelativeScale,h=e.filters,O=void 0===h?[]:h,g=e.filtersModeAnd;if(y(t),k(n),z(a),_(r),X(i),q(c),W(o),Q(l),v(u),oe(d),je(j),Ce(O),fe(g),b&&J===o)ae(b);else if(o){var f=o&&"default"!==o?V(o,s[o].options.length):void 0,x={},p=0;s[o].options.forEach((function(e){x[e]=f[p],p++})),ae(x)}else ne&&ae(void 0)};Object(r.useEffect)((function(){if(!Ve&&Object.keys(Pe).length){var e=Object.keys(Pe)[0];Ne(e),Ae(Pe[e])}}),[Pe,Ve]);return Object(a.jsx)(se.a.Provider,{value:{onVisualizationUpdate:Ae,onRegisterVisualization:function(e,t){Me(Object(l.a)(Object(l.a)({},Pe),{},Object(x.a)({},e,t)))},onUnregisterVisualization:function(e){var t=Object(l.a)({},Pe);delete t[e],Me(t)},focusedVisualizationId:Ve,setFocusedVisualizationId:Ne,visualizationParams:{graphType:ce,useRelativeScale:de,xVariable:C,xLabelVariable:T,yVariable:A,reverseX:R,reverseY:E,sizeVariable:U,colorVariable:J,searchString:f,colorPalette:ne,filters:me,filtersModeAnd:ge}},children:Object(a.jsxs)("div",{className:"slide-container",children:[Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:Object(a.jsx)("button",{className:j?"is-active":"",onClick:function(){return h(!j)},children:"Comment modifier cette page ?"})}),Object(a.jsxs)("ol",{className:"edit-help ".concat(j?"is-active":""),children:[Object(a.jsx)("li",{children:"Pr\xe9alablement se logger dans github si le r\xe9pertoire est priv\xe9"}),Object(a.jsxs)("li",{children:["Se rendre sur ",Object(a.jsx)("a",{target:"blank",href:i,children:"cette page du r\xe9pertoire github"})]}),Object(a.jsx)("li",{children:'Cliquer sur le crayon en haut \xe0 droite des contenus (il affiche "edit" au survol)'}),Object(a.jsx)("li",{children:'Faire les modifications puis cliquer sur "Commit changes" en bas de la page'}),Object(a.jsx)("li",{children:"Attendre 2 minutes puis recharger la page pour voir la version \xe0 jour de la page"})]})]}),Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)("div",{children:"Chargement"}),children:Object(a.jsx)(t,{})}),Object(a.jsx)(le,{prevPage:c,nextPage:o})]}),Object(a.jsx)("aside",{children:Object(a.jsx)("div",{className:"vis",children:Object(a.jsx)(xe,Object(l.a)({},{data:n,filtersOptions:s,xVariable:C,xLabelVariable:T,reverseX:R,yVariable:A,reverseY:E,sizeVariable:U,colorVariable:J,labelVariable:K,colorPalette:ne,searchString:f,useRelativeScale:de,graphType:ce,onSearchStringChange:function(e){v(e)},filtersModeAnd:ge,filters:me,onToggleFiltersModeAnd:function(){return fe(!ge)},onFiltersChange:function(e){return Ce(e)},onXVariableChange:function(e){return y(e)},onXLabelVariableChange:function(e){return k(e)},onYVariableChange:function(e){return z(e)},onToggleReverseX:function(){return _(!R)},onToggleReverseY:function(){return X(!E)},onColorVariableChange:function(e){return W(e)},onColorPaletteChange:function(e){return ae(e)},onGraphTypeChange:function(e){return oe(e)},onToggleUseRelativeScale:function(){return je(!de)}}))})})]})})},data:"4average_clusters_unpivoted.csv"}];function Ce(){var e=function(e){var t=e.data,n=e.contentsURL,r=e.Content,i=e.ThatComponent,c=e.prevPage,o=e.nextPage;return Object(a.jsx)(v,{url:t?"".concat("/carnet-algopresse","/data/").concat(t):void 0,children:function(e){return Object(a.jsx)(i,Object(l.a)({},{contentsURL:n,Content:r,prevPage:c,nextPage:o,data:e}))}})};return Object(a.jsx)(s.a,{children:Object(a.jsxs)("div",{id:"wrapper",children:[Object(a.jsx)("nav",{children:Object(a.jsx)("ul",{children:me.map((function(e,t){var n=e.title,r=e.route;return Object(a.jsx)("li",{className:"navitem-container",children:Object(a.jsx)(s.c,{to:r,children:n})},t)}))})}),Object(a.jsx)("main",{children:Object(a.jsxs)(u.d,{children:[me.map((function(t,r){var c=t.route,o=t.contents,l=t.data,s=t.Component,d=r>0?me[r-1]:void 0,j=r<me.length-1?me[r+1]:void 0,h=i.a.lazy((function(){return n(344)("./".concat(o))})),O="".concat(b.a,"/blob/main/src/contents/").concat(o);return Object(a.jsx)(u.b,{path:c,children:e({data:l,contentsURL:O,Content:h,ThatComponent:s,prevPage:d,nextPage:j})},r)})),Object(a.jsx)(u.a,{to:me[0].route})]})})]})})}var ye=function(e){e&&e instanceof Function&&n.e(15).then(n.bind(null,375)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Ce,{})}),document.getElementById("root")),ye()}},[[345,1,2]]]);
//# sourceMappingURL=main.45080dcf.chunk.js.map