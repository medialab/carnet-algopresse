{"version":3,"sources":["helpers/misc.js","contexts.js","contents/fr/citation.mdx","contents/en/citation.mdx","contents/fr/footer.mdx","contents/en/footer.mdx","contents/fr/chapo.mdx","contents/en/headline.mdx","contents/fr/00_home.mdx","contents/fr/01_couverture_media.mdx","contents/fr/02_detectcritic.mdx","contents/fr/03_graphclusters.mdx","contents/fr/04_timelineclusters.mdx","contents/fr/05_toporobotalgo.mdx","contents/fr/06_explore_entities.mdx","contents/fr/07_IssueVERB.mdx","contents/fr/08_NERdate.mdx","contents/fr/references.mdx","contents/en/00_home.mdx","contents/en/01_couverture_media.mdx","contents/en/02_detectcritic.mdx","contents/en/03_graphclusters.mdx","contents/en/04_timelineclusters.mdx","contents/en/05_toporobotalgo.mdx","contents/en/06_explore_entities.mdx","contents/en/07_IssueVERB.mdx","contents/en/08_NERdate.mdx","contents/en/references.mdx","components/LinearGraphBlock/LinearGraphBlock.js","components/LinearGraphBlock/index.js","components/IceCreamBlock/IceCreamBlock.js","components/IceCreamBlock/index.js","components/HorizonBlock/HorizonBlock.js","components/HorizonBlock/index.js","../ /^/.//.*$/ groupOptions: {} namespace object","components/Loader/index.js","components/Loader/Loader.js","components/DataLoader/index.js","components/DataLoader/DataLoader.js","components/Nav/index.js","components/Nav/Nav.js","contents/fr/metadata.js","contents/en/metadata.js","components/GraphAnnotation/hooks.js","components/ControlButton/index.js","components/ControlButton/ControlButton.js","components/FiltersEditor/index.js","components/FiltersEditor/FiltersEditor.js","components/VariablesEditor/index.js","components/VariablesEditor/VariablesEditor.js","components/ColorLegend/ColorLegend.js","components/ColorLegend/index.js","components/GraphAnnotation/GraphControls.js","components/GraphAnnotation/GraphNav.js","components/GraphAnnotation/reducers.js","helpers/palettes.js","components/DebouncedInput/index.js","components/DebouncedInput/DebouncedInput.js","components/GraphAnnotation/GraphContainer.js","components/Header/Header.js","components/Header/index.js","components/Footer/index.js","components/Footer/Footer.js","components/LinearGraphAnnotation/LinearGraphControls.js","components/LinearGraphAnnotation/LinearGraphContainer.js","components/IceCreamAnnotation/IceCreamControls.js","components/IceCreamAnnotation/IceCreamContainer.js","components/HorizonAnnotation/HorizonControls.js","components/HorizonAnnotation/HorizonContainer.js","components/VisualizationController/VisualizationController.js","components/VisualizationController/index.js","components/FooterNav/index.js","components/FooterNav/FooterNav.js","components/GraphAnnotation/GraphAnnotation.js","components/GraphAnnotation/index.js","components/IceCreamAnnotation/index.js","components/IceCreamAnnotation/IceCreamAnnotation.js","components/LinearGraphAnnotation/index.js","components/LinearGraphAnnotation/LinearGraphAnnotation.js","components/HorizonAnnotation/index.js","components/HorizonAnnotation/HorizonAnnotation.js","components/PlainPage/index.js","components/PlainPage/PlainPage.js","summary.js","components/PresentationWrapper/PresentationWrapper.js","components/PresentationWrapper/index.js","helpers/hooks.js","App.js","reportWebVitals.js","index.js","components/VisBlock/VisBlock.js","components/VisBlock/index.js","components/GraphBlock/GraphBlock.js","components/GraphBlock/index.js"],"names":["buildComponentCode","componentName","props","Object","entries","filter","val","undefined","Array","isArray","length","map","key","JSON","stringify","serializeValue","join","trim","buildGraphCode","buildIceCreamScatterPlotCode","buildHorizonScatterPlotCode","buildLinearGraphCode","computeFiltersOptions","type","args","computeTableOptions","computeGraphFiltersOptions","data","columns","reduce","res","options","uniq","d","find","o","isNaN","Number","isInteger","id","title","includes","min","max","graph","gexfData","attrs","DOMParser","parseFromString","querySelectorAll","categories","FORBIDDEN_ATTRS","forEach","attr","getAttribute","push","Set","forEachNode","_node","cat","has","add","evalIfNodeMatches","attributes","filters","filtersModeAnd","attribute","value","cartesianToPolar","x","y","distance","Math","sqrt","radians","atan2","degrees","PI","radiansToDegrees","polarToCartesian","degreesToRadians","cos","sin","transformGeometry","rotate","translate","finalDegrees","newX","newY","VisualizationControlContext","React","createContext","LanguageContext","PresentationContext","readingTime","layoutProps","MDXContent","components","mdxType","parentName","isMDXComponent","tableOfContents","level","children","frontMatter","className","target","rel","href","src","alt","graphType","xVariable","xLabelVariable","yVariable","colorVariable","legend","colorPalette","normalizeY","ratio","displayAllLabels","nodeColorVariable","nodeLabelVariable","labelDensity","reverseY","sizeVariable","labelVariable","rotateMode","colorLabels","colorScaleType","reverseFlickering","LinearGraphBlock","inputProps","ref","useRef","useContext","onVisualizationUpdate","focusedVisualizationId","onRegisterVisualization","onUnregisterVisualization","setFocusedVisualizationId","visualizationParams","presentationMode","useState","setId","copied","setCopied","useEffect","newId","genId","setTimeout","payload","visType","isFocused","VisBlock","onClick","cx","e","preventDefault","stopPropagation","navigator","clipboard","writeText","IceCreamBlock","HorizonBlock","webpackAsyncContext","req","__webpack_require__","Promise","resolve","then","Error","code","ids","all","slice","keys","module","exports","Loader","percentsLoaded","style","width","DataLoader","url","setData","loadingFraction","setLoadingFraction","axios","get","onDownloadProgress","progressEvent","status","loaded","total","inputData","split","pop","csvParse","tsvParse","Nav","lang","routes","onRouteNav","isDeployed","isHidden","activeSectionIndex","route","routeIndex","metadata","usePrevious","current","ControlButton","isActive","FiltersEditor","onToggleFiltersModeAnd","filtersOptions","onFiltersChange","isOpen","setIsOpen","newFilterAttribute","setNewFilterAttribute","newFilterOptions","option","index","newFilters","f","i","onChange","sort","a","b","VariablesEditor","variables","isNotAllDefault","v","localOptions","activeOptions","getOptions","label","newVal","ColorItemHandler","modality","color","isEdited","setEdited","editedColor","setEditedColor","debouncedOnChange","debounce","background","newColor","hex","ColorLegend","SLIDER_MARKS","DebouncedSlider","defaultValue","setValue","step","newValue","marks","GraphControls","rescale","zoomIn","zoomOut","searchString","onSearchStringChange","nodeSizeVariable","onNodeSizeVariableChange","onNodeColorVariableChange","onNodeLabelVariableChange","onLabelDensityChange","onColorPaletteChange","onDisplayAllLabelsChange","isMinified","setIsMinified","onSubmit","placeholder","GraphNav","isLocked","onToggleLock","lockMessage","disabled","DEFAULT_NODE_COLOR","DEFAULT_NODE_SIZE_RANGE","DEFAULT_COLOR_SPACE","cmin","cmax","lmin","lmax","SINGLE_COLOR_PALETTE","generatePalette","name","count","iwanthue","colorSpace","seed","clustering","DebouncedInput","propsValue","propsOnChange","rest","propagateChange","useMemo","handleChange","renderer","getCamera","animatedReset","animatedZoom","animatedUnzoom","GraphContainer","height","labelSize","lockCamera","extents","inputFilters","onCameraUpdate","showNav","onToggleCameraLock","cameraPosition","updateTimestamp","inputColorPalette","onTitleChange","onLegendChange","CELL_HEIGHT_RANGE","CELL_WIDTH_RANGE","labelsMode","setLabelsMode","cellHeightScale","scaleLinear","domain","range","cellWidthScale","nodeSize","values","from","nodeColor","colors","size","palette","edgesMap","m","Map","_source","_target","sourceAttributes","targetAttributes","edge","_edgeAttributes","set","sourceNode","targetNode","previousNodeColor","previousNodeSize","previousNodeLabelVariable","previousLabelDensity","previousSearchString","previousFilters","previousColorPalette","previousFiltersModeAnd","previousDisplayAllLabels","previousLabelsMode","previousLockCamera","nodeReducer","nodeLabel","nodeSizeFactor","nodeSizeScale","renderedNode","hidden","createNodeReducer","edgeReducer","el1","el2","renderedEdge","biggerNode","Color","lighten","rgb","string","createEdgeReducer","container","setRenderer","camera","enable","animate","getState","disable","needToRefresh","settings","actualLabelDensity","cellWidth","cellHeight","labelGrid","cell","displayedLabels","highlightedNodes","displayedLabel","highlightNode","unhighlightNode","toLowerCase","refresh","setContainer","useCallback","node","kill","newRenderer","WebGLRenderer","labelFont","setState","on","state","bind","GraphContainerWithDimensions","dimensions","GraphWrapper","gexf","parse","Graph","sizes","sizeExtent","extent","GraphWrapperWithDimensions","Header","isVisible","graphData","onScrollToTop","inFooter","onScrollToFirstSection","meta","frMetadata","enMetadata","description","creators","generalAuthor","publicationDate","Chapo","contentsCompiled","Helmet","charSet","content","schema","group","people","total2","homepage","itemProp","property","onScroll","preventScroll","Footer","inBottom","LinearGraphControls","useRelativeScale","onToggleUseRelativeScale","onGraphTypeChange","onXVariableChange","onXLabelVariableChange","onYVariableChange","onColorVariableChange","onNormalizeYChange","LinearGraphContainer","getX","getY","reverseX","onSizeVariableChange","onLabelVariableChange","onToggleReverseX","onToggleReverseY","WIDTH","HEIGHT","MARGIN","xRange","yRange","xLabelMap","dict","datum","dataGroups","_id","ys","sum","filteredY","xValue","xMap","res2","transformedValue","xValues","yPropToFilter","xExtent","nice","uniqBy","item","filtersAffectingColor","colorValue","newValues","highlightedIndex","getYHisto","newColorPalette","getColor","reverse","prev","yDisplace","sumFiltered","maxStacked","transform","ticks","tick","textAnchor","x1","y1","x2","y2","stroke","strokeDasharray","firstX","firstY","path","fill","cy","r","fontSize","index2","LinearGraphContainerWithDimensions","IceCreamControls","labelsOnTheSide","onToggleRotateMode","onToggleLabelsOnTheSide","onColorScaleTypeChange","onReverseFlickeringChange","IceCreamContainer","zoomedIndex","setZoomedIndex","enableZoom","setEnableZoom","updateActive","existing","found","smallestDimension","parseInt","MIN_AREA","MAX_AREA","scalePow","getSize","newContinuousColorScale","colorRange","to","continuousColorScale","rotateTransform","transf","point1X","point1Y","point2X","point2Y","point3X","point3Y","point4X","point4Y","points","onMouseEnter","onMouseLeave","radius","xForXAxis","yForXAxis","xForYAxis","yForYAxis","labelX","labelY","pointerStartCoords","opacity","isMatching","isZoomed","IceCreamContainerWithDimensions","HorizonControls","HorizonContainer","LATERAL_MARGIN","visHeight","xScale","barHeight","barY","xAxisValues","axisPropsFromTickScale","tickValue","fontWeight","fontStyle","yScale","barX","barWidth","labelTextAnchor","labelFontSize","transition","HorizonContainerWithDimensions","setCameraPosition","pos","buildImprint","VisualizationController","activeImprint","datasets","visualizations","activeVisualization","setLockCamera","firstInstanceOfEachVisualization","groupBy","imprint","firstInstance","renderVisualization","vis","defaultVisualization","FooterNav","prevPage","nextPage","messages","next","fr","en","GraphAnnotation","Content","contentsURL","helpVisible","setHelpVisible","setSearchString","setFiltersModeAnd","Date","getTime","setUpdateTimeStamp","setFilters","setNodeColorVariable","setColorPalette","setNodeSizeVariable","setNodeLabelVariable","setLabelDensity","setTitle","setLegend","setDisplayAllLabels","hasLoadedFirstVis","setHasLoadedFirstVis","registeredVisualizations","setRegisteredVisualizations","newSearchString","newFiltersModeAnd","newNodeColorVariable","newTitle","newLegend","newDisplayAllLabels","thatId","Provider","copyOfRegistered","fallback","str","IceCreamAnnotation","setXVariable","setYVariable","setReverseX","setReverseY","setSizeVariable","setColorVariable","setLabelVariable","setLabelsOnTheSide","setColorScaleType","setReverseFlickering","setRotateMode","thatXVariable","thatYVariable","thatReverseX","thatReverseY","thatSizeVariable","thatColorVariable","thatLabelVariable","thatLabelsOnTheSide","thatColorScaleType","thatRotateMode","thatSearchString","thatColorPalette","theseFilters","theseFiltersModeAnd","thisTitle","thisLegend","thatReverseFlickering","LinearGraphAnnotation","setXLabelVariable","setGraphType","setUseRelativeScale","setNormalizeY","thatXLabelVariable","thatGraphType","thatUseRelativeScale","thatNormalizeY","finalPalette","HorizonAnnotation","setColorLabels","thatColorLabels","PlainPage","contents","Component","hideInContents","lab","Sections","setVisualizations","sectionsRef","initialData","params","finalParams","sectionIndex","omit","PresentationWrapper","match","createRef","setActiveVisualization","activeVisualizationIndex","setActiveVisualizationIndex","activeSection","setActiveSection","setActiveSectionIndex","setDatasets","history","useHistory","inHeader","setInHeader","setInFooter","useReducer","newState","scrollRef","scrollY","delay","debouncedValue","setDebouncedValue","handler","clearTimeout","useDebounce","useScrollYPosition","_index","encodeURIComponent","buildRouteId","pathname","cur","reject","process","globalFraction","loadedData","catch","newDatasets","console","log","newActiveRouteIndex","newActiveVisualizationIndex","newActiveRoute","newActiveVisualization","DISPLACE_Y","window","innerHeight","getBoundingClientRect","initialSectionY","sectionY","document","body","top","relevantVisualizations","t","visY","handleRouteNav","el","scrollTo","left","behavior","onBlockClick","LANGUAGES","renderRoute","ThatComponent","Edition","onLangChange","inputRoute","lazy","repository","currentData","CurrentComponent","App","setLang","ln","otherLang","pathOtherLang","location","routeItem","component","PresentationContainer","exact","Wrapper","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","inputColorLabels","forwardRef","filterColorPalette","GraphBlock"],"mappings":"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","file":"static/js/main.5625d2cc.chunk.js","sourcesContent":["import { uniq } from \"lodash\";\nimport { min, max } from 'd3-array';\n\nconst serializeValue = val => {\n  if (typeof val === 'string')\n    return `'${val}'`;\n  else if (typeof val === 'object')\n    return JSON.stringify(val);\n  else return val;\n}\n\nconst buildComponentCode = (componentName, props) => `<${componentName} \n  ${Object.entries(props)\n    .filter(([_key, val]) => {\n      return !(val === undefined || val === false || val === '' || (Array.isArray(val) && !val.length))\n    })\n    .map(([key, val]) => `${key}={${serializeValue(val)}}`)\n    .join(' \\n  ')\n    .trim()\n  }\n/>`\n\nexport const buildGraphCode = props => buildComponentCode('GraphBlock', props)\n\nexport const buildIceCreamScatterPlotCode = props => buildComponentCode('IceCreamBlock', props)\nexport const buildHorizonScatterPlotCode = props => buildComponentCode('HorizonBlock', props)\nexport const buildLinearGraphCode = props => buildComponentCode('LinearGraphBlock', props)\n\nexport const computeFiltersOptions = (type, ...args) => {\n  switch (type) {\n    case 'table':\n      return computeTableOptions(...args);\n    case 'graph':\n    default:\n      return computeGraphFiltersOptions(...args);\n  }\n}\n\nconst computeTableOptions = data => {\n  return data.columns.reduce((res, key) => {\n    const options = uniq(data.map(d => d[key]))\n    let type = 'string';\n\n    // if number\n    if (!options.find(o => isNaN(+o))) {\n      if (!options.find(o => !Number.isInteger(+o))) {\n        type = 'integer';\n      } else {\n        type = 'float'\n      }\n    }\n    const props = {\n      id: key,\n      title: key,\n      type,\n      options\n    }\n    if (['float', 'integer'].includes(type)) {\n      props.options = props.options.map(o => +o);\n      props.min = min(props.options);\n      props.max = max(props.options);\n    }\n    return {\n      ...res,\n      [key]: props\n    }\n  }, {})\n}\nexport const computeGraphFiltersOptions = (graph, gexfData) => {\n  const domparser = new DOMParser()\n  const doc = domparser.parseFromString(gexfData, 'application/xml')\n  const attrs = doc.querySelectorAll('attributes.node attribute');\n  const categories = [];\n\n  const FORBIDDEN_ATTRS = ['weight'];\n\n  attrs.forEach(attr => {\n    const id = attr.getAttribute('id');\n    if (FORBIDDEN_ATTRS.includes(id)) return;\n\n    const title = attr.getAttribute('title');\n    const type = attr.getAttribute('type');\n    categories.push({\n      id,\n      title,\n      type,\n      options: new Set()\n    })\n  })\n  graph.forEachNode((_node, props) => {\n    categories.forEach(cat => {\n      if (!cat.options.has(props[cat.id]))\n        cat.options.add(props[cat.id])\n    })\n  })\n  return categories.reduce((res, cat) => ({ ...res, [cat.id]: cat }), {});\n}\n\nexport const evalIfNodeMatches = (attributes, filters, filtersModeAnd) => {\n  if (!filters.length) {\n    return true;\n  }\n  if (filtersModeAnd) {\n    const oneFilterDoesNotMatch = filters.find(({ attribute, value }) => attributes[attribute] !== '' + value) !== undefined;\n    return !oneFilterDoesNotMatch;\n  } else {\n    const oneFilterMatches = filters.find(({ attribute, value }) => attributes[attribute] === '' + value) !== undefined;\n    return oneFilterMatches;\n  }\n}\n\nconst radiansToDegrees = radians => radians * (180 / Math.PI);\nexport const degreesToRadians = degrees => degrees * (Math.PI / 180);\n\nexport const cartesianToPolar = (x, y) => {\n  const distance = Math.sqrt(x * x + y * y);\n  const radians = Math.atan2(y, x);\n  const degrees = radiansToDegrees(radians);\n  return { distance, radians, degrees }\n}\n\nexport const polarToCartesian = (distance, degrees) => {\n  const radians = degreesToRadians(degrees);\n  return {\n    x: distance * Math.cos(radians),\n    y: distance * Math.sin(radians)\n  }\n}\n\nexport const transformGeometry = ({ x, y }, { rotate, translate }) => {\n  const { degrees, distance } = cartesianToPolar(x, y);\n  let finalDegrees = degrees;\n  if (rotate) {\n    finalDegrees += rotate;\n  }\n  let { x: newX, y: newY } = polarToCartesian(distance, finalDegrees);\n  if (translate) {\n    if (translate.x) {\n      newX += translate.x;\n    }\n    if (translate.y) {\n      newY += translate.y;\n    }\n  }\n  return { x: newX, y: newY }\n}\n\nexport function parseQuery(queryString) {\n  const pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n  return pairs.filter((k) => k.length)\n  .reduce((res, input) => {\n    const pair = input.split('=');\n    return {\n      ...res,\n      [decodeURIComponent(pair[0])]: decodeURIComponent(pair[1] || '')\n    };\n  }, {})\n}\n","import React from 'react';\n\nexport const VisualizationControlContext = React.createContext({\n\n})\n\nexport const LanguageContext = React.createContext({\n\n})\n\nexport const PresentationContext = React.createContext({\n\n})\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.22,\"time\":13200,\"words\":44}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h3 {...{\n      \"id\": \"citer-cette-recherche\"\n    }}>{`Citer cette recherche`}</h3>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Crpel, M., Cardon D. (2021). Criticism and prophecy in media coverage of AI. Annual Meeting of the Society for Social Studies of Science (4S), Toronto, Canada.`}</p>\n    </blockquote>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Crpel, M., Cardon D. (2021). Critique de lIA dans la presse. `}<a parentName=\"p\" {...{\n          \"href\": \"https://medialab.github.io/carnet-algopresse/#/publication/fr/\"\n        }}>{`https://medialab.github.io/carnet-algopresse/#/publication/fr/`}</a></p>\n    </blockquote>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"citer-cette-recherche\",\n    level: 3,\n    title: \"Citer cette recherche\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.225,\"time\":13500,\"words\":45}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`To cite this research : `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Crpel, M., Cardon D. (2021). Criticism and prophecy in media coverage of AI. Annual Meeting of the Society for Social Studies of Science (4S), Toronto, Canada.`}</p>\n    </blockquote>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Crpel, M., Cardon D. (2021). Critique de lIA dans la presse. `}<a parentName=\"p\" {...{\n          \"href\": \"https://medialab.github.io/carnet-algopresse/#/publication/fr/\"\n        }}>{`https://medialab.github.io/carnet-algopresse/#/publication/fr/`}</a></p>\n    </blockquote>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.675,\"time\":40500,\"words\":135}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <div className=\"column\">\nCes travaux de recherche ont t raliss dans le cadre de la Chaire Good In Tech : repenser linnovation et les technologies comme moteurs dun monde meilleur pour et par lhumain  place sous lgide de la Fondation du Risque en partenariat avec lInstitut Mines-Tlcom et Sciences Po.\n      <div className=\"logos-container\">\n  <a target=\"blank\" rel=\"noopener\" href=\"https://medialab.sciencespo.fr/\">\n    <img src=\"https://medialab.sciencespo.fr/img/cover-twitter.png\" alt=\"logo mdialab\" />\n  </a>\n  <a target=\"blank\" rel=\"noopener\" href=\"https://www.goodintech.org/?lng=fr\">\n    <img src=\"https://www.goodintech.org/uploads/1580497528960-Logo.png\" alt=\"logo good in tech\" />\n  </a>\n  <a target=\"blank\" rel=\"noopener\" href=\"https://www.imt.fr/\">\n    <img src=\"https://upload.wikimedia.org/wikipedia/commons/b/b0/IMT_logo_2017.png\" alt=\"logo institut mines tlcom\" />\n  </a>\n      </div>\n    </div>\n    <div className=\"column\">\n      <p>{`Auteurs `}<strong parentName=\"p\">{`Maxime Crpel, Dominique Cardon`}</strong></p>\n      <p>{`Traitement de donnes `}<strong parentName=\"p\">{`Yannis Bouachera, Salom Do, Jean-Philippe Cointet, Jean-Marie John-Mathews`}</strong></p>\n      <p>{`Design dinformation `}<strong parentName=\"p\">{`Robin De Mourat, Donato Ricci`}</strong></p>\n      <p>{`Les contenus de ce site sont partags sous la license `}<a parentName=\"p\" {...{\n          \"href\": \"https://creativecommons.org/licenses/by-nc-sa/4.0/\"\n        }}>{`Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) `}</a></p>\n      <p><strong parentName=\"p\"><a parentName=\"strong\" {...{\n            \"href\": \"https://github.com/medialab/carnet-algopresse\"\n          }}>{`Code source de ce site`}</a></strong></p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.55,\"time\":33000,\"words\":110}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <div className=\"column\">\nThis research received funding from Good In Tech Chair, under the Fondation du Risque in partnership with Institut Mines-T el ecom and Sciences Po.\n      <div className=\"logos-container\">\n  <a target=\"blank\" rel=\"noopener\" href=\"https://medialab.sciencespo.fr/\">\n    <img src=\"https://medialab.sciencespo.fr/img/cover-twitter.png\" alt=\"logo mdialab\" />\n  </a>\n  <a target=\"blank\" rel=\"noopener\" href=\"https://www.goodintech.org/?lng=fr\">\n    <img src=\"https://www.goodintech.org/uploads/1580497528960-Logo.png\" alt=\"logo good in tech\" />\n  </a>\n  <a target=\"blank\" rel=\"noopener\" href=\"https://www.imt.fr/\">\n    <img src=\"https://upload.wikimedia.org/wikipedia/commons/b/b0/IMT_logo_2017.png\" alt=\"logo institut mines tlcom\" />\n  </a>\n      </div>\n    </div>\n    <div className=\"column\">\n      <p>{`Authors `}<strong parentName=\"p\">{`Maxime Crpel, Dominique Cardon`}</strong></p>\n      <p>{`Data analysis `}<strong parentName=\"p\">{`Yannis Bouachera, Salom Do, Jean-Philippe Cointet, Jean-Marie John-Mathews`}</strong></p>\n      <p>{`Information design `}<strong parentName=\"p\">{`Robin De Mourat, Donato Ricci`}</strong></p>\n      <p>{`Les contenus de ce site sont partags sous la license `}<a parentName=\"p\" {...{\n          \"href\": \"https://creativecommons.org/licenses/by-nc-sa/4.0/\"\n        }}>{`Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) `}</a></p>\n      <p><strong parentName=\"p\"><a parentName=\"strong\" {...{\n            \"href\": \"https://github.com/medialab/carnet-algopresse\"\n          }}>{`Source Code for this website`}</a></strong></p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.425,\"time\":25500,\"words\":85}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`Ce site prsente une partie des rsultats de travaux raliss dans le cadre du projet  `}<a parentName=\"p\" {...{\n        \"href\": \"https://medialab.sciencespo.fr/activites/algoglitch/\"\n      }}>{`Algoglitch`}</a>{` au mdialab de Sciences Po. Il articule des analyses descriptives et des visualisations de donnes, portant sur un corpus darticles de presse sur le thme de lIA et des algorithmes couvrant une priode de 5 annes aux tats-Unis et au Royaume-Uni. A partir de mthodes de traitement automatique du langage sur un corpus de presse, cette recherche vise  explorer les discours critiques sur lIA dans la sphre mdiatique. `}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.02,\"time\":1200,\"words\":4}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`Headline here (1 paragraph)`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"2 min read\",\"minutes\":1.91,\"time\":114600,\"words\":382}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h2 {...{\n      \"id\": \"introduction\"\n    }}>{`Introduction`}</h2>\n    <p>{`En rendant visible les dbats des experts et des chercheurs autour des enjeux thiques (Jobin et al, 2019,  Mittelstadt, 2019) mais aussi en mdiatisant les controverses qui mergent parfois au sein des communauts dutilisateurs sur les effets ngatifs des technologies de calcul, les mdias contribuent  forger les reprsentations et  dfinir les formes dacceptabilit de lIA dans nos socits. Des travaux ont montr une visibilit croissante du sujet de lIA dans la couverture mdiatique ces dernires annes (Brennen et al, 2018), se concentrant principalement sur les avances technologiques et sur les dveloppements potentiels dans les secteurs du commerce et de lindustrie. Pourtant, les questions thiques et les problmes sociaux, tels que les risques de discrimination, les biais, la vie prive sont des thmatiques galement prsentes au sein de la sphre mdiatique bien que sous-reprsentes.`}</p>\n    <p>{`Notre recherche vise  explorer les discours critiques sur lIA dans la sphre mdiatique : `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Quelles sont les controverses produites par ces technologies qui sont mdiatises dans la presse ? `}</li>\n      <li parentName=\"ul\">{`Quels types dagents techniques et humains sont impliqus dans ces controverses ? `}</li>\n      <li parentName=\"ul\">{`Quels troubles sont-ils accuss de produire dans la socit ?`}</li>\n    </ul>\n    <p>{`A partir de mthode de traitement automatique du langage sur un corpus de presse, nous montrons que le thme de lIA occupe un espace de plus en plus important dans la presse depuis 5 ans. Lespace mdiatique se structure de manire thmatique autour de diffrentes technologies de calcul et domaines dapplications et peut tre divis en deux sous-ensembles smantiques. Lanalyse compare de ces deux espaces smantiques rend compte de `}<strong parentName=\"p\">{`deux rgimes de critique dominants`}</strong>{`, mobilisant une varit dentits techniques et humaines, ainsi que des temporalits et des enjeux diffrents.\nLe premier est fond sur `}<strong parentName=\"p\">{`les injustices produites par les algorithmes`}</strong>{` qui faonnent nos environnements de calcul quotidiens et sont associs  un discours critique portant sur les biais, les discriminations, la surveillance et la censure dont des populations spcifiques sont victimes.\nLe second porte sur `}<strong parentName=\"p\">{`les peurs de lautonomie de lIA et des robots`}</strong>{` qui, en tant quentits techniques autonome et incarnes, sont associes  un discours prophtique, alertant sur notre capacit  contrler ces agents simulant ou dpassant nos capacits physiques et cognitives, mettant ainsi en pril notre scurit physique, notre modle conomique et menaant ainsi lhumanit tout entire.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"introduction\",\n    level: 2,\n    title: \"Introduction\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.16,\"time\":189600,\"words\":632}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"quelle-est-la-couverture-mdiatique-de-lia-\"\n    }}>{`Quelle est la couverture mdiatique de lIA ?`}</h2>\n    <p>{`Notre recherche a consist  extraire un large corpus de 29 342 darticles de presse portant sur  lIA et les algorithmes sur une priode de 5 annes, ralise sur lagrgateur de presse Factiva sur un ensemble de 47 sources de presse gnraliste aux tats unis et au Royaume Uni (27 sources pour USA et 20 sources pour UK).`}</p>\n    <LinearGraphBlock graphType={'histogram'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'default'} title={'Distribution du nombre  d\\'articles sur la requte IA (2015-2019)'} legend={'nombre d\\'articles par mois'} mdxType=\"LinearGraphBlock\" />\n    <p>{`Aujourdhui, le terme dIA est largement utilis pour dsigner des dispositifs de calcul allant de simples algorithmes  des systmes plus complexes bass sur des technologies de deep learning. Afin de donner une dfinition large et oprationnelle de lIA nous utilisons ce terme comme agent de calcul, en considrant toutes les techniques qui, par le biais dun calcul automatis, produisent un rsultat  partir de nimporte quel type de donnes. Cette dfinition large nous permet de comprendre comment les acteurs eux-mmes dfinissent ces technologies et les relient  une pluralit dactivits et dentits socio-techniques (Seaver, 2017).`}</p>\n    <p>{`La distribution temporelle des donnes fait apparatre une augmentation du volume darticles portant sur lIA - telle que dfinie par notre requte (voir section mthode) - sur la priode dobservation. Cette augmentation atteste de la place de plus en plus importante du thme des algorithmes et de lIA dans lespace mdiatique ces dernires annes. Afin de contrler cette augmentation au sein de notre corpus, nous avons compar avec dautres requtes effectues sur la mme priode et des sources identiques, pour lesquelles on attend une distribution stable. Lobservation du volume darticles extraits  partir de notre requte montre une augmentation significative de 163% entre 2015 et 2019 des publications portant sur lIA et les algorithmes alors que les articles consacrs  lart (-9%), la culture (+2%), lconomie (+0%) ou la technologie (+14%) restent relativement stables. `}</p>\n    <p>{`Ce constat dune augmentation de la visibilit croissante du thme de lIA a t observ dans dautres travaux  partir danalyses statistiques portants sur diffrentes sources informationnelles (Perrault et al, 2019). Tout dabord dans presse anglophone,  lchelle mondiale,  partir danalyses statistiques produites par le projet GDELT, on observe une croissance du thme de lIA et des termes associs tels que Deep learning, Machine Learning entre 2017 et 2019. Cette augmentation de la prsence du terme de lIA est aussi largement visible  partir des statistiques de requtes effectues sur le moteur de recherche Google aux USA et analysables via le service Google trends sur la priode allant de 2015  2019. Enfin, le mme constat est galement fait dune augmentation entre 2017 et 2019 de la frquence dapparition des termes AI et Machine Learning dans diffrents corpus de documents issus par exemple dorganisations gouvernementales aux USA, au Canada, et au Royaume Uni, mais galement dans les appels de fonds des entreprises amricaines.`}</p>\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-extraction-de-corpus\">Mthode : Extraction de corpus</h2>\n      <p><strong>Requte utilise sur Factiva</strong> : &quot;artificial intelligence&quot; OR &quot;AI&quot; OR &quot;algorithm<em>&quot; OR &quot;machine learning&quot; OR &quot;deep learning&quot; OR &quot;neural network</em>&quot; -&quot;amnesty international&quot; -&quot;weiwei&quot; -&quot;air india&quot;</p> \n      <p><strong>Priode d&#39;extraction</strong> : du 01/01/2015 au 31/12/2019</p>\n      <p><strong>Volume d&#39;articles extraits</strong> : 29 342 articles</p>\n      <p><strong>Sources UK (n=20)</strong> : Daily Mail, Daily Record, Daily star, Economist, Evening Standard, Evening Times, Express, Guardian, Independent, Mail online, Morning Star, Observer, Sunday Mall, Telegraph, The Mirror, The Sunday Mirror, The Sun, The Sunday Times, The Times, Which</p>\n      <p><strong>Sources USA (n=27)</strong> : ABCNEWS, Barron&#39;s, Business Insider, CBS News, Chicago Tribune, CNN, Dailynews, Forbes, Fox News , Los Angeles Times, MSNBC News, New York Newsday, New York Post, New York Times, Newsweek, Politico, Rochester Democrat Chronicle, Slate, The Huffington Post, The Verge, Time Magazine, USA Today, Vice News, Wall Street Journal Online, Wall Street Journal, Washington Post, Washington Times</p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"quelle-est-la-couverture-mdiatique-de-lia-\",\n    level: 2,\n    title: \"Quelle est la couverture mdiatique de lIA ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.69,\"time\":221400,\"words\":738}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-dtecter-le-discours-critique-dans-les-mdias-\"\n    }}>{`Comment dtecter le discours critique dans les mdias ?`}</h2>\n    <p>{`En sappuyant sur des outils dannotations par apprentissage supervis, un sous corpus darticles produisant un discours critique des algorithmes et de lIA a t constitu. `}</p>\n    <p>{`Dans un premier temps,  partir de lannotation manuelle de 2000 titres darticles de presse jugs critiques, nous avons construit un modle dapprentissage automatique. Ensuite, en ralisant plusieurs itrations, incluant des phases de contrle des rsultats, le modle de dtection des articles critiques a t optimis progressivement (voir section mthode). Tous les titres darticles comportant des arguments ou lments smantiques ngatifs portant explicitement sur une forme de calculateur (algorithme, IA, robot, etc.) ont t annots comme critiques.  linverse ont t annots comme non critiques ou ignors les titres darticles aux noncs neutres, positifs, ambigus ou nvoquant pas directement un calculateur. Par exemple les titres Robocops to replace british bobbies on the streets, police force reveals ou Growth of ai could boost cybercrime and security threats , report warns  ont t annots comme critiques, alors que AI to create more than 7m jobs ou Google so advanced stores will pack your products before youve thought of ordering them ont t annots non critiques. `}</p>\n    <LinearGraphBlock graphType={'histogram'} xVariable={'index'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'type'} colorPalette={{\n      \"not critic\": \"#c5c9c9\",\n      \"critic\": \"#e60c26\"\n    }} filtersModeAnd={true} title={'Distribution du taux d\\'articles critiques et non critiques (2015-2019) '} legend={'Frquence en % des articles critiques et non critiques dtects par le modle'} normalizeY={true} mdxType=\"LinearGraphBlock\" />\n    <p>{`tant donn le travail de sourcing manuel du corpus de dpart et lusage de mthode dannotation par apprentissage supervis, ce corpus ne prtend pas  une quelconque exhaustivit ou reprsentativit. Notre dmarche permet en revanche dapprhender avec la plus large diversit possible les thmes associs  la critique de lIA et des algorithmes. `}</p>\n    <p>{`A partir de ce protocole de catgorisation, un sous corpus de 2 091 articles de presse catgoriss comme critiques a t constitu. Le taux darticles annots comme critiques est de 7,1% en moyenne sur lensemble du corpus et prsente une assez forte stabilit durant la priode observe (cart type de +/- 2,2%). Des travaux portant sur lanalyse de la couverture mdiatique du thme de lIA en Grande Bretagne ont montr quune trs large majorit des publications portaient sur les avances technologiques et les dveloppements dans le secteur conomique, les questions thiques associes au dploiement de ces technologies sont sous reprsents dans la presse (Brennen et al, 2018). `}</p>\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-d-tection-du-discours-critique-par-apprentissage-supervis-\">Mthode : Dtection du discours critique par apprentissage supervis</h2>\n  <p><strong>Modle utilis pour la dtection du discours critique :</strong> FastText - <a href=\"https://fasttext.cc\">https://fasttext.cc</a></p>\n  <p><strong>Corpus d&#39;apprentissage :</strong> 2000 articles annots manuellement via prodigy - <a href=\"https://prodi.gy\">https://prodi.gy</a></p>\n  <p><strong>Rgles de codage des articles :</strong> </p>\n  <ul>\n  <li>Critique : noncs critiques ou rponse  une critique  (champ smantique ou arguments critiques), vocation dun calculateur ( algorithme, IA, robot, etc.). Exemple :  Robots put jobs at risk , \n   Robot lawyers: how humans can fight back </li>\n  <li>Non critique : noncs neutres ou positifs, pas dvocation dun calculateur. Exemple :  AI to &#39;create more than 7m jobs , \n   In the 2020s, artificial intelligence will transform the work of lawyers </li>\n  <li>Ignore : noncs ambigus, pas dvocation dun calculateur. Exemple :  Restaurants are now employing robots  should chefs be worried? ,  Need a lawyer? There&#39;s an algorithm for that </li>\n  </ul>\n  <p><strong>Comparaison des modles de dtection de la critique :</strong></p>\n  <p>Afin de sassurer de la varit et de la prcision des articles diffrents modles dannotation ont t compars et amliors par itrations successives et un contrle manuel systmatique des rsultats produits par ces modles ont t effectus. C&#39;est finalement le modle FastText qui a produit la dtection la plus prcise des articles critiques</p>\n  <p><strong>Rsultats du modle FasText de dtection de la critique : </strong> \n <ul>\n <li>Precision : 0,94</li>\n <li>Recall : 0,79</li>\n <li>F1-score : 0,86</li>\n </ul>\n    \n  Cette approche mthodologique a permis de traiter une large base de donnes qui aurait t difficilement catgorisable manuellement. En revanche, les outils mobiliss de catgorisation automatique par apprentissage supervis comportent un risque potentiel de ne pas dtecter certains articles critiques dans le corpus. Pourtant, les itrations successives rduisent ce biais car les rsultats obtenus  chaque itration montrent un puisement des capacits du modle  dtecter de nouveaux articles critiques. Par ailleurs, des oprations de contrle manuel systmatique de lensemble des rsultats produits par lalgorithme ont permis de sassurer que le sous corpus darticles catgoriss comme critiques ne contenait pas de faux positifs. </p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-dtecter-le-discours-critique-dans-les-mdias-\",\n    level: 2,\n    title: \"Comment dtecter le discours critique dans les mdias ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"9 min read\",\"minutes\":8.27,\"time\":496200,\"words\":1654}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"quels-sont-les-thmes-sur-lesquels-porte-la-critique-\"\n    }}>{`Quels sont les thmes sur lesquels porte la critique ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={.7} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'2991 noeuds, 54062 liens de cooccurrences, couleurs relatives aux clusters, taille des relative frquence des termes dans le corpus '} mdxType=\"GraphBlock\" />\n    <p>{`A partir dune extraction des termes les plus reprsents au sein du contenu des 2 091articles annots comme critiques, on produit un rseau smantique constitu de 2 991 termes (ou suites de termes) relis entre eux par 54 062 liens de cooccurrences. La spatialisation est base sur une variante de lalgorithme Fruchterman Reingold. La position des nuds est optimise par leur appartenance aux clusters dtects automatiquement par lalgorithme de Louvain. La couleur des nuds est relative  chacun des clusters ainsi dtects et leur taille est relative  leur frquence dans le corpus. `}</p>\n    <p>{` partir des termes les plus reprsents au sein de chacun des clusters on peut interprter et nommer les thmes qui structurent lespace smantique de ce corpus darticles critiques de lIA et des algorithmes. La cartographie est constitue de 23 clusters thmatiques de tailles varies qui reprsentent des types de calculateurs ou des domaines dapplication diffrents. Chaque terme est associ  un unique cluster, mme sil peut entretenir des liens de cooccurrence avec dautres termes appartenant  des clusters diffrents. De la mme manire,  chaque article du corpus, en fonction des termes quil contient, lui est associ un cluster. Une premire lecture du rseau consiste  dcrire les thmes les plus prsents au sein du corpus en nombre darticles et den proposer une illustration succincte  partir dexemples de titres prototypiques qui leurs sont associs.`}</p>\n    <p>{`Les deux plus importants clusters du graphe en nombre darticles forment deux ples opposs. `}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Web_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Future_of_AI\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={0.25} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtrage de clusters sur le rseau smantique du contenu des articles critiques sur lIA'} legend={'Clusters Future_of_AI, Web_Algorithms'} mdxType=\"GraphBlock\" />\n    <p>{`Le plus important nomm `}<strong parentName=\"p\">{`Web Algorithms\"`}</strong>{`, reprsentant 22% des articles du corpus critique, comporte des articles qui traitent des troubles produits par les algorithmes du web tels que les techniques de classement du newsfeed de Facebook (`}<em parentName=\"p\">{`Facebook accused of censoring conservatives, report says`}</em>{` - The Guardian - 10/05/16), les recommandations de vidos sur Youtube (`}<em parentName=\"p\">{`YouTube, the Great Radicalizer`}</em>{` - The New York Times - 11/03/18) ou encore les moteurs de recherche comme Google (`}<em parentName=\"p\">{`Google results claim that the Holocaust didnt happen, and company wont change it`}</em>{` - Independent Online - 15/12/16). `}</p>\n    <p>{` lextrmit oppose du rseau, on trouve le second plus important cluster nomm `}<strong parentName=\"p\">{`Future of AI`}</strong>{` qui reprsente 18% des articles du corpus, voquant les risques de lmergence dintelligences artificielles et de machines autonomes imitant ou surpassant les capacits humaines (`}<em parentName=\"p\">{`AI will create useless class of human, predicts bestselling historian`}</em>{` - The Guardian - 20/05/16) ou menaant lhumanit dextinction (`}<em parentName=\"p\">{`End of Humanity ? Artificial Intelligence could destroy us within decades warns expert`}</em>{` - express.co.uk - 15/04/16).`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Facial_Recognition\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Job_Automation\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Killer_Robots\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={0.25} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtrage de clusters sur le rseau smantique du contenu des articles critiques sur lIA'} legend={'Clusters Job_Automation, Facial_Recognition, Killer_Robots'} mdxType=\"GraphBlock\" />\n    <p>{`Parmi les plus importants clusters, on trouve trois autres thmes largement reprsents dans le corpus. `}</p>\n    <p>{`Le cluster `}<strong parentName=\"p\">{`Job automation`}</strong>{` (14% des articles) contient des articles alertant sur les risques de mutation du march de lemploi face  la robotisation et au dploiement de lIA dans le monde du travail (`}<em parentName=\"p\">{`Robots and AI are threatening close to a third of UK jobs, study reveals`}</em>{` - Independent Online - 24/03/17). `}</p>\n    <p>{`Le cluster `}<strong parentName=\"p\">{`Killer robots`}</strong>{` (11% des articles) est constitu darticles sur les risques du dploiement de lIA et de machines autonomes dans le cadre de conflits arms (`}<em parentName=\"p\">{`Top scientists call for ban on killer robots to prevent apocalyptic war`}</em>{` - dailystar.co.uk - 20/08/17). `}</p>\n    <p>{`Enfin, le cluster `}<strong parentName=\"p\">{`Facial recognition`}</strong>{`, qui reprsente 10% des articles du corpus, porte sur diffrents dveloppements des technologies de reconnaissance faciale dans lespace public, dans des logiciels ou sur les plateformes du Web (`}<em parentName=\"p\">{`China is now using facial recognition cameras to monitor Uighur Muslims across the country, report claims`}</em>{` - Mail Online - 15/04/19). `}</p>\n    <p>{`Lensemble de ces 5 plus grands clusters thmatiques domine largement lespace mdiatique car ces derniers constituent 75,6% du total des articles du corpus critique (1581 articles) et reprsentent 46,4% des termes du rseau smantique (1389 termes).`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Autonomous_Cars\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Voice_Assistant\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Sex_Robots\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Health_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Deepfake\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Predictive_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Chatbot\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Game_&_Education\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Profiling_Algorthms\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtrage de clusters sur le rseau smantique du contenu des articles critiques sur lIA'} legend={'Clusters associs entre 1% et 4% des articles du corpus'} mdxType=\"GraphBlock\" />\n    <p>{`Un second ensemble, bien que trs htrogne du point de vue des thmatiques dployes et de leur position au sein du rseau, est constitu de 9 clusters qui reprsentent respectivement entre 1% et 4% du nombre darticles du corpus. Lensemble de ces thmes reprsente 21,6% des articles du corpus (452 articles) et 38 % des termes du rseau smantique (1136 termes). Dans ce sous-ensemble se trouvent les clusters :`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Voice Assistant`}</strong>{` : `}<em parentName=\"li\">{`Googles Nest microphone intensifies privacy concerns`}</em>{` -  `}<em parentName=\"li\">{`The Washington Post`}</em>{` - 25/02/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Autonomous Cars`}</strong>{` : `}<em parentName=\"li\">{`Self-driving cars will need to be programmed to kill their owners, academics warn, and people will have to choose who will die`}</em>{` - Independent Online - 27/10/15`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Sex Robots`}</strong>{` : `}<em parentName=\"li\">{`Sex robots could lead to population crisis as men opt for virtual girlfriends`}</em>{` - Mirror.co.uk - 27/01/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Health_Algorithms`}</strong>{` : `}<em parentName=\"li\">{`Racial bias in a medical algorithm favors white patients over sicker black patients`}</em>{` - `}<em parentName=\"li\">{`The Washington Post`}</em>{`  - 25/10/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Deepfake`}</strong>{` : `}<em parentName=\"li\">{`You thought fake news was bad? Deep fakes are where truth goes to die`}</em>{` -  `}<em parentName=\"li\">{`The Guardian`}</em>{`  - 2/11/18`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Predictive Algorithms`}</strong>{` : `}<em parentName=\"li\">{`Criminal justice software algorithm used across the US is biased against black inmates, study finds`}</em>{` - Independent Online - 27/06/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Chatbot`}</strong>{` : `}<em parentName=\"li\">{`Microsoft deeply sorry after AI becomes Hitler-loving sex robot`}</em>{` - The Telegraph Online - 26/03/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Game and Education`}</strong>{` : `}<em parentName=\"li\">{`Korean Go master quits the game because AI 'cannot be defeated`}</em>{` - CNN Wire - 28/11/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Profiling Algorithms`}</strong>{` : `}<em parentName=\"li\">{`Artificial intelligence can identify gay faces from a picture, study claims`}</em>{` - Independent Online - 08/09/17`}</li>\n    </ul>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Robo-Advisers\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"DeepDream_Nightmares\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Deep_Voice\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Scientific_Research\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Market_&_Prices\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Image_Search\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Email\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Music\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Consumer_&_Copyright\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtrage de clusters sur le rseau smantique du contenu des articles critiques sur lIA'} legend={'Clusters associs entre 0,1% et 0,8% des articles du corpus'} mdxType=\"GraphBlock\" />\n    <p>{`Enfin, le graphe se compose de 9 autres clusters de taille trs rduite, entre 0,8% et 0,1% des articles pour chaque cluster (58 articles au total). Les termes extraits de ces articles reprsentent pourtant 15,6% (466 termes au total) de la totalit des termes du graphe. Ces thmatiques peuvent sapparenter  des signaux faibles dun discours critique sur les algorithmes et lIA dtects par notre mthode dextraction de termes, pourtant sous reprsents en volume darticles. Ces clusters se centrent autour de thmatiques trs spcifiques, voquant parfois des types de calculateurs mais le plus souvent des domaines dapplication :`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Robot-Advisers`}</strong>{` : `}<em parentName=\"li\">{`Mortgage algorithms found to have racial bias`}</em>{` - The Washington Post - 15/11/18`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`DeepDream Nightmares`}</strong>{` : `}<em parentName=\"li\">{`The AI 'nightmare machine: Spooky Google algorithm transforms famous sights into horror scenes`}</em>{` - Mail Online - 25/10/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Deep Voice`}</strong>{` : `}<em parentName=\"li\">{`Creepy AI can clone anyones voice with just one minute of audio`}</em>{` - Mail Online - 25/04/17`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Scientific Research`}</strong>{` : `}<em parentName=\"li\">{`Facebook shuts down chatbot experiment after AIs spontaneously develop their own language`}</em>{` - London Evening Std Online - 01/08/17`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Market and Prices`}</strong>{` : `}<em parentName=\"li\">{`Artificial Intelligence - Beware Algorithms That Could Collude To Unfairly Raise Prices`}</em>{` - The Wall Street Journal - 02/04/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Image Search`}</strong>{` : `}<em parentName=\"li\">{`Three black teenagers: anger as Google image search shows police mugshots`}</em>{` - The Guardian - 10/06/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Email`}</strong>{` : `}<em parentName=\"li\">{`Google expands creepy Gmail AI that can automatically reply to emails for you`}</em>{` - Mail Online - 31/08/18`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Music`}</strong>{` : `}<em parentName=\"li\">{`Why random shuffle feels far from random`}</em>{` - Independent Online - 24/02/15`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Consumer and Copyright`}</strong>{` : `}<em parentName=\"li\">{`Apple is forced to change its App Store search algorithm after it emerged its own products were being ranked significantly higher`}</em>{` - Mail Online - 09/09/19`}</li>\n    </ul>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={.7} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'2991 noeuds, 54062 liens de cooccurrences, couleur relative aux clusters, taille des relative frquence des termes dans le corpus '} mdxType=\"GraphBlock\" />\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-extraction-et-visualisation-du-graphe-de-termes\">Mthode : Extraction et visualisation du rseau de termes</h2>\n      <p><strong>Extraction de termes du corpus : </strong>\nLanalyse smantique du corpus critique a t ralise  partir du logiciel Cortext - <a href=\"https://www.cortext.net\">https://www.cortext.net</a> en effectuant une extraction de termes sur le texte complet des articles (titre, lead paragraph et texte) puis un nettoyage des listes de termes extraites par suppression de stopwords (balises des fichiers vido ou lments de timecode non nettoys dans Factiva). \nLextraction de termes a t ralise  partir de la mthode pigeon holes (favorisant la spcificit des termes et leur occurrence par document) au niveau des phrases. 6000 termes incluant des monogrammes ainsi que les bigrammes et trigrammes ont t extraits. S'il peut paraitre trange que certains termes assez proches ont t conservs, par exemple toutes les variantes de facial recognition, nous avons fait le choix de conserver cette htrognit afin de rendre compte de la diversit des manires de dfinir les agents calculateurs au sein des articles.\n      </p>\n      <p><strong>Spatialisation du rseau smantique et clustering : </strong>\nA partir dune extraction des termes les plus reprsents au sein du contenu des 2 091 articles annots comme critiques, on produit un rseau smantique constitu de 2 991 termes (ou suites de termes) relis entre eux par 54 062 liens de cooccurrences. La spatialisation est base sur une variante de lalgorithme Fruchterman Reingold. La position des nuds est optimise par leur appartenance aux clusters dtects automatiquement par lalgorithme de Louvain. La couleur des nuds est relative  chacun des clusters ainsi dtects et leur taille est relative  leur frquence dans le corpus.</p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"quels-sont-les-thmes-sur-lesquels-porte-la-critique-\",\n    level: 2,\n    title: \"Quels sont les thmes sur lesquels porte la critique ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"3 min read\",\"minutes\":2.38,\"time\":142800,\"words\":476}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-volue-lagenda-mdiatique-\"\n    }}>{`Comment volue lagenda mdiatique ?`}</h2>\n    <LinearGraphBlock graphType={'linegraph'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'topic'} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} filters={[{\n      \"attribute\": \"topic\",\n      \"value\": \"Web_Algorithms\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Future_of_AI\"\n    }]} title={'Distribution du nombre d\\'articles critiques par clusters (2015-2019)'} legend={'Clusters Web_Algorithms, Future_of_AI'} mdxType=\"LinearGraphBlock\" />\n    <p>{`Lanalyse de la distribution temporelle du nombre darticles des dix plus importants clusters sur la priode de 5 annes que couvre le corpus critique laisse apparatre trois profils distincts. On observe une distribution assez stable sur la priode de la rpartition des articles des deux plus grands clusters structurants de la cartographie que sont les Web Algortihms et Future of AI. La distribution de ces deux plus grands clusters montre quil existe une production rgulire darticles critiques sur les troubles lis aux algorithmes du web et aux craintes relatives aux dveloppements futurs de lintelligence artificielle et des robots. Ces thmes concentrent le plus grand nombre darticles et forment deux ples sur lesquels stablit de faon rcurrente un discours critique. `}</p>\n    <LinearGraphBlock graphType={'linegraph'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'topic'} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} filters={[{\n      \"attribute\": \"topic\",\n      \"value\": \"Deepfake\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Facial_Recognition\"\n    }]} title={'Distribution du nombre d\\'articles critiques par clusters (2015-2019)'} legend={'Clusters Deepfake, Facial_Recognition'} mdxType=\"LinearGraphBlock\" />\n    <p>{`Un second profil de distribution concerne les clusters Facial recognition et Deepfake qui connaissent une hausse importante du volume darticles publis sur lanne 2019.`}</p>\n    <p>{`Enfin le troisime profil de distribution montre une hausse du nombre darticles qui se concentrent sur les annes 2017 et 2018 et une baisse significative sur lanne 2019. Ce type de distribution concerne les clusters Job Automation, Killer Robots, Autonomous Cars, Sex Robots, Voice Assistant, Predictive Algorithms.`}</p>\n    <LinearGraphBlock graphType={'linegraph'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'topic'} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} filters={[{\n      \"attribute\": \"topic\",\n      \"value\": \"Killer_Robots\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Job_Automation\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Voice_Assistant\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Sex_Robots\"\n    }]} title={'Distribution du nombre d\\'articles critiques par clusters (2015-2019)'} legend={'Clusters Job_Automation, Killer_Robots, Sex_Robots, Voice_Assistant'} mdxType=\"LinearGraphBlock\" />\n    <p>{`Il est plus difficile dinterprter ces distributions irrgulires tant donn la mthode dannotation du corpus utilise, mais elles semblent montrer la manire dont la presse, en focalisant son attention sur certaines technologies plutt que dautres, constitue un agenda mdiatique sur lequel se dploie galement un discours critique. Afin de vrifier cette hypothse dune distribution concentre sur des priodes spcifiques, focalisant lattention mdiatique sur certaines technologies, indpendamment de la production dun discours critique, nous avons tent dobserver les distributions de certains termes constitutifs de ces clusters au sein du corpus darticles tiquets comme non-critique. Ces distributions montrent une rpartition similaire  celle observe pour les clusters du corpus critique. Par exemple, les termes relatifs aux deepkakes et  la facial recognition connaissent une frquence dapparition croissante au sein des articles non critiques entre 2018 et 2019. Lensemble des termes associs aux robots sexuels, aux voitures autonomes et assistants vocaux prsents dans le corpus tiquet comme non critique connaissent leur plus forte frquence sur les annes 2017 et 2018 avant de diminuer en 2019. Cette analyse comparative entre la distribution des articles critiques et non critiques ncessite dtre approfondie mais elle semble renforcer lide dun agenda mdiatique, indpendant de la production dun discours critique, se focalisant sur des technologies qui gagnent en visibilit pendant certaines priodes. `}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-volue-lagenda-mdiatique-\",\n    level: 2,\n    title: \"Comment volue lagenda mdiatique ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":4.005,\"time\":240300,\"words\":801}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"que-nous-apprend-la-topologie-du-rseau-\"\n    }}>{`Que nous apprend la topologie du rseau ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={.8} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'2991 noeuds, 54062 liens de cooccurrences, couleurs relatives aux meta-clusters, taille des relative frquence des termes dans le corpus '} mdxType=\"GraphBlock\" />\n    <p>{`La dispersion des clusters dans lespace topologique laisse apparatre une opposition entre deux principaux types de calculateurs. On observe ainsi un dplacement entre la partie droite du graphe qui comporte des articles mettant en scne des techniques de calcul algorithmique incorpores dans lenvironnement de lutilisateur pour guider, orienter ou calculer ses comportements, vers la partie gauche qui comporte des articles qui se caractrisent par la personnification de lIA dans une entit incarne et autonome  lgard des humains.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={.8} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'Filtrage par meta-cluster \"algorithmes\"'} mdxType=\"GraphBlock\" />\n    <p>{`La premire zone  droite concerne exclusivement des algorithmes, quils sagissent des algorithmes du Web comme le fil dactualit de Facebook, la section trending topic de Twitter, les algorithmes de recherche dimages et de sites web de Google. La plupart de ces agents algorithmiques constituent les couches techniques de services dploys dans nos environnements numriques quotidiens. Dautres reprsentent des technologies plus mergentes qui font lobjet de dveloppements et dexprimentations plus localises et rgules tels les algorithmes de police ou de justice prdictive, de dtection des images dans les systmes de reconnaissance faciale ou les deepfakes.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={.8} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'Filtrage par meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`Dans la partie la plus  gauche,  loppos du rseau, les clusters se concentrent autour dagents calculateurs qui sont davantage incarns sous forme de machines ou de robots. Les entits qui peuplent cette zone sont personnifies dans des dispositifs physiques spars de nos quipements numriques habituels que sont nos ordinateurs et nos smartphones. Ces dispositifs sont quips dune capacit dagir autonome via de systmes de calcul bass sur lIA. En simulant  la fois le corps et les capacits cognitives des humains, ils sont en mesure de produire certaines actions sans intervention humaine dans diffrents domaines telles que le transport avec les voitures autonomes, la dfense avec les robots tueurs et les drones, le travail avec lautomatisation des tches ou encore les relations physiques avec les robots sexuels.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Intermed\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={.8} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'Filtrage par meta-cluster \"intermdiaire\"'} mdxType=\"GraphBlock\" />\n    <p>{`Entre ces deux ples, il existe une zone intermdiaire plus difficilement identifiable, constitue de dispositifs  mi-chemin entre les machines autonomes et les algorithmes de nos environnements numriques quotidiens. Parmi les agents calculateurs prsents dans cet espace on retrouve par exemple les assistants vocaux pouvant tre embarqus dans nos smartphone ou dans des dispositifs du type enceinte connectes, les chatbots du Web, les robo-advisors qui sont les algorithmes effectuant des oprations dans le domaine de la finance ou encore des technologies de deep learning comme le dispositif Deep Dream de Google. Ces technologies bien quassez accessibles au grand public sont souvent encore mergentes. Elles ont la capacit de grer un certain nombre de tches parfois basiques de manire autonome mais ne sont pas toujours incarnes dans des dispositifs physiques, elles sont encore le plus souvent implmentes et accessibles via nos ordinateurs et smartphones.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} nodeColorVariable={'algo_robot'} nodeLabelVariable={'cluster_label'} labelDensity={.8} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'Filtrage par meta-clusters \"algorithmes\" et \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`La tendance du graphe  sparer des dispositifs de calcul aux proprits diffrencies, nous amne  explorer ces dimensions de manire plus approfondie. Afin de raliser une analyse comparative entre les deux ples qui se dgagent de lanalyse topologique, le choix a t fait de dcouper le rseau en deux sous-ensembles comparables en volume darticles, de clusters et de termes. Ainsi, lespace intitul Robots compte 52% des articles du corpus et de 9 clusters. Lespace intitul  Algorithmes  reprsente quant  lui 48% des articles et 14 clusters. Par une approche comparative, ce dcoupage en deux sous-ensembles quivalents permet dexplorer les diffrents attributs qui peuplent ces deux espaces smantiques.`}</p>\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-division-du-graphe-et-du-corpus-selon-la-topologie\">Mthode : Division du rseau et du corpus selon la topologie</h2>\n  <p>Pour faciliter une analyse comparative entre l&#39;espace smantique interprt comme li aux &quot;robots&quot; et l&#39;espace li aux &quot;algorithmes&quot; chaque cluster a t associ  l&#39;une ou l&#39;autre de ces catgories. Les deux sous-ensembles sont comparables en volume darticles. </p>\n  <p>L&#39;espace intitul robots compte : </p>\n  <ul>\n  <li>9 clusters</li>\n  <li>52% des articles du corpus (chaque article tant associ  un unique cluster)</li>\n  </ul>\n  <p>Lespace intitul algorithmes compte : </p>\n  <ul>\n  <li>14 clusters</li>\n  <li>48% articles (chaque article tant associ  un unique cluster)</li>\n  </ul>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"que-nous-apprend-la-topologie-du-rseau-\",\n    level: 2,\n    title: \"Que nous apprend la topologie du rseau ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"9 min read\",\"minutes\":8.97,\"time\":538200,\"words\":1794}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"quelles-entits-peuplent-le-rseau-smantique-\"\n    }}>{`Quelles entits peuplent le rseau smantique ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} displayAllLabels={true} nodeColorVariable={'algo_robot'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'2991 noeuds, 54062 liens de cooccurrences, couleurs relatives aux meta-clusters, taille des relative frquence des termes dans le corpus '} mdxType=\"GraphBlock\" />\n    <p>{`Pour mettre en vidence les caractristiques de ces deux espaces de critique, nous avons entrepris didentifier systmatiquement la manire dont sont dsignes les entits techniques, la socit qui les abrite et la faon dont les premiers ont des effets sur la seconde. Tous ces discours critiques cherchent  qualifier la manire dont des Agents produisent des Victimes en exerant un type particulier dopration, ces dernires sont constitutives dun ensemble de troubles rvlant autant de dfis ou denjeux produits par le dploiement des techniques dIA dans nos socits (Cardon, Crpel, 2019).`}</p>\n    <p>{`Afin de diffrencier ces entits au sein du rseau, la plupart des termes, ne souffrants pas trop dambigut (66% des termes du graphe), ont t annots manuellement en dix catgories distinctes. Parmi ces catgories, notre analyse consiste  comparer trois dentre elles qui apparaissent particulirement pertinentes pour diffrencier les deux espaces. La catgorie Technical renvoie  ce que nous avons dsign comme agents calculateurs, elle concerne tous les termes relatifs aux entits techniques tels que les algorithmes, les machines, les fonctionnalits ou services techniques, les terminaux mais galement les technologies issues de startup, parfois difficiles  diffrencier des entits conomiques. La seconde catgorie relative aux agents humains, nomme People, concerne tous les termes dsignant des personnes ou groupes de personnes non nominatives ( la diffrence des catgories Person pour les noms propres et Institutions pour les groupes ou structures ayant une existence juridique). Enfin, la troisime catgorie, nomme Issues, permet didentifier les termes qui dsignent des enjeux, des difficults ou des problmes extraits au sein des articles. `}</p>\n    <h2 {...{\n      \"id\": \"quelles-sont-les-entits-techniques-\"\n    }}>{`Quelles sont les entits techniques ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} labelDensity={0.98} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"techinal\"'} mdxType=\"GraphBlock\" />\n    <p>{`Si lon compare les termes les plus frquents catgoriss en tant quentits techniques, ce qui caractrise la zone  Robots  de notre cartographie est le trs haut degr dintelligence et dautonomie des IA, ainsi que leur capacit  tre incarnes sous la forme de machines. Que ce soit pour la conduite automobile, le sexe, la guerre ou la production industrielle, ces entits techniques sont dotes de capacit dinitiatives autonomes. `}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.98} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"techinal\" et meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`On observe que dans lespace  Robots  les calculateurs renvoient le plus souvent  des dispositifs incarns tels que les `}<em parentName=\"p\">{`robots`}</em>{`, `}<em parentName=\"p\">{`machines`}</em>{`, `}<em parentName=\"p\">{`computers`}</em>{`, `}<em parentName=\"p\">{`cars`}</em>{`, `}<em parentName=\"p\">{`weapons`}</em>{`, `}<em parentName=\"p\">{`drones`}</em>{` ou `}<em parentName=\"p\">{`dolls`}</em>{`. Dautres entits techniques se distinguent car elles renvoient  une dfinition trs abstraite et gnrique des calculateurs qui sont dsigns en tant que `}<em parentName=\"p\">{`system`}</em>{`, `}<em parentName=\"p\">{`artificial intelligence`}</em>{` ou encore comme `}<em parentName=\"p\">{`automation`}</em>{` ou `}<em parentName=\"p\">{`model`}</em>{`.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.98} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"techinal\" et meta-cluster \"algortihmes\"'} mdxType=\"GraphBlock\" />\n    <p>{`En revanche, les entits techniques de la zone  Algorithmes  de notre cartographie sont davantage dfinies comme des parties ou des lments de systmes socio-techniques distribus dans des environnements numriques. Dans cet espace, on retrouve des dnominations abstraites mais ces entits ne constituent pas systmatiquement des objets autonomes (`}<em parentName=\"p\">{`algorithm`}</em>{`, `}<em parentName=\"p\">{`devices`}</em>{`, `}<em parentName=\"p\">{`program`}</em>{`, `}<em parentName=\"p\">{`bot`}</em>{` ou `}<em parentName=\"p\">{`phone`}</em>{`). La majorit des termes se distingue par le fait quelle relve de technologies beaucoup plus spcifiques, renvoyant le plus souvent  des dispositifs technologiques prcis tels que `}<em parentName=\"p\">{`facial recognition`}</em>{`, `}<em parentName=\"p\">{`deepfake`}</em>{`, `}<em parentName=\"p\">{`social network`}</em>{`, `}<em parentName=\"p\">{`chatbot`}</em>{`, `}<em parentName=\"p\">{`criminal justice algortihm`}</em>{` et de manire encore plus spcifique  des fonctionnalits de certains services embarqus dans nos terminaux mobiles ou sur le web, parfois associs  des marques, tels que `}<em parentName=\"p\">{`Siri`}</em>{`, `}<em parentName=\"p\">{`Search engine`}</em>{`, `}<em parentName=\"p\">{`Trending topics`}</em>{`, `}<em parentName=\"p\">{`Google assistant`}</em>{`, `}<em parentName=\"p\">{`Iphone`}</em>{`, `}<em parentName=\"p\">{`recommendation algorithm`}</em>{`, `}<em parentName=\"p\">{`Facebook messenger`}</em>{`, `}<em parentName=\"p\">{`Google images`}</em>{`, `}<em parentName=\"p\">{`image search`}</em>{`. Ces qualifications nisolent pas les IA mais les incorporent dans un environnement sociotechnique dans lequel le calcul joue un rle de plus en plus intense pour assister, trouver de linformation, guider ou prvenir un comportement.`}</p>\n    <h2 {...{\n      \"id\": \"qui-sont-les-agents-humains-\"\n    }}>{`Qui sont les agents humains ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"People\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} labelDensity={0.95} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"people\"'} mdxType=\"GraphBlock\" />\n    <p>{`La catgorie People  partir de laquelle ont t annots les termes dsignant des agents humains, personnes ou groupes de personnes permet dobserver la manire dont est compos le monde social dans lequel les IA ont t introduites. Elle fait apparatre une autre diffrence entre les deux espaces smantiques. `}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"People\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"people\" et meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`Du ct de lespace  Robots  on observe parmi les termes les plus frquents une forte prsence de rfrences  lhumanit, telles que `}<em parentName=\"p\">{`humans`}</em>{`, `}<em parentName=\"p\">{`humankind`}</em>{`, `}<em parentName=\"p\">{`human civilisation`}</em>{`, `}<em parentName=\"p\">{`human driver`}</em>{`, `}<em parentName=\"p\">{`human supervisor`}</em>{`.  la lecture du contenu de certains articles associs  cet espace, on constate que face aux agents calculateurs incarns par des machines, la notion dhumanit est en fait une expression trs gnrique de la socit humaine tout entire sur laquelle ces agents font peser une menace. Dautres termes assez gnriques sont galement prsents dans cet espace mais relvent dune dfinition plus centre sur des domaines dans lesquels les technologies robotiques sont amenes  se dployer, tels que la finance, le march du travail, la dfense et les transports. On retrouve ainsi des termes tels que `}<em parentName=\"p\">{`workers`}</em>{`, `}<em parentName=\"p\">{`customers`}</em>{`, `}<em parentName=\"p\">{`employees`}</em>{`, `}<em parentName=\"p\">{`drivers`}</em>{`, `}<em parentName=\"p\">{`retailers`}</em>{`, `}<em parentName=\"p\">{`soldiers`}</em>{`, `}<em parentName=\"p\">{`passengers`}</em>{`, `}<em parentName=\"p\">{`brokers`}</em>{`, `}<em parentName=\"p\">{`traders`}</em>{`, `}<em parentName=\"p\">{`farmers`}</em>{`.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"People\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.95} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"people\" et meta-cluster \"algorithmes\"'} mdxType=\"GraphBlock\" />\n    <p>{`Lespace associ aux  Algorithmes  est quant  lui peupl de termes beaucoup moins gnriques que dans lespace  Robots . Les agents humains sont ici dsigns de manire beaucoup plus prcise et font rfrence  des personnes mieux identifies. On retrouve ainsi, parmi les termes frquents, des entits faisant rfrence aux plateformes numriques `}<em parentName=\"p\">{`users`}</em>{`, `}<em parentName=\"p\">{`accounts`}</em>{`, `}<em parentName=\"p\">{`Facebook users`}</em>{`, `}<em parentName=\"p\">{`Youtube users`}</em>{`. Les termes qui dsignent ces entits humaines permettent dans la grande majorit des cas de les qualifier en fonction de proprits comme lge (`}<em parentName=\"p\">{`children, child, kids, parents`}</em>{`), le genre (`}<em parentName=\"p\">{`women, men`}</em>{`) lappartenance thique (`}<em parentName=\"p\">{`black people, black patients, african-americans`}</em>{`), lorientation politique (`}<em parentName=\"p\">{`white supremacists, black defendants, illuminati`}</em>{`) ou sexuelle (`}<em parentName=\"p\">{`gays, lesbian, trans people`}</em>{`).`}</p>\n    <p>{`Lanalyse topologique des clusters faisant apparatre une opposition entre les machines ou intelligences autonomes et les environnements numriques algorithmiques, est renforce par cette analyse plus spcifique des termes les plus frquents qui peuplent ces deux espaces. En effet, on observe dans lespace smantique intitul  Robots  une forme dabstraction et dincarnation des agents techniques et une gnricit dans la manire de dsigner les agents humains qui apparaissent comme les victimes des troubles potentiels tels quils sont dnoncs dans les articles critiques.  linverse, dans lespace li aux  Algorithmes , les agents techniques sont davantage spcifis et renvoient le plus souvent  des services ou des fonctionnalits techniques trs prcises qui sont mises en cause dans les articles. Les agents humains associs  ces entits techniques algorithmiques ne rfrent pas  des catgories gnriques comme lhumanit mais sont qualifis par une varit dattributs qui permettent de les identifier de manire beaucoup plus prcise.  `}</p>\n    <h2 {...{\n      \"id\": \"quelles-sont-les-difficults-causes-par-ces-entits-techniques-\"\n    }}>{`Quelles sont les difficults causes par ces entits techniques ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Issue\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"issues\"'} mdxType=\"GraphBlock\" />\n    <p>{`La catgorie intitule Issues permet une lecture compare des termes relatifs aux troubles et aux enjeux qui sont associs aux agents techniques sur lesquels porte la critique. `}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Issue\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"issues\" et meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`Du ct de lespace smantique  Robots , cest laffrontement entre les humains et les IA qui est constamment appel comme enjeu. On observe la prsence de termes tels que `}<em parentName=\"p\">{`attack`}</em>{`, `}<em parentName=\"p\">{`safety`}</em>{`, `}<em parentName=\"p\">{`arms race`}</em>{`, `}<em parentName=\"p\">{`Cold war`}</em>{`, `}<em parentName=\"p\">{`human extinction`}</em>{`, `}<em parentName=\"p\">{`extinction`}</em>{`, `}<em parentName=\"p\">{`natural disasters`}</em>{`, `}<em parentName=\"p\">{`AI-powered horror`}</em>{`, `}<em parentName=\"p\">{`mass extinction`}</em>{`, `}<em parentName=\"p\">{`physical damage`}</em>{`, qui renvoient le plus souvent au registre de la guerre ou de la destruction  lchelle plantaire, faisant peser un risque existentiel sur lavenir de lhumanit (Singler, 2019). Ces menaces font merger des enjeux de contrle de ces technologies autonomes, tels que `}<em parentName=\"p\">{`ban`}</em>{`, `}<em parentName=\"p\">{`petition`}</em>{`, `}<em parentName=\"p\">{`human oversight`}</em>{`, `}<em parentName=\"p\">{`lack of accountability`}</em>{`, `}<em parentName=\"p\">{`superintelligence control problem`}</em>{`, `}<em parentName=\"p\">{`control problem`}</em>{`. Dautres termes relvent de troubles assez visibles dans cet espace smantique associs au remplacement, au dpassement et  une perte de contrle de lhomme par les machines, notamment dans le domaine de lconomie, avec des termes tels que `}<em parentName=\"p\">{`job losses`}</em>{`, `}<em parentName=\"p\">{`surge pricing`}</em>{`, `}<em parentName=\"p\">{`pay gap`}</em>{`.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Issue\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"issues\" et meta-cluster \"algorithmes\"'} mdxType=\"GraphBlock\" />\n    <p>{`Les termes relatifs aux troubles et enjeux constitutifs du sous-ensemble nomm  Algorithmes  laissent apparatre dautres formes de discours de critique davantage imprgnes de rfrences juridiques et lgales. En effet, on trouve dans cette partie du rseau parmi les termes frquents un champ smantique constitu de rfrences juridiques telles que `}<em parentName=\"p\">{`crime`}</em>{`, `}<em parentName=\"p\">{`law enforcement`}</em>{`, `}<em parentName=\"p\">{`Human Rights`}</em>{`, `}<em parentName=\"p\">{`lawsuit`}</em>{`, `}<em parentName=\"p\">{`Civil Liberties`}</em>{`, `}<em parentName=\"p\">{`prejudice`}</em>{`, `}<em parentName=\"p\">{`fraud`}</em>{`, `}<em parentName=\"p\">{`public interest`}</em>{`. Les troubles produits par les agents techniques dnoncs au sein des articles associs  cet espace concernent les discriminations (`}<em parentName=\"p\">{`bias`}</em>{`, `}<em parentName=\"p\">{`biases`}</em>{`, `}<em parentName=\"p\">{`discrimination`}</em>{`, `}<em parentName=\"p\">{`antisemitic`}</em>{`, `}<em parentName=\"p\">{`race or gender`}</em>{`, `}<em parentName=\"p\">{`fair use`}</em>{`, `}<em parentName=\"p\">{`risk score`}</em>{`, `}<em parentName=\"p\">{`liberal bias`}</em>{`), les enjeux de privacy (`}<em parentName=\"p\">{`privacy`}</em>{`, `}<em parentName=\"p\">{`surveillance`}</em>{`, `}<em parentName=\"p\">{`Big Brother`}</em>{`, `}<em parentName=\"p\">{`privacy issues`}</em>{`), les difficults de filtrage ou dexposition  de contenus inappropris (`}<em parentName=\"p\">{`violence`}</em>{`, `}<em parentName=\"p\">{`inappropriate content`}</em>{`, `}<em parentName=\"p\">{`nudity`}</em>{`, `}<em parentName=\"p\">{`age restriction`}</em>{`, `}<em parentName=\"p\">{`violent crime`}</em>{`) et frauduleux (`}<em parentName=\"p\">{`fake news`}</em>{`, `}<em parentName=\"p\">{`misinformaton`}</em>{`, `}<em parentName=\"p\">{`conspiracy theories`}</em>{`, `}<em parentName=\"p\">{`revenge porn`}</em>{`, `}<em parentName=\"p\">{`filter bubble`}</em>{`), ou encore de censure et de libert dexpression (`}<em parentName=\"p\">{`free expression`}</em>{`)`}</p>\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-tagging-des-entit-s-du-graphe\">Mthode : Tagging des entits du graphe</h2>\n      <p>Pour chacun des 2991 termes du rseau une catgorisation manuelle a t ralise  pour diffrencier le type dentits, de sorte que 66% des termes du rseaux ont t catgoriss  partir de 10 catgories distinctes : </p>\n      <ul>\n        <li>Technical (15%) : calculateur, machine, fonctionnalit, device, service technique, dispositifs techniques de startup difficiles  diffrencier de l&#39;entit conomique</li>\n        <li>Company (5%) : entreprises, start-up, domaine d&#39;entreprise</li>\n        <li>Fiction (1%): personnages, films, jeux vido</li>\n        <li>Person (6%) : personnalits politique, mdiatique, recherche, noms propres</li>\n        <li>People (8%) :  personne ou groupe de personnes non nomme</li>\n        <li>Institution (4%) : agence gouvernementale, ONG, association, universit, textes juridiques</li>\n        <li>Locality (1%) : lieux</li>\n        <li>Data_inout (10%) : donnes, traces    </li>\n        <li>Topic (10%) : domaine, thmes</li>\n        <li>Issues (7%) :  enjeux et problmes</li>\n      </ul>\n      <p>Une 11me catgorie rassemble les termes difficilement interprtables et non catgorisables</p>\n      <ul>\n        <li>NC terms (34%) : termes non classs car trop ambigus ou non pertinents </li>\n      </ul>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"quelles-entits-peuplent-le-rseau-smantique-\",\n    level: 2,\n    title: \"Quelles entits peuplent le rseau smantique ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"quelles-sont-les-entits-techniques-\",\n    level: 2,\n    title: \"Quelles sont les entits techniques ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"qui-sont-les-agents-humains-\",\n    level: 2,\n    title: \"Qui sont les agents humains ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"quelles-sont-les-difficults-causes-par-ces-entits-techniques-\",\n    level: 2,\n    title: \"Quelles sont les difficults causes par ces entits techniques ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.705,\"time\":222300,\"words\":741}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport IceCreamBlock from '../../components/IceCreamBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-sont-exprims-les-troubles-produits-par-ces-technologies-\"\n    }}>{`Comment sont exprims les troubles produits par ces technologies ?`}</h2>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} legend={'Taille des noeuds relative  la frquence du terme dans le coprus'} mdxType=\"IceCreamBlock\" />\n    <p>{`Une autre manire de poursuivre cette analyse comparative des troubles et des formes dagentivit associs aux calculateurs consiste en lexploration dune autre entit smantique au sein du corpus darticles que sont les verbes. Aprs avoir ralis une extraction dune liste de verbes interprtables comme tant potentiellement de bons candidats aux troubles produits par les dispositifs techniques, nous avons calcul et compar leur score tf-idf au sein des deux sous-ensembles darticles constitutifs des deux ples mis en vidence par la topologie du rseau.`}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"robot\"\n    }]} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"robots\" - taille des noeuds relative  la frquence du terme dans le coprus'} mdxType=\"IceCreamBlock\" />\n    <p>{`Les verbes dont les scores tf-idf sont les plus importants dans les articles qui composent lespace smantique  Robots  viennent conforter lanalyse des troubles effectue  partir des termes catgoriss comme Issues au sein du graphe. En effet, on observe une plus forte reprsentation de verbes exprimant une menace de la part des machines et intelligences autonomes relevant dun discours prophtique, voire apocalyptique. Parmi les verbes slectionns comme bons candidats  lexpression de troubles ayant les plus importants scores tf-idf, on trouve des verbes qui expriment des notions de destruction (`}<em parentName=\"p\">{`doom`}</em>{`, `}<em parentName=\"p\">{`destroy`}</em>{`, `}<em parentName=\"p\">{`eradicate`}</em>{`, `}<em parentName=\"p\">{`kill`}</em>{`, `}<em parentName=\"p\">{`eliminate`}</em>{`) et de domination des machines sur lhomme (`}<em parentName=\"p\">{`enslave`}</em>{`, `}<em parentName=\"p\">{`dominate`}</em>{`), mais galement de dpassement ou de remplacement des hommes par les ces agents techniques (`}<em parentName=\"p\">{`overtake`}</em>{`, `}<em parentName=\"p\">{`surpass`}</em>{`, `}<em parentName=\"p\">{`replace`}</em>{`, `}<em parentName=\"p\">{`defeat`}</em>{`). Dautres verbes davantage reprsents dans le sous ensemble  Robots  renvoient  des notions de transformation et de changement (`}<em parentName=\"p\">{`reshape`}</em>{`, `}<em parentName=\"p\">{`transform`}</em>{`, `}<em parentName=\"p\">{`disrupt`}</em>{`) ou aux capacits de ces agents techniques  imiter ou simuler les comportements humains (`}<em parentName=\"p\">{`ressemble`}</em>{`, `}<em parentName=\"p\">{`simulate`}</em>{`, `}<em parentName=\"p\">{`reproduce`}</em>{`, `}<em parentName=\"p\">{`mimic`}</em>{`).`}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"algo\"\n    }]} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"algorithmes - taille des noeuds relative  la frquence du terme dans le coprus'} reverseFlickering={true} mdxType=\"IceCreamBlock\" />\n    <p>{`Dans le sous-ensemble darticles associs aux  Algorithmes  on retrouve galement des verbes qui viennent conforter les analyses prcdentes ralises  partir de la catgories Issues dans le rseau de termes. En effet, les verbes qui prsentent les plus hauts scores de tf-idf dans cette partie du corpus renvoient aux questions de filtrage et de censure de linformation (`}<em parentName=\"p\">{`filter`}</em>{`, `}<em parentName=\"p\">{`delete`}</em>{`, `}<em parentName=\"p\">{`supress`}</em>{`, `}<em parentName=\"p\">{`censor`}</em>{`), aux problmes de surveillance et de privacy (`}<em parentName=\"p\">{`profile`}</em>{`, `}<em parentName=\"p\">{`suspect`}</em>{`, `}<em parentName=\"p\">{`spy`}</em>{`, `}<em parentName=\"p\">{`target`}</em>{`, `}<em parentName=\"p\">{`track`}</em>{`),  la dnonciation des formes de discrimination (`}<em parentName=\"p\">{`bias`}</em>{`, `}<em parentName=\"p\">{`discriminate`}</em>{`) ou encore aux phnomnes de propagation et damplification de contenus frauduleux (`}<em parentName=\"p\">{`promote`}</em>{`, `}<em parentName=\"p\">{`amplify`}</em>{`, `}<em parentName=\"p\">{`spread`}</em>{`).`}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} legend={'Taille des noeuds relative  la frquence du terme dans le coprus'} mdxType=\"IceCreamBlock\" />\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-extraction-des-verbes-de-troubles-et-calcul-des-tf-idf-sur-le-corpus\">Mthode : Extraction des verbes de troubles et calcul des TF-IDF sur le corpus</h2>\n      <p>Lanalyse des verbes de troubles a t ralise en effectuant une premire extraction de 1000 verbes sur le texte complet des articles critiques du corpus en employant la mthode pigeon holes via le logiciel Cortext (identique  la mthode d'extraction des termes du graphe). La liste de verbes produite a dabord t manuellement annote afin dextraire une liste de verbes pouvant tre interprts comme des problmes, des difficults ou des troubles. Une liste restreinte de 66 verbes explicitement interprtables comme troubles a t slectionne.\n  \nLe score Tf-idf des verbes est calcul sur les articles des 17 plus importants clusters (suprieur  1% des articles du corpus), composant les deux grands sous-ensembles  Robots  et  Algorithmes  dfinis en suivant la topologie. Il est obtenu  partir du module <a href=\"TfidfTransformer\">https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfTransformer.html</a> en conservant les options par dfaut (intgrant la fonction smooth_idf=True, la constante &quot;1&quot; est ajoute au numrateur et au dnominateur de l&#39;idf comme si l&#39;on voyait un document supplmentaire contenant chaque terme de la collection exactement une fois, ce qui vite les divisions par zro : </p>\n      <blockquote>\n        <p>idf(t) = log [ (1 + n) / (1 + df(t)) ] + 1.</p>\n      </blockquote>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-sont-exprims-les-troubles-produits-par-ces-technologies-\",\n    level: 2,\n    title: \"Comment sont exprims les troubles produits par ces technologies ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"6 min read\",\"minutes\":5.025,\"time\":301500,\"words\":1005}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport IceCreamBlock from '../../components/IceCreamBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-est-exprime-la-temporalit-\"\n    }}>{`Comment est exprime la temporalit ?`}</h2>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} legend={'Taille des noeuds relative  la frquence du terme dans le coprus'} mdxType=\"IceCreamBlock\" />\n    <p>{`Des travaux portant sur les formes argumentatives en sociologie des controverses nous invitent  nous intresser  la manire dont sont dployes les chelles temporelles et les rgimes dnonciation du futur qui leur sont associs (Chateauraynaud, 2013, 2019). Les preuves de cohrence et de crdibilit dans les controverses ncessitent de dfinir des chelles temporelles qui vont venir modifier les jugements. Cest en mobilisant des marqueurs temporels qui articulent des rfrences au pass et une projection  plus ou moins long terme dans le temps que les acteurs sont en mesure de constituer des prises sur le futur qui vont venir moduler le type daction  entreprendre et lurgence  agir pour faire face  une situation. `}</p>\n    <p>{`A partir de notre corpus, nous avons extrait 1000 entits nommes qui sont des marqueurs temporels prsents au sein des articles. De la mme manire que pour les verbes, nous avons calcul leur score tf-idf sur lensemble des articles constituant les deux sous-ensembles intituls  Robots  et  Algorithmes . La liste des entits extraite a t filtre manuellement afin de ne conserver que les marqueurs temporels interprtables en dehors de leur contexte dnonciation. Lanalyse comparative de la distribution entre les deux sous-ensembles des scores tf-idf des marqueurs temporels laisse apparatre deux rgimes distincts de rfrence au temps au sein des deux sous-ensembles darticles. `}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"robot\"\n    }]} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"robots\" - Taille des noeuds relative  la frquence du terme dans le coprus'} mdxType=\"IceCreamBlock\" />\n    <p>{`Du ct des articles associs au sous-ensemble  Robots  les marqueurs de temps relvent dune temporalit sur le long terme, quils fassent rfrence au pass ou au futur. Ainsi la grande majorit des marqueurs se structurent autour dexpressions sur le futur qui mobilisent la figure the next associ  des temporalits qui se comptent souvent en dizaines dannes ou centaines dannes (`}<em parentName=\"p\">{`the next 10 years, the next 30 years, the next 100 years, the next 1,000 years`}</em>{`). Dautre part, les noncs qui ont les plus importants scores dans cet espace ont comme particularit le plus souvent de ne pas dfinir prcisment les chances auxquelles ils renvoient (`}<em parentName=\"p\">{`the next decades, coming decades, next century, this century`}</em>{`). Dautres marqueurs galement prsents dans ce sous-ensemble ne font pas rfrence au futur mais au pass et ils sont caractriss par le fait de rfrer galement  une projection lointaine dans le temps pass (`}<em parentName=\"p\">{`30 years ago, 150 years ago, the last 20 years, the past 25 years, the past 15 years`}</em>{`). Les entits dans ce sous-ensemble ont donc comme particularit de majoritairement exprimer un futur lointain et souvent peu prcis et lorsque les entits font rfrence au pass, elles sont galement projetes dans une temporalit lointaine.`}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"algo\"\n    }]} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"algortihmes\" - Taille des noeuds relative  la frquence du terme dans le coprus'} reverseFlickering={true} mdxType=\"IceCreamBlock\" />\n    <p>{`Au sein du sous-ensemble darticles associs aux  Algorithmes  les marqueurs temporels extraits ayant les scores tf-idf les plus importants se distinguent des prcdents car ils renvoient majoritairement au prsent (`}<em parentName=\"p\">{`this day, these days, that year`}</em>{`),  un pass proche souvent exprim en jour, semaine ou mois (`}<em parentName=\"p\">{`recent days, just last week, a few weeks ago, just a month, six months ago, the end of last year`}</em>{`), mais galement  un futur trs proche en comparaison du premier sous-ensemble (`}<em parentName=\"p\">{`the next day, the next few weeks, the coming weeks, the coming months, the following two years`}</em>{`).`}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} legend={'Taille des noeuds relative  la frquence du terme dans le coprus'} mdxType=\"IceCreamBlock\" />\n    <p>{`Lopposition entre les deux espaces smantiques semble donc dessiner deux rgimes dnonciation distincts qui cohabitent au sein de lespace mdiatique et qui expriment des temporalits diffrentes. Le premier exprime les peurs projetes dans le futur face  des technologies autonomes focalisant la critique sur leur capacit  simuler, dpasser, remplacer ou exterminer  terme lespce humaine et reprsentant une menace quil serait ncessaire de contrler. Lautre rgime est davantage ancr dans une critique sociale plus actuelle, mobilisant le rpertoire du droit et des injustices (censure, discrimination, surveillance) envers des populations spcifiques ou relve denjeux de rgulation quant  la manire de grer la diffusion de linformation (exposition, amplification).`}</p>\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-extraction-des-marqueurs-de-temps-et-calcul-des-tf-idf-sur-le-corpus\">Mthode : Extraction des marqueurs de temps et calcul des TF-IDF sur le corpus</h2>\n      <p>En suivant la mme procdure que pour le calcul des scores tf-idf sur les verbes (voir section mthode prcdente), un travail de comparaison dentits nommes Date a t ralis. Afin de lister ces marqueurs de temps, une premire extraction de 1000 entits nommes \"Date\" via le modle Spacy ralise sur Cortext a t effectue, puis un nettoyage de cette liste afin de conserver les entits les plus interprtables permettant de qualifier une dimension temporelle sans ambigut. Nous avons supprim les entits produisant des ambiguts et moins interprtables comme les dates spcifiques ou chiffres, les dures (ex: several years, winter), les frquences (ex : everyday, weekly), les priodes (the late 1980s) les vnements spcifiques (ex : Christmas). Pour cette liste de 112 entits Date un score de tf-idf a t calcul en suivant la mme procdure que pour les entits verbes, soit une sparation du corpus darticles en deux grands ensembles quivalent suivant la topologie du graphe telle que dcrite prcdemment et un calcul du score tf-idf pour chaque entit  partir du module TfidfTransformer.</p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-est-exprime-la-temporalit-\",\n    level: 2,\n    title: \"Comment est exprime la temporalit ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.985,\"time\":59100,\"words\":197}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h2 {...{\n      \"id\": \"rfrences\"\n    }}>{`Rfrences`}</h2>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`J Scott Brennen. An industry-led debate: How uk media cover artificial intelligence. 2018.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Dominique Cardon, Maxime Crpel, Renuka George. Algorithms and Territorial Regulation. Gouverner la ville numrique, Collge de France; Presses Universitaires de France, 2019, 9782130815259`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Francis Chateauraynaud. Regard analytique sur lactivit visionnaire. Du risque  la menace. Penser la catastrophe, Paris, PUF, pages 309389, 2013.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Francis Chateauraynaud and Josquin Debaz. Agir avant et aprs la fin du monde, dans linfinit des milieux en interaction. Multitudes, (3):126132, 2019.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Anna Jobin, Marcello Ienca, and Effy Vayena. The global landscape of ai ethics guidelines. Nature Machine Intelligence, 1(9):389399, 2019. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Brent Mittelstadt. Principles alone cannot guarantee ethical ai. Nature Machine Intelligence, 1(11):501507, 2019. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Raymond Perrault, Yoav Shoham, Erik Brynjolfsson, Jack Clark, John Etchemendy, Barbara Grosz, Terah Lyons, James Manyika, Saurabh Mishra, and Juan Carlos Niebles. The ai index 2019 annual report. AI Index Steering Committee, Human-Centered AI Institute, Stanford University, Stanford, CA, 2019. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Nick Seaver. Algorithms as culture: Some tactics for the ethnography of algorithmic systems. Big Data & Society, 4(2):2053951717738104, 2017.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Beth Singler. Existential hope and existential despair in AI apocalypticism and transhumanism, Zygon, 54 (1), 156176, 2019.`}</p>\n      </li>\n    </ul>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"rfrences\",\n    level: 2,\n    title: \"Rfrences\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"2 min read\",\"minutes\":1.76,\"time\":105600,\"words\":352}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"introduction\"\n    }}>{`Introduction`}</h1>\n    <p>{`By giving visibility to experts and researchers debates around ethical issues (Jobin et al, 2019; Mittelstadt, 2019), and by broadcasting the controversies that can emerge among communities of users regarding the negative effects of calculation technologies, the media contribute to shaping representations of AI and to defining the ways in which it is acceptable in our societies. Research has shown that in recent years the subject of AI has become increasingly visible in media coverage (Brennen et al, 2018), which focuses primarily on technological advancements and potential developments in the business and industry sectors. Yet, ethical issues and social concerns  such as the risk of discrimination, biases, and privacy  are also present in the media sphere, albeit underrepresented.`}</p>\n    <p>{`Our research seeks to explore critical discourses on AI in the media sphere:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Which controversies produced by these technologies are covered by the press?`}</li>\n      <li parentName=\"ul\">{`What types of technical and human entities are involved in these controversies?`}</li>\n      <li parentName=\"ul\">{`What issues are they accused of producing in society?`}</li>\n    </ul>\n    <p>{`Using natural language processing on a press corpus, we show that the subject of AI has been occupying an increasingly larger space in the press over the past five years. The media space is structured thematically around different calculation technologies and fields of application, and can be divided into two semantic subsets. A comparative analysis of these two semantic spaces reveals two dominant regimes of criticism involving a variety of technical and human entities, as well as different time scales and issues. The first is structured around the injustices produced by the algorithms that shape our everyday calculation environments, which are associated with criticism of the biases, discrimination, monitoring, and censorship of which specific populations are the victims. The second space is structured around fears of the autonomy of AI and robots which, as autonomous and embodied technical entities, are associated with a prophetic discourse drawing attention to our capacity to control these entities capable of simulating or surpassing our physical and cognitive abilities. The threat to our physical safety and economic model, and consequently to all of humanity, is thus highlighted.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"3 min read\",\"minutes\":3,\"time\":180000,\"words\":600}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"what-is-the-media-coverage-of-ai\"\n    }}>{`What is the media coverage of AI?`}</h2>\n    <p>{`Our research consisted in extracting a large corpus of 29,342 press articles on AI and algorithms over a period of 5 years. We did so by means of the press aggregator Factiva applied to a set of 47 general-interest press sources in the United States and United Kingdom (27 in the USA and 20 in the UK).`}</p>\n    <p>{`Today, the term artificial intelligence (AI) is broadly used to refer to calculation devices ranging from simple algorithms to more complex systems based on deep learning technologies. In order to give a broad and functional definition of AI, we will use the term to refer to a calculation entity encompassing all techniques that employ automated calculation to produce a result from any type of data. This broad definition allows us to understand how actors themselves define these technologies and associate them with a variety of activities and sociotechnical entities (Seaver, 2017).`}</p>\n    <p>{`The distribution of the data over time reveals an increase in the volume of articles on AI  as defined by our query (see the Method section)  over the observation period. This increase reflects the increasingly important place granted to the subject of algorithms and AI in the media in recent years. To control for this increase in our corpus, we compared it to other queries made over the same period and identical sources, for which a stable distribution is expected. The volume of articles extracted in our query shows a significant increase (163%) of publications on AI and algorithms between 2015 and 2019, whereas those dedicated to art (-9%), culture (+2%), the economy (+0%), or technology (+14%) have remained relatively stable.`}</p>\n    <LinearGraphBlock graphType={'histogram'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'default'} title={'Statistical distribution of articles retrieved from the AI query (2015-2019)'} legend={'Number of articles per month'} mdxType=\"LinearGraphBlock\" />\n    <p>{`This evident increase in the growing visibility of the subject of AI has been reported in other research based on statistical analyses of different information sources (Perrault et al, 2019). First, in the English-language press worldwide, based on the statistical analyses produced by the GDELT project, we find an increase in the subject of AI and related terms, such as deep learning or machine learning, between 2017 and 2019. This increase in the presence of the term AI is also clearly visible in statistics on Google Search queries in the USA, which can be analysed using Google Trends over the period of 2015 to 2019. Last of all, an increase is similarly found in the frequency of the appearance of the terms AI and machine learning between 2017 and 2019 in different document corpuses, such as those from government organizations in the USA, Canada, and the United Kingdom, as well as in calls for capital by US companies.`}</p>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"method-corpus-extraction\"\n    }}>{`Method: Corpus extraction`}</h2>\n    <p><strong parentName=\"p\">{`Factiva query used:`}</strong>{` artificial intelligence OR AI OR \"algorithm`}<em parentName=\"p\">{` OR \"machine learning OR deep learning OR \"neural network`}</em>{` -\"amnesty international -\"weiwei\" -\"air india\"\n`}<strong parentName=\"p\">{`Extraction period:`}</strong>{` from 01/01/2015 to 12/31/2019\n`}<strong parentName=\"p\">{`Volume of articles extracted:`}</strong>{` 29,342 articles`}</p>\n    <p><strong parentName=\"p\">{`Sources UK (n=20):`}</strong>{` Daily Mail, Daily Record, Daily star, Economist, Evening Standard, Evening Times, Express, Guardian, Independent, Mail online, Morning Star, Observer, Sunday Mall, Telegraph, The Mirror, The Sunday Mirror, The Sun, The Sunday Times, The Times, Which`}</p>\n    <p><strong parentName=\"p\">{`Sources USA (n=27):`}</strong>{` ABCNEWS, Barrons, Business Insider, CBS News, Chicago Tribune, CNN, Dailynews, Forbes, Fox News , Los Angeles Times, MSNBC News, New York Newsday, New York Post, New York Times, Newsweek, Politico, Rochester Democrat Chronicle, Slate, The Huffington Post, The Verge, Time Magazine, USA Today, Vice News, Wall Street Journal Online, Wall Street Journal, Washington Post, Washington Times`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"what-is-the-media-coverage-of-ai\",\n    level: 2,\n    title: \"What is the media coverage of AI?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"method-corpus-extraction\",\n    level: 2,\n    title: \"Method: Corpus extraction\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.155,\"time\":189300,\"words\":631}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"how-can-criticism-be-detected-in-the-media\"\n    }}>{`How can criticism be detected in the media?`}</h2>\n    <p>{`We used supervised learning annotation tools to establish a sub-corpus of articles criticizing algorithms and AI.`}</p>\n    <p>{`First of all, manually annotating 2000 press articles deemed critical allowed us to construct a machine learning model. Next, by carrying out multiple iterations, including results control phases, the critical article detection model was progressively optimized (see the method section). All titles of articles containing arguments or negative semantic elements that were explicitly related to a calculator form (algorithm, AI, robot, etc.) were annotated as critical. Conversely, press articles with neutral, positive, or ambiguous statements or those not directly mentioning a calculator form were annotated as non-critical or were disregarded. For example, titles such as Robocops to replace British bobbies on the streets, police force reveals or Growth of AI could boost cybercrime and security threats, report warns were annotated as critical, whereas AI to create more than 7m jobs or Google so advanced stores will pack your products before youve thought of ordering them were annotated as non-critical.`}</p>\n    <LinearGraphBlock graphType={'histogram'} xVariable={'index'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'type'} colorPalette={{\n      \"not critic\": \"#c5c9c9\",\n      \"critic\": \"#e60c26\"\n    }} filtersModeAnd={true} title={'Statistical distribution of critic and non-critic articles rate (2015-2019)'} legend={'Percentage of critic and non-critic articles detected by the model'} normalizeY={true} mdxType=\"LinearGraphBlock\" />\n    <p>{`Given the work of manually sourcing the initial corpus and the use of the supervised learning annotation method, this corpus makes no claims at being exhaustive or representative. On the contrary, our approach enables an understanding of subjects associated with criticism of AI and algorithms that is as diverse as possible.`}</p>\n    <p>{`Using this categorization protocol, we established a sub-corpus of 2091 press articles categorized as critical. The percentage of such articles was 7.1% on average across the entire corpus, with relatively good stability over the observation period (standard deviation of +/- 2.2%). Research on the analysis of media coverage of AI in Great Britain has shown that the vast majority of publications are on technological advancements and developments in the economic sector, and that the ethical questions associated with the rollout of these technologies remains underrepresented in the press (Brennen et al, 2018).`}</p>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"method-use-of-supervised-learning-to-detect-criticism\"\n    }}>{`Method: Use of supervised learning to detect criticism`}</h2>\n    <p><strong parentName=\"p\">{`Model used to detect criticism:`}</strong>{` fastText - `}<a parentName=\"p\" {...{\n        \"href\": \"https://fasttext.cc\"\n      }}>{`https://fasttext.cc`}</a></p>\n    <p><strong parentName=\"p\">{`Learning corpus:`}</strong>{` 2000 articles manually annotated using Prodigy - `}<a parentName=\"p\" {...{\n        \"href\": \"https://prodi.gy\"\n      }}>{`https://prodi.gy`}</a></p>\n    <p><strong parentName=\"p\">{`Article coding rules:`}</strong>{` `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Critical: critical statements or response to criticism (critical semantic field or arguments), mention of a calculator (algorithm, AI, robot, etc.). Example: Robots put jobs at risk, Robot lawyers: how humans can fight back.`}</li>\n      <li parentName=\"ul\">{`Non-critical: neutral or positive statements, no mention of a calculator. Example: AI to create more than 7m jobs, In the 2020s, artificial intelligence will transform the work of lawyers.`}</li>\n      <li parentName=\"ul\">{`Ignored: ambiguous statements, no mention of a calculator. Example: Restaurants are now employing robots  should chefs be worried?, Need a lawyer? Theres an algorithm for that.`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`Comparison of criticism detection models:`}</strong>{`\nTo ensure the diversity and accuracy of articles, different annotation models were compared and improved through successive iterations, along with the systematic manual control of the results produced by these models. Ultimately, the FastText model produced the most accurate detection of critical articles. `}</p>\n    <p><strong parentName=\"p\">{`Results of the FastText criticism detection model:`}</strong>{`                  `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Precision : 0.94`}</li>\n      <li parentName=\"ul\">{`Recall : 0.79`}</li>\n      <li parentName=\"ul\">{`F1-score : 0.86`}</li>\n    </ul>\n    <p>{`This methodological approach allowed us to process a large database that would have been impossible to categorize manually. Although the supervised learning-based automatic categorization tools used do entail a potential risk of not detecting certain critical articles in the corpus, the successive iterations reduce this bias because the results obtained during each iteration show the development of the models abilities to detect new critical articles. Furthermore, systematic manual control of all results produced by the algorithm ensure that the sub-corpus of articles categorized as critical do not contain false positives.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"how-can-criticism-be-detected-in-the-media\",\n    level: 2,\n    title: \"How can criticism be detected in the media?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"method-use-of-supervised-learning-to-detect-criticism\",\n    level: 2,\n    title: \"Method: Use of supervised learning to detect criticism\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"8 min read\",\"minutes\":7.905,\"time\":474300,\"words\":1581}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"what-topics-does-criticism-address\"\n    }}>{`What topics does criticism address?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={.7} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'2,991 nodes, 54,062 cooccurrence links, color related to clusters, size related to term frequency in the dataset'} mdxType=\"GraphBlock\" />\n    <p>{`By extracting the most frequently occurring terms from the content of the 2091 articles annotated as critical, we produced a semantic network composed of 2991 terms (or series of terms) interconnected by 54,062 co-occurrence links. The spatialization is based on a variant of the Fruchterman Reingold algorithm. The position of nodes is optimized through their belonging to clusters automatically detected by the Louvain algorithm. The colour of nodes is a function of each of the clusters thus detected, and their size is a function of their frequency in the corpus.`}</p>\n    <p>{`The most commonly occurring terms in each of the clusters can be used to interpret and name the subjects that structure the semantic space of this corpus of articles criticizing AI and algorithms. The map consists of 23 thematic clusters of varying sizes that represent types of calculators or different fields of application. Each term is associated with a single cluster, even if it can have relationships of co-occurrence with other terms belonging to different clusters. Similarly, as a function of the terms that it contains, each article in the corpus is linked to a cluster. An initial analysis of the network consists of describing the subjects most present in the corpus in terms of number of articles and of providing a brief illustration of this, using examples of prototypical titles associated with them.`}</p>\n    <p>{`The two largest clusters in the graph in terms of number of articles from two opposite poles.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Web_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Future_of_AI\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={0.25} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtering of the semantic network of critic articles about AI'} legend={'Clusters Future_of_AI, Web_Algorithms'} mdxType=\"GraphBlock\" />\n    <p>{`The largest, called Web Algorithms and which accounts for 22% of articles in the critical corpus, contains articles about the issues caused by web algorithms, such as Facebooks newsfeed categorization techniques (`}<em parentName=\"p\">{`Facebook accused of censoring conservatives, report says - The Guardian - 10/05/16`}</em>{`), YouTubes video recommendations (`}<em parentName=\"p\">{`YouTube, the Great Radicalizer - The New York Times - 11/03/18`}</em>{`), or search engines such as Google (`}<em parentName=\"p\">{`Google results claim that the Holocaust didnt happen, and company wont change it - Independent Online - 15/12/16`}</em>{`).`}</p>\n    <p>{`On the opposite side of the network is the second largest cluster, called the Future of AI and which accounts for 18% of articles in the corpus. It discusses the risks of the emergence of artificial intelligence and autonomous machines that imitate or surpass human abilities (`}<em parentName=\"p\">{`AI will create useless class of humans, predicts bestselling historian - The Guardian - 20/05/16`}</em>{`) or which threaten to cause the extinction of humanity (`}<em parentName=\"p\">{`End of Humanity? Artificial Intelligence could destroy us within decades warns expert - express.co.uk - 15/04/16`}</em>{`).`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Facial_Recognition\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Job_Automation\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Killer_Robots\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={0.25} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtering of the semantic network of critic articles about AI'} legend={'Clusters Job_Automation, Facial_Recognition, Killer_Robots'} mdxType=\"GraphBlock\" />\n    <p>{`Among the largest clusters, there are three other subjects frequently found in the corpus.`}</p>\n    <p>{`The Job Automation cluster (14% of articles) contains articles warning of the risks of changes in the employment market faced with robotization and roll-out of AI in the employment world (`}<em parentName=\"p\">{`Robots and AI are threatening close to a third of UK jobs, study reveals - Independent Online - 24/03/17`}</em>{`).`}</p>\n    <p>{`The Killer Robots cluster (11% of articles) is composed of articles on the risks of AI and autonomous machines in the context of armed conflict (`}<em parentName=\"p\">{`Top scientists call for ban on killer robots to prevent apocalyptic war - dailystar.co.uk - 20/08/17`}</em>{`).`}</p>\n    <p>{`The Facial Recognition cluster, which accounts for 10% of the articles in the corpus, concerns the different developments in facial recognition technologies used in public spaces, in software, or on online platforms (`}<em parentName=\"p\">{`China is now using facial recognition cameras to monitor Uighur Muslims across the country, report claims - Mail Online - 15/04/19`}</em>{`).`}</p>\n    <p>{`Together, these five largest subject clusters prevail in the media space, making up 75.6% of all articles in the critical corpus (1,581 articles) and accounting for 46.4% of the terms in the semantic network (1,389 terms).`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Autonomous_Cars\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Voice_Assistant\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Sex_Robots\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Health_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Deepfake\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Predictive_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Chatbot\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Game_&_Education\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Profiling_Algorthms\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtering of the semantic network of critic articles about AI'} legend={'Clusters associs entre 1% et 4% des articles du corpus'} mdxType=\"GraphBlock\" />\n    <p>{`A second group, despite being highly heterogeneous in terms of subjects and their position in the network, is composed of 9 clusters that represent between 1% and 4% of the total number of articles in the corpus. Together, these subjects account for 21.6% of articles in the corpus (452 articles) and 38% of semantic network terms (1136 terms). This subset contains the following clusters:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Voice Assistant`}</strong>{` : `}<em parentName=\"li\">{`Googles Nest microphone intensifies privacy concerns`}</em>{` -  `}<em parentName=\"li\">{`The Washington Post`}</em>{` - 25/02/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Autonomous Cars`}</strong>{` : `}<em parentName=\"li\">{`Self-driving cars will need to be programmed to kill their owners, academics warn, and people will have to choose who will die`}</em>{` - Independent Online - 27/10/15`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Sex Robots`}</strong>{` : `}<em parentName=\"li\">{`Sex robots could lead to population crisis as men opt for virtual girlfriends`}</em>{` - Mirror.co.uk - 27/01/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Health_Algorithms`}</strong>{` : `}<em parentName=\"li\">{`Racial bias in a medical algorithm favors white patients over sicker black patients`}</em>{` - `}<em parentName=\"li\">{`The Washington Post`}</em>{`  - 25/10/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Deepfake`}</strong>{` : `}<em parentName=\"li\">{`You thought fake news was bad? Deep fakes are where truth goes to die`}</em>{` -  `}<em parentName=\"li\">{`The Guardian`}</em>{`  - 2/11/18`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Predictive Algorithms`}</strong>{` : `}<em parentName=\"li\">{`Criminal justice software algorithm used across the US is biased against black inmates, study finds`}</em>{` - Independent Online - 27/06/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Chatbot`}</strong>{` : `}<em parentName=\"li\">{`Microsoft deeply sorry after AI becomes Hitler-loving sex robot`}</em>{` - The Telegraph Online - 26/03/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Game and Education`}</strong>{` : `}<em parentName=\"li\">{`Korean Go master quits the game because AI 'cannot be defeated`}</em>{` - CNN Wire - 28/11/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Profiling Algorithms`}</strong>{` : `}<em parentName=\"li\">{`Artificial intelligence can identify gay faces from a picture, study claims`}</em>{` - Independent Online - 08/09/17`}</li>\n    </ul>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Robo-Advisers\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"DeepDream_Nightmares\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Deep_Voice\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Scientific_Research\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Market_&_Prices\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Image_Search\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Email\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Music\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Consumer_&_Copyright\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtering of the semantic network of critic articles about AI'} legend={'Clusters associs entre 0,1% et 0,8% des articles du corpus'} mdxType=\"GraphBlock\" />\n    <p>{`The graph contains 9 additional small clusters, each of which accounts for 0.8% to 0.1% of articles (58 articles in total). Nonetheless, the terms extracted from these articles (466 in total) account for 15.6% of all terms in the graph. These subjects resemble weak signals of criticism of algorithms and AI that was detected by our term extraction method but is nonetheless under-represented in terms of number of articles. These clusters are focused on very specific subjects, sometimes mentioning types of calculators, but most often fields of application:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Robot-Advisers`}</strong>{` : `}<em parentName=\"li\">{`Mortgage algorithms found to have racial bias`}</em>{` - The Washington Post - 15/11/18`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`DeepDream Nightmares`}</strong>{` : `}<em parentName=\"li\">{`The AI 'nightmare machine: Spooky Google algorithm transforms famous sights into horror scenes`}</em>{` - Mail Online - 25/10/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Deep Voice`}</strong>{` : `}<em parentName=\"li\">{`Creepy AI can clone anyones voice with just one minute of audio`}</em>{` - Mail Online - 25/04/17`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Scientific Research`}</strong>{` : `}<em parentName=\"li\">{`Facebook shuts down chatbot experiment after AIs spontaneously develop their own language`}</em>{` - London Evening Std Online - 01/08/17`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Market and Prices`}</strong>{` : `}<em parentName=\"li\">{`Artificial Intelligence - Beware Algorithms That Could Collude To Unfairly Raise Prices`}</em>{` - The Wall Street Journal - 02/04/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Image Search`}</strong>{` : `}<em parentName=\"li\">{`Three black teenagers: anger as Google image search shows police mugshots`}</em>{` - The Guardian - 10/06/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Email`}</strong>{` : `}<em parentName=\"li\">{`Google expands creepy Gmail AI that can automatically reply to emails for you`}</em>{` - Mail Online - 31/08/18`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Music`}</strong>{` : `}<em parentName=\"li\">{`Why random shuffle feels far from random`}</em>{` - Independent Online - 24/02/15`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Consumer and Copyright`}</strong>{` : `}<em parentName=\"li\">{`Apple is forced to change its App Store search algorithm after it emerged its own products were being ranked significantly higher`}</em>{` - Mail Online - 09/09/19`}</li>\n    </ul>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={.7} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'2,991 nodes, 54,062 cooccurrence links, color related to clusters, size related to term frequency in the dataset'} mdxType=\"GraphBlock\" />\n---\n## Method: Term extraction and spatialization of the semantic network\n    <p><strong parentName=\"p\">{`Extraction of terms from the corpus:`}</strong>{`\nThe semantic analysis of the critical corpus was conducted using the software Cortext (`}<a parentName=\"p\" {...{\n        \"href\": \"https://www.cortext.net\"\n      }}>{`https://www.cortext.net`}</a>{`). Term extraction was carried out across the full text of articles (title, lead paragraph, and text), followed by cleaning the lists of extracted terms by deleting stopwords (video file tags or timecode elements not cleaned in Factiva). Term extraction was carried out using the pigeonhole measure (which gives more weight to the specificity of terms and their number of occurrences per document) at the phrase level. A total of 6,000 terms, including monograms, bigrams, and trigrams were extracted. While it may seem strange that some relatively similar terms were retained, such as all variants of facial recognition, we chose to conserve this heterogeneity in order to convey the diversity of ways of defining calculator entities in articles.`}</p>\n    <p><strong parentName=\"p\">{`Spatialization of the semantic network and clustering:`}</strong>{` By extracting the most frequently occurring terms from the content of the 2,091 articles annotated as critical, we produced a semantic network composed of 2,991 terms (or series of terms) interconnected by 54,062 co-occurrence links. The spatialization is based on a variant of the Fruchterman Reingold algorithm. The position of nodes is optimized through their belonging to clusters automatically detected by the Louvain algorithm. The colour of nodes is a function of each of the clusters thus detected and their size is a function of their frequency in the corpus`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"what-topics-does-criticism-address\",\n    level: 2,\n    title: \"What topics does criticism address?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"3 min read\",\"minutes\":2.23,\"time\":133800,\"words\":446}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"how-has-the-media-agenda-evolved\"\n    }}>{`How has the media agenda evolved?`}</h2>\n    <LinearGraphBlock graphType={'linegraph'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'topic'} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} filters={[{\n      \"attribute\": \"topic\",\n      \"value\": \"Web_Algorithms\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Future_of_AI\"\n    }]} title={'Statistical distribution of articles by cluster (2015-2019)'} legend={'Clusters Web_Algorithms, Future_of_AI'} mdxType=\"LinearGraphBlock\" />\n    <p>{`The analysis of the distribution of the number of articles in the six largest clusters over the 5-year period covered by the critical corpus reveals three different profiles. We find a relatively stable spread over the article distribution period in the two largest structuring clusters on the map (Web Algorithms and the Future of AI). The distribution of these two largest clusters shows that there is a regular production of critical articles on issues related to web algorithms and on fears about the future developments of artificial intelligence and robots. These subjects concentrate the largest number of articles and form two poles around which criticism is repeatedly expressed. `}</p>\n    <LinearGraphBlock graphType={'linegraph'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'topic'} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} filters={[{\n      \"attribute\": \"topic\",\n      \"value\": \"Deepfake\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Facial_Recognition\"\n    }]} title={'Statistical distribution of articles by cluster (2015-2019)'} legend={'Clusters Deepfake, Facial_Recognition'} mdxType=\"LinearGraphBlock\" />\n    <p>{`The second distribution profile applies to the Facial Recognition and Deepfakes clusters, which experienced a significant increase in the volume of articles published during 2019.`}</p>\n    <p>{`The third distribution profile shows an increase in the number of articles in 2017 and 2018, followed by a significant decline in 2019. This type of distribution applies to the Job Automation, Killer Robots, Autonomous Cars, Sex Robots, Voice Assistant, and Predictive Algorithms clusters.`}</p>\n    <LinearGraphBlock graphType={'linegraph'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'topic'} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} filters={[{\n      \"attribute\": \"topic\",\n      \"value\": \"Killer_Robots\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Job_Automation\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Voice_Assistant\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Sex_Robots\"\n    }]} title={'Statistical distribution of articles by cluster (2015-2019)'} legend={'Clusters Job_Automation, Killer_Robots, Sex_Robots, Voice_Assistant'} mdxType=\"LinearGraphBlock\" />\n    <p>{`It is more difficult to interpret these irregular distributions, given the corpus annotation method used. However, they seem to show how the press, by focusing its attention on certain technologies as opposed to others, sets a media agenda through which criticism is also expressed. To verify this hypothesis that distribution is concentrated around specific periods during which the medias attention focuses on certain technologies, independent of the production of criticism, we attempted examined the distribution of certain terms that make up these clusters within the corpus of articles labelled non-critical. These distributions show a spread similar to that found among the clusters of the critical corpus. For example, terms related to Deepfakes and Facial Recognition appeared increasingly frequently in non-critical articles between 2018 and 2019. All of the terms associated with sex robots, autonomous cars, and voice assistants present in the corpus labelled as non-critical occurred most frequently in 2017 and 2018, before their presence declined in 2019. This comparative analysis of the distribution of critical and non-critical articles requires further investigation, but seems to support the idea of a media agenda, independent of the production of criticism, focused on the technologies growing in visibility over a given period.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"how-has-the-media-agenda-evolved\",\n    level: 2,\n    title: \"How has the media agenda evolved?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.645,\"time\":218700,\"words\":729}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"what-does-the-network-topology-teach-us\"\n    }}>{`What does the network topology teach us?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={.8} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'2,991 nodes, 54062 cooccurrence links, color related to meta-clusters, size related to term frequency in the dataset'} mdxType=\"GraphBlock\" />\n    <p>{`The dispersal of clusters across the topographical space reveals a contrast between two main types of calculators. We find a separation between the right-hand side of the graph, which groups together articles presenting algorithmic calculation techniques incorporated into users environments to guide, direct, or calculate their behaviours, and the left-hand side, which encompasses articles characterized by the personification of AI in the form of an embodied entity independent from humans.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={.8} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'Filtering by meta-cluster \"algorithms\"'} mdxType=\"GraphBlock\" />\n    <p>{`The first region to the right exclusively concerns algorithms, whether web algorithms such as Facebooks newsfeed, Twitters trending topics section, or Googles image and website search algorithms. The majority of these algorithmic entities are the technical layers of services offered in our everyday digital environments. Others represent more emerging technologies that are the subject of more localized and regulated development and experimentation, such as policing or predictive justice algorithms, image detection in facial recognition systems, or deepfakes.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={.8} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'Filtering by meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`On the far left-hand side, at the opposite end of the network, the clusters are concentrated around calculator entities that are more embodied, in the form of machines or robots. The entities populating this region are personified in physical devices that are separate from the everyday digital equipment consisting of our computers and smartphones. These devices have an autonomous capacity to act via AI-based calculation systems. By simulating both the human body and humans cognitive abilities, they are capable of carrying out certain actions without human intervention in diverse conditions, such as transportation using autonomous vehicles, military actions using killer robots and drones, work using task automation, or even physical relations using sex robots.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Intermed\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={.8} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'Filtering by meta-cluster \"intermediate\"'} mdxType=\"GraphBlock\" />\n    <p>{`Between these two poles there is an intermediate region that is more difficult to identify, composed of devices halfway between autonomous machines and the algorithms of our everyday digital environments. The calculating entities present in this space include voice assistants embedded in smartphones or smart speakers, online chatbots, robo-advisors (algorithms that carry out transactions in the finance sector), or deep learning technologies such as Googles Deep Dream device. Despite being relatively accessible to the general public, these are often still emerging technologies. They are capable of autonomously managing a specific number of sometimes basic tasks, but are not yet embodied in physical devices; on the contrary, they are most often implemented and accessible through computers and smartphones.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} nodeColorVariable={'algo_robot'} nodeLabelVariable={'cluster_label'} labelDensity={.8} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'Filtering by meta-clusters \"algorithms\" and \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`Given the graphs separation of calculation devices with different properties, we explored these dimensions in greater depth. To conduct a comparative analysis of the two poles that stand out in the topographical analysis, we decided to divide the network into two subsets that are comparable in terms of volume of articles, clusters, and terms. The space entitled Robots contains 52% of the articles in the corpus and 9 clusters. The space entitled Algorithms has 48% of the articles, and 14 clusters. Using a comparative approach, this division into two equivalent subsets allows us to explore the different attributes that populate these two semantic spaces.`}</p>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"method-division-of-the-network-and-the-corpus-based-on-the-topology\"\n    }}>{`Method: Division of the network and the corpus based on the topology`}</h2>\n    <p>{`To facilitate a comparative analysis between the semantic space interpreted as being related to robots, and that related to algorithms, each cluster was associated with one of these two categories. The two subsets are comparable in terms of volume of articles.`}</p>\n    <p>{`The robots space contains:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`9 clusters`}</li>\n      <li parentName=\"ul\">{`52% of corpus articles (with each article being associated with a single cluster)`}</li>\n    </ul>\n    <p>{`The algorithms space contains:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`14 clusters`}</li>\n      <li parentName=\"ul\">{`48% of corpus articles (with each article being associated with a single cluster)`}</li>\n    </ul>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"what-does-the-network-topology-teach-us\",\n    level: 2,\n    title: \"What does the network topology teach us?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"method-division-of-the-network-and-the-corpus-based-on-the-topology\",\n    level: 2,\n    title: \"Method: Division of the network and the corpus based on the topology\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"9 min read\",\"minutes\":8.455,\"time\":507300,\"words\":1691}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"which-entities-populate-the-semantic-network\"\n    }}>{`Which entities populate the semantic network?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} displayAllLabels={true} nodeColorVariable={'algo_robot'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'2,991 nodes, 54062 cooccurrence links, color related to meta-clusters, size related to term frequency in the dataset'} mdxType=\"GraphBlock\" />\n    <p>{`To highlight the features of these two critical spaces, we sought to systematically identify the naming of technical entities, the society that is home to them, and the way that the former affect the latter. All of this criticism seeks to describe the way in which Entities produce Victims by conducting a certain type of operation, with Victims constituting a set of issues pertaining to either the challenges or concerns produced by the deployment of AI techniques in our societies (Cardon, Crpel, 2019).`}</p>\n    <p>{`In order to differentiate between these entities in the network, the majority of terms (those which were not excessively ambiguous, 66% of the terms in the graph) were manually annotated into ten different categories. Our analysis consists in comparing three of these categories which seem particularly relevant for distinguishing between the two spaces. The Technical category refers to our definition of calculator entities; it concerns not only all terms related to technical entities such as algorithms, machines, functionalities, technical services, or terminals, but also the technologies created by start-ups, which are sometimes difficult to differentiate from economic entities. The second category, which is related to human entities and is called People, concerns all terms referring to people or unnamed groups of people (as opposed to the Person category for proper nouns and the Institutions category for groups or structures with a legal existence). The third category, called Issues, allows us to identify the terms used to name the concerns, difficulties, or problems extracted from the articles.`}</p>\n    <h2 {...{\n      \"id\": \"which-are-the-technical-entities\"\n    }}>{`Which are the technical entities?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} labelDensity={0.98} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'filtering by tag \"techinal\"'} mdxType=\"GraphBlock\" />\n    <p>{`If we compare the most frequent terms categorized as technical entities, the defining feature of the Robots space of our map is the very high degree of intelligence and autonomy of AI, as well as its capacity to be embodied in the form of machines. Whether for driving vehicles, sex, war, or industrial production, these technical entities have the capacity to take the initiative autonomously.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.98} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'filtering by tag \"techinal\" and meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`We see that in the Robots space, the calculators most often refer to embodied devices such as `}<em parentName=\"p\">{`robots`}</em>{`, `}<em parentName=\"p\">{`machines`}</em>{`, `}<em parentName=\"p\">{`computers`}</em>{`, `}<em parentName=\"p\">{`cars`}</em>{`, `}<em parentName=\"p\">{`weapons`}</em>{`, `}<em parentName=\"p\">{`drones`}</em>{` ou `}<em parentName=\"p\">{`dolls`}</em>{`. Other technical entities stand out because they refer to a very abstract and generic definition of calculators, which are given the names `}<em parentName=\"p\">{`system`}</em>{`, `}<em parentName=\"p\">{`artificial intelligence`}</em>{` ou encore comme `}<em parentName=\"p\">{`automation`}</em>{` ou `}<em parentName=\"p\">{`model`}</em>{`.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.98} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'filtering by tag \"techinal\" and meta-cluster \"algorithms\"'} mdxType=\"GraphBlock\" />\n    <p>{`On the other hand, the technical entities in the Algorithms space of our map are defined more as parts or elements of sociotechnical systems distributed in digital environments. This space contains abstract names, but these entities do not systematically constitute autonomous objects (`}<em parentName=\"p\">{`algorithm`}</em>{`, `}<em parentName=\"p\">{`devices`}</em>{`, `}<em parentName=\"p\">{`program`}</em>{`, `}<em parentName=\"p\">{`bot`}</em>{` ou `}<em parentName=\"p\">{`phone`}</em>{`). The majority of terms stand out because they refer to much more specific technologies, most often associated with particular technological devices, such as `}<em parentName=\"p\">{`facial recognition`}</em>{`, `}<em parentName=\"p\">{`deepfake`}</em>{`, `}<em parentName=\"p\">{`social network`}</em>{`, `}<em parentName=\"p\">{`chatbot`}</em>{`, `}<em parentName=\"p\">{`criminal justice algortihm`}</em>{` and even more specifically to the functionalities of certain services embedded in our cell phones or online, at times associated with brands, such as `}<em parentName=\"p\">{`Siri`}</em>{`, `}<em parentName=\"p\">{`Search engine`}</em>{`, `}<em parentName=\"p\">{`Trending topics`}</em>{`, `}<em parentName=\"p\">{`Google assistant`}</em>{`, `}<em parentName=\"p\">{`Iphone`}</em>{`, `}<em parentName=\"p\">{`recommendation algorithm`}</em>{`, `}<em parentName=\"p\">{`Facebook messenger`}</em>{`, `}<em parentName=\"p\">{`Google images`}</em>{`, `}<em parentName=\"p\">{`image search`}</em>{`. Rather than isolating AIs, these descriptions include them in a sociotechnical environment in which calculation plays an increasingly intense role in providing assistance, finding information, or directing or preventing a behaviour.`}</p>\n    <h2 {...{\n      \"id\": \"what-are-the-human-entities\"\n    }}>{`What are the human entities?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"People\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} labelDensity={0.95} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'filtering by tag \"people\"'} mdxType=\"GraphBlock\" />\n    <p>{`The People category, on the basis of which the terms referring to human entities, people, or groups of people were annotated, allows us to examine the composition of the social world into which AIs have been introduced. It reveals another difference between the two semantic spaces.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"People\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'filtering by tag \"people\" and meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`On the Robots side, among the most frequent terms, those referring to humanity are strongly present, such as `}<em parentName=\"p\">{`humans`}</em>{`, `}<em parentName=\"p\">{`humankind`}</em>{`, `}<em parentName=\"p\">{`human civilisation`}</em>{`, `}<em parentName=\"p\">{`human driver`}</em>{`, `}<em parentName=\"p\">{`human supervisor`}</em>{`. The contents of certain articles associated with this space show that, in contrast with the calculator entities personified by machines, the concept of humanity is a very generic expression of human society as a whole, which is threatened by these entities. Other relatively generic terms are also present in this space but have a definition that is more focused on the sectors in which the robotic technologies will be used, such as finance, the employment market, defence, and transportation. In this group, we find terms such as `}<em parentName=\"p\">{`workers`}</em>{`, `}<em parentName=\"p\">{`customers`}</em>{`, `}<em parentName=\"p\">{`employees`}</em>{`, `}<em parentName=\"p\">{`drivers`}</em>{`, `}<em parentName=\"p\">{`retailers`}</em>{`, `}<em parentName=\"p\">{`soldiers`}</em>{`, `}<em parentName=\"p\">{`passengers`}</em>{`, `}<em parentName=\"p\">{`brokers`}</em>{`, `}<em parentName=\"p\">{`traders`}</em>{`, `}<em parentName=\"p\">{`farmers`}</em>{`.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"People\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.95} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'filtering by tag \"people\" and meta-cluster \"algorithms\"'} mdxType=\"GraphBlock\" />\n    <p>{`The Algorithms space is populated with terms that are much less generic than those of the Robots space. In it, human entities are named much more precisely and refer to better-identified people. For example, among the most frequent terms in this space, we find entities that refer to digital platforms (`}<em parentName=\"p\">{`users`}</em>{`, `}<em parentName=\"p\">{`accounts`}</em>{`, `}<em parentName=\"p\">{`Facebook users`}</em>{`, `}<em parentName=\"p\">{`Youtube users`}</em>{`). In the large majority of cases, the terms used to name these human entities allow them to be described in terms of certain properties such as age (`}<em parentName=\"p\">{`children, child, kids, parents`}</em>{`), gender (`}<em parentName=\"p\">{`women, men`}</em>{`) ethnic group (`}<em parentName=\"p\">{`black people, black patients, african-americans`}</em>{`), political views (`}<em parentName=\"p\">{`white supremacists, black defendants, illuminati`}</em>{`) or sexual orientation (`}<em parentName=\"p\">{`gays, lesbian, trans people`}</em>{`).`}</p>\n    <p>{`The topological analysis of the clusters showing an opposition between machines or autonomous intelligence and algorithmic digital environments is supported by this more specific analysis of the most frequent terms populating these two spaces. In the Robots semantic space, we find a sort of abstraction and embodiment of technical entities, and genericity in the way of referring to human agents, who are portrayed as the victims of the potential issues denounced in the critical articles. By contrast, in the Algorithms space the technical entities are specified more and most often relate to services or very precise technical functionalities challenged in the articles. The human entities associated with these algorithmic technical entities do not refer to generic categories such as humanity, but are described through a variety of attributes allowing them to be identified much more precisely.`}</p>\n    <h2 {...{\n      \"id\": \"what-difficulties-are-caused-by-these-technical-entities\"\n    }}>{`What difficulties are caused by these technical entities?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Issue\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'filtering by tag \"issues\"'} mdxType=\"GraphBlock\" />\n    <p>{`The Issues category allows for a comparative analysis of the terms related to the issues and concerns associated with the technical entities being criticized.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Issue\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'filtering by tag \"issues\" and meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`On the Robots side of the semantic space, the confrontation between humans and AI is constantly raised as a concern. We see the presence of terms such as `}<em parentName=\"p\">{`attack`}</em>{`, `}<em parentName=\"p\">{`safety`}</em>{`, `}<em parentName=\"p\">{`arms race`}</em>{`, `}<em parentName=\"p\">{`Cold war`}</em>{`, `}<em parentName=\"p\">{`human extinction`}</em>{`, `}<em parentName=\"p\">{`extinction`}</em>{`, `}<em parentName=\"p\">{`natural disasters`}</em>{`, `}<em parentName=\"p\">{`AI-powered horror`}</em>{`, `}<em parentName=\"p\">{`mass extinction`}</em>{`, `}<em parentName=\"p\">{`physical damage`}</em>{`, which most often use the register of war or planetary destruction, warning of an existential risk to the future of humanity (Singler, 2019). These threats highlight concerns related to the control of these autonomous technologies, as is evidenced by the terms `}<em parentName=\"p\">{`ban`}</em>{`, `}<em parentName=\"p\">{`petition`}</em>{`, `}<em parentName=\"p\">{`human oversight`}</em>{`, `}<em parentName=\"p\">{`lack of accountability`}</em>{`, `}<em parentName=\"p\">{`superintelligence control problem`}</em>{`, `}<em parentName=\"p\">{`control problem`}</em>{`. Other terms refer to issues that are relatively visible in this semantic space associated with machines replacing humans and surpassing them, and a loss of human control over machines, particularly with regard to\nthe economy: for example `}<em parentName=\"p\">{`job losses`}</em>{`, `}<em parentName=\"p\">{`surge pricing`}</em>{`, `}<em parentName=\"p\">{`pay gap`}</em>{`.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Issue\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Semantic network of the content of critic articles about AI'} legend={'filtering by tag \"issues\" and meta-cluster \"algorithms\"'} mdxType=\"GraphBlock\" />\n    <p>{`The terms related to the issues and concerns that make up the Algorithms subset reveal other forms of criticism that are permeated more by legal references. The frequent terms found in this part of the network include a semantic field composed of legal references such as `}<em parentName=\"p\">{`crime`}</em>{`, `}<em parentName=\"p\">{`law enforcement`}</em>{`, `}<em parentName=\"p\">{`Human Rights`}</em>{`, `}<em parentName=\"p\">{`lawsuit`}</em>{`, `}<em parentName=\"p\">{`Civil Liberties`}</em>{`, `}<em parentName=\"p\">{`prejudice`}</em>{`, `}<em parentName=\"p\">{`fraud`}</em>{`, `}<em parentName=\"p\">{`public interest`}</em>{`. The issues generated by the technical entities criticized in the articles associated with this space concern discrimination (`}<em parentName=\"p\">{`bias`}</em>{`, `}<em parentName=\"p\">{`biases`}</em>{`, `}<em parentName=\"p\">{`discrimination`}</em>{`, `}<em parentName=\"p\">{`antisemitic`}</em>{`, `}<em parentName=\"p\">{`race or gender`}</em>{`, `}<em parentName=\"p\">{`fair use`}</em>{`, `}<em parentName=\"p\">{`risk score`}</em>{`, `}<em parentName=\"p\">{`liberal bias`}</em>{`), privacy concerns (`}<em parentName=\"p\">{`privacy`}</em>{`, `}<em parentName=\"p\">{`surveillance`}</em>{`, `}<em parentName=\"p\">{`Big Brother`}</em>{`, `}<em parentName=\"p\">{`privacy issues`}</em>{`), the difficulties of filtering or exposure to content that is inappropriate (`}<em parentName=\"p\">{`violence`}</em>{`, `}<em parentName=\"p\">{`inappropriate content`}</em>{`, `}<em parentName=\"p\">{`nudity`}</em>{`, `}<em parentName=\"p\">{`age restriction`}</em>{`, `}<em parentName=\"p\">{`violent crime`}</em>{`) or fraudulent (`}<em parentName=\"p\">{`fake news`}</em>{`, `}<em parentName=\"p\">{`misinformaton`}</em>{`, `}<em parentName=\"p\">{`conspiracy theories`}</em>{`, `}<em parentName=\"p\">{`revenge porn`}</em>{`, `}<em parentName=\"p\">{`filter bubble`}</em>{`), or censorship and freedom of expression (`}<em parentName=\"p\">{`free expression`}</em>{`).`}</p>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"method-tagging-of-the-graph-entities\"\n    }}>{`Method: Tagging of the graph entities`}</h2>\n    <p>{`Each of the 2,991 terms in the network was manually categorized by type of entity, resulting in 66% of terms in the network being categorized into 10 different categories:`}</p>\n    <p>{`-Technical (15%): calculator, machine, functionality, device, technical service, start-up technical devices difficult to separate from the economic entity\n-Company (5%): companies, start-ups, the business sector\n-Fiction (1%): characters, films, video games\n-Person (6%): figures in politics, media, or research, or proper nouns\n-People (8%): an unnamed person or group of people\n-Institution (4%): government agency, NGO, association, university, legal texts\n-Locality (1%): places\n-Data_inout (10%): data, traces\n-Topic (10%): sector, subjects\n-Issues (7%): issues and problems`}</p>\n    <p>{`An 11th category was also established containing the terms that were difficult to interpret and which could not be categorized.\n-NC terms (34%): terms not categorized because they are too ambiguous or irrelevant. `}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"which-entities-populate-the-semantic-network\",\n    level: 2,\n    title: \"Which entities populate the semantic network?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"which-are-the-technical-entities\",\n    level: 2,\n    title: \"Which are the technical entities?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"what-are-the-human-entities\",\n    level: 2,\n    title: \"What are the human entities?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"what-difficulties-are-caused-by-these-technical-entities\",\n    level: 2,\n    title: \"What difficulties are caused by these technical entities?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"method-tagging-of-the-graph-entities\",\n    level: 2,\n    title: \"Method: Tagging of the graph entities\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.165,\"time\":189900,\"words\":633}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport HorizonBlock from '../../components/HorizonBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"how-are-the-issues-produced-by-these-technologies-expressed\"\n    }}>{`How are the issues produced by these technologies expressed?`}</h2>\n    <HorizonBlock sizeVariable={'ratio'} colorVariable={'ratio'} labelVariable={'entity'} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} legend={'Taille des noeuds relative  la frqeunce du terme dans le coprus'} mdxType=\"HorizonBlock\" />\n    <p>{`Another way to undertake this comparative analysis of issues and the forms of agency associated with calculators is to explore another semantic entity in the corpus of articles: verbs. After extracting a list of verbs that can be interpreted as potentially linked to the issues produced by technical devices, we calculated the relative frequency of this vebrs in the two subsets of articles composing the two poles highlighted by the network topology.`}</p>\n    <HorizonBlock sizeVariable={'ratio'} colorVariable={'ratio'} labelVariable={'entity'} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"robot\"\n    }]} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"robots\" - taille des noeuds relative  la frqeunce du terme dans le coprus'} mdxType=\"HorizonBlock\" />\n    <p>{`The most frequent verbs in the articles composing the Robots semantic space support the analysis of issues carried out using terms categorized as Issues in the graph. We find a more frequent occurrence of verbs expressing a threat caused by machines and autonomous intelligence pertaining to a prophetic or even apocalyptic discourse. The verbs as being likely to express issues include verbs relating not only to destruction (`}<em parentName=\"p\">{`doom, destroy, eradicate, kill, eliminate`}</em>{`) and to the notion of machines dominating humans (`}<em parentName=\"p\">{`enslave, dominate`}</em>{`), but also to how humans are being surpassed or replaced by these technical entities (`}<em parentName=\"p\">{`overtake, surpass, replace, defeat`}</em>{`). Other verbs occurring more frequently in the Robots subset refer to concepts of transformation and change (`}<em parentName=\"p\">{`reshape, transform, disrupt`}</em>{`) or to the abilities of these technical entities to imitate or simulate human behaviour (`}<em parentName=\"p\">{`resemble, simulate, reproduce`}</em>{`).`}</p>\n    <HorizonBlock sizeVariable={'ratio'} colorVariable={'ratio'} labelVariable={'entity'} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"algo\"\n    }]} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"algorithmes - taille des noeuds relative  la frqeunce du terme dans le coprus'} reverseFlickering={true} mdxType=\"HorizonBlock\" />\n    <p>{`In the subset of articles associated with Algorithms, we also find verbs that support the previous analyses carried out based on the Issues categories in the network of terms. The verbs in this part of the corpus refer to issues related to information filtering and censorship (`}<em parentName=\"p\">{`filter, delete, supress, censor`}</em>{`), surveillance and privacy issues (`}<em parentName=\"p\">{`profile, suspect, spy, target, track`}</em>{`), denouncing forms of discrimination (`}<em parentName=\"p\">{`bias, discriminate`}</em>{`), or phenomena concerning the propagation and spread of fraudulent content (`}<em parentName=\"p\">{`promote, amplify, spread`}</em>{`).`}</p>\n    <HorizonBlock sizeVariable={'ratio'} colorVariable={'ratio'} labelVariable={'entity'} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} legend={'Taille des noeuds relative  la frqeunce du terme dans le coprus'} mdxType=\"HorizonBlock\" />\n---\n    <h2 {...{\n      \"id\": \"method-extraction-of-issue-related-verbs-and-calculation-of-the-relative-frequency-over-the-corpus\"\n    }}>{`Method: Extraction of issue-related verbs and calculation of the relative frequency over the corpus`}</h2>\n    <p>{`The analysis of issue-related verbs was carried out by first extracting 1,000 verbs from the full text of the critical articles in the corpus, using the pigeonhole method on the software Cortext (identical to the method for extracting the graph terms). The list of verbs produced was first manually annotated to extract a list of verbs that could be interpreted as problems, difficulties, or issues. A limited list of 66 verbs explicitly interpretable as being issue-related was selected.`}</p>\n    <p>{`We then measure the relative frequency of issue-related verbs in both Algorithm and Robot subcorpus, showing which entities are particularly over/under-represented on both side of our network. More precisely, for an entity i, we measure and plot the following score:`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`s(i) = log (p(i|Algos)/p(i|Algos))`}</p>\n    </blockquote>\n    <p>{`s(i) is positive when the relative frequency of the entity i is used more often in the Algorithms subcorpus. Conversely, negative values correspond to entities which are concentrated in the Robots subcorpus. The height of bars measure how important the deviation is.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"how-are-the-issues-produced-by-these-technologies-expressed\",\n    level: 2,\n    title: \"How are the issues produced by these technologies expressed?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"method-extraction-of-issue-related-verbs-and-calculation-of-the-relative-frequency-over-the-corpus\",\n    level: 2,\n    title: \"Method: Extraction of issue-related verbs and calculation of the relative frequency over the corpus\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"5 min read\",\"minutes\":4.235,\"time\":254100,\"words\":847}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport HorizonBlock from '../../components/HorizonBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"how-is-temporality-expressed\"\n    }}>{`How is temporality expressed?`}</h2>\n    <HorizonBlock sizeVariable={'ratio'} colorVariable={'ratio'} labelVariable={'entity'} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} legend={'Taille des noeuds relative  la frqeunce du terme dans le coprus'} mdxType=\"HorizonBlock\" />\n    <p>{`Research on forms of argumentation in the sociology of controversies invites us to look at the way that temporal scales and the regimes of stating the future associated with them are deployed (Chateauraynaud, 2013, 2019). Coherency and credibility tests in controversies require the definition of temporal scales that modify judgements. It is by mobilizing temporal markers that connect references to the past to short- or long-term projections that actors are capable of establishing affordances in the future to modulate the type of action to undertake and the urgency of acting to address the situation.`}</p>\n    <p>{`From our corpus, we extracted 1,000 named entities that are temporal markers present in the articles. Like for verbs, we calculated their relative frequency across all articles in the two subsets entitled Robots and Algorithms. The list of extracted entities was manually filtered in order to retain only temporal markers that are interpretable outside of the context in which they are stated. The comparative analysis of temporal markers reveals two different regimes of reference to time within the two subsets of articles.`}</p>\n    <HorizonBlock sizeVariable={'ratio'} colorVariable={'ratio'} labelVariable={'entity'} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"robot\"\n    }]} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"robots\" - Taille des noeuds relative  la frqeunce du terme dans le coprus'} mdxType=\"HorizonBlock\" />\n    <p>{`With respect to the articles associated with the Robots subset, time markers are related to a long timespan, regardless of whether they refer to the past or the future. For example, the large majority of markers are structured around expressions on the future that use the figure of the next combined with timespans of decades or centuries (`}<em parentName=\"p\">{`the next 30 years, the next 50 years, the next 100 years, the next 1,000 to 10,000 years`}</em>{`). On the other hand, the statements in this space most often have the particularity of not precisely defining the time scales to which they refer (`}<em parentName=\"p\">{`the next few decades, coming decades, the next century, this century`}</em>{`). Other markers that are also present in this subset refer to the past rather than the future, and are characterized by the fact that they also refer to a relatively distant past (`}<em parentName=\"p\">{`150 years ago, a few years ago, a decade ago`}</em>{`). The entities in this subset thus have the particularity of mainly expressing a distant and often relatively undefined future.`}</p>\n    <HorizonBlock sizeVariable={'ratio'} colorVariable={'ratio'} labelVariable={'entity'} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"algo\"\n    }]} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"algortihmes\" - Taille des noeuds relative  la frqeunce du terme dans le coprus'} reverseFlickering={true} mdxType=\"HorizonBlock\" />\n    <p>{`In the subset of articles associated with Algorithms, the time markers extracted mainly refer either to the present (`}<em parentName=\"p\">{`this week, this month, this summer`}</em>{`) or to a recent past often expressed as a day, week, or month (`}<em parentName=\"p\">{`yesterday, recent weeks, recent months, the end of last year, a year ago`}</em>{`), or to or a very near future in relation to the terms of the first subset (`}<em parentName=\"p\">{`the next day, the coming weeks, the coming months, the following two years`}</em>{`).`}</p>\n    <HorizonBlock sizeVariable={'ratio'} colorVariable={'ratio'} labelVariable={'entity'} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorLabels={{\n      \"From\": \"robots\",\n      \"To\": \"algorithms\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} legend={'Taille des noeuds relative  la frqeunce du terme dans le coprus'} mdxType=\"HorizonBlock\" />\n    <p>{`The opposition between the two semantic spaces therefore appears to outline two different regimes of utterance that coexist within the media space and which express different timeframes. The first expresses fears projected into a future inhabited by autonomous technologies. It focuses criticism on these technologies ability to simulate, surpass, replace, or ultimately exterminate the human species, and thus on the threat they represent, which we should control. The other regime is rooted more in social criticism regarding the present; it uses the repertoires of the law and of injustice (censorship, discrimination, surveillance) committed against specific populations, or refers to regulatory concerns with respect to the dissemination of information (exposure, amplification).`}</p>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"method-extraction-of-time-markers-and-calculation-of-relative-frequency-over-the-corpus\"\n    }}>{`Method: Extraction of time markers and calculation of relative frequency over the corpus`}</h2>\n    <p>{`Following the same procedure as for the calculation of verbs (see the previous Method section), the Data entities were compared. To list these time markers, 1,000 entities named Date were first extracted using Cortexts Spacy model. This list was then cleaned to retain the most interpretable entities allowing us to describe the temporal dimension unambiguously. We eliminated the entities that caused ambiguities and were less interpretable, such as specific or numerical dates, durations (e.g. several years, winter), frequencies (e.g. every day, weekly), or specific events (e.g. Christmas). The relative frequency was calculated for this list of 66 Date entities, following the same procedure as for verb entities, namely the separation of the corpus of articles into two large equivalent subsets following the topology of the graph as described above.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"how-is-temporality-expressed\",\n    level: 2,\n    title: \"How is temporality expressed?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"method-extraction-of-time-markers-and-calculation-of-relative-frequency-over-the-corpus\",\n    level: 2,\n    title: \"Method: Extraction of time markers and calculation of relative frequency over the corpus\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.985,\"time\":59100,\"words\":197}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h2 {...{\n      \"id\": \"references\"\n    }}>{`References`}</h2>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`J Scott Brennen. An industry-led debate: How uk media cover artificial intelligence. 2018.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Dominique Cardon, Maxime Crpel, Renuka George. Algorithms and Territorial Regulation. Gouverner la ville numrique, Collge de France; Presses Universitaires de France, 2019, 9782130815259`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Francis Chateauraynaud. Regard analytique sur lactivit visionnaire. Du risque  la menace. Penser la catastrophe, Paris, PUF, pages 309389, 2013.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Francis Chateauraynaud and Josquin Debaz. Agir avant et aprs la fin du monde, dans linfinit des milieux en interaction. Multitudes, (3):126132, 2019.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Anna Jobin, Marcello Ienca, and Effy Vayena. The global landscape of ai ethics guidelines. Nature Machine Intelligence, 1(9):389399, 2019. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Brent Mittelstadt. Principles alone cannot guarantee ethical ai. Nature Machine Intelligence, 1(11):501507, 2019. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Raymond Perrault, Yoav Shoham, Erik Brynjolfsson, Jack Clark, John Etchemendy, Barbara Grosz, Terah Lyons, James Manyika, Saurabh Mishra, and Juan Carlos Niebles. The ai index 2019 annual report. AI Index Steering Committee, Human-Centered AI Institute, Stanford University, Stanford, CA, 2019. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Nick Seaver. Algorithms as culture: Some tactics for the ethnography of algorithmic systems. Big Data & Society, 4(2):2053951717738104, 2017.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Beth Singler. Existential hope and existential despair in AI apocalypticism and transhumanism, Zygon, 54 (1), 156176, 2019.`}</p>\n      </li>\n    </ul>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"references\",\n    level: 2,\n    title: \"References\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","import React, {useContext, useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {v4 as genId} from 'uuid';\n\nimport VisBlock from '../VisBlock';\n\n\nimport { VisualizationControlContext, PresentationContext } from '../../contexts';\nimport {buildLinearGraphCode} from '../../helpers/misc';;\n\nconst LinearGraphBlock = (inputProps) => {\n  const ref = useRef(null);\n  const {\n    onVisualizationUpdate, \n    focusedVisualizationId, \n    onRegisterVisualization,\n    onUnregisterVisualization,\n    setFocusedVisualizationId,\n    visualizationParams\n  } = useContext(VisualizationControlContext);\n  const {\n    presentationMode\n  } = useContext(PresentationContext);\n  const [id, setId] = useState(null);\n  const [copied, setCopied] = useState(false);\n\n  const handleVisualizationUpdate = () => {\n    onVisualizationUpdate(inputProps);\n  }\n  \n\n  useEffect(() => {\n    const newId = genId();\n    setTimeout(() => {\n      let payload = {...inputProps};\n      if (presentationMode) {\n        payload = {\n          ...payload,\n          visType: 'linearGraph',\n          ref,\n          id: newId\n        }\n      }\n      onRegisterVisualization(newId, {...payload})\n    })\n    setId(newId);\n    return onUnregisterVisualization(id);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, ['id', 'inputProps', 'onRegisterVisualization', 'onUnregisterVisualization'])\n\n  const isFocused = focusedVisualizationId === id;\n\n  const handleClick = () => {\n    onVisualizationUpdate(inputProps);\n    setTimeout(() => setFocusedVisualizationId(id));\n  }\n\n  const props = isFocused ? visualizationParams : inputProps;\n\n  const handleCopy = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigator.clipboard.writeText(buildLinearGraphCode(props));\n    setCopied(true);\n    setTimeout(() => setCopied(false), 1000);\n  }\n  return presentationMode ? (\n    <VisBlock ref={ref} {...props} id={id} />\n  )\n  : (\n    <div id={id} ref={ref} onClick={handleClick} className={cx(\"VisualizationBlock LinearGraphBlock\", {'is-focused': isFocused})}>\n      {\n        props.title ?\n        <h2 className=\"block-title\">{props.title}</h2>\n        : null\n      }\n      <pre>\n        <code>\n          {buildLinearGraphCode(props)}\n        </code>\n      </pre>\n      <div className=\"buttons-container\">\n        <button onClick={handleVisualizationUpdate}>\n          Rinitialiser sur les paramtres du fichier\n        </button>\n        <button onClick={handleCopy}>\n        {copied ? 'Copi dans le presse-papier !' : 'Copier le code actuel'}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default LinearGraphBlock;","import LinearGraphBlock from './LinearGraphBlock';\n\nexport default LinearGraphBlock;","import React, {useContext, useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {v4 as genId} from 'uuid';\nimport {VisualizationControlContext, PresentationContext} from '../../contexts'\nimport {buildIceCreamScatterPlotCode} from '../../helpers/misc';\n\nimport VisBlock from '../VisBlock';\n\nconst IceCreamBlock = (inputProps) => {\n  const ref = useRef(null);\n  const {\n    onVisualizationUpdate, \n    focusedVisualizationId, \n    onRegisterVisualization,\n    onUnregisterVisualization,\n    setFocusedVisualizationId,\n    visualizationParams\n  } = useContext(VisualizationControlContext);\n  const {\n    presentationMode\n  } = useContext(PresentationContext);\n  const [id, setId] = useState(null);\n  const [copied, setCopied] = useState(false);\n\n  const handleVisualizationUpdate = () => {\n    onVisualizationUpdate(inputProps);\n  }\n  \n\n  useEffect(() => {\n    const newId = genId();\n    setTimeout(() => {\n      let payload = {...inputProps};\n      if (presentationMode) {\n        payload = {\n          ...payload,\n          visType: 'icecreamGraph',\n          ref,\n          id: newId\n        }\n      }\n      onRegisterVisualization(newId, {...payload})\n    })\n    setId(newId);\n    return onUnregisterVisualization(id);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, ['id', 'inputProps', 'onRegisterVisualization', 'onUnregisterVisualization'])\n\n  const isFocused = focusedVisualizationId === id;\n\n  const handleClick = () => {\n    onVisualizationUpdate(inputProps);\n    setTimeout(() => setFocusedVisualizationId(id));\n  }\n\n  const props = isFocused ? visualizationParams : inputProps;\n\n  const handleCopy = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigator.clipboard.writeText(buildIceCreamScatterPlotCode(props));\n    setCopied(true);\n    setTimeout(() => setCopied(false), 1000);\n  }\n  return presentationMode ? (\n    <VisBlock ref={ref} {...props} id={id} />\n  )\n  : (\n    <div ref={ref} id={id} onClick={handleClick} className={cx(\"VisualizationBlock IcecreamBlock\", {'is-focused': isFocused})}>\n      {\n        props.title ?\n        <h2 className=\"block-title\">{props.title}</h2>\n        : null\n      }\n      <pre>\n        <code>\n          {buildIceCreamScatterPlotCode(props)}\n        </code>\n      </pre>\n      <div className=\"buttons-container\">\n        <button onClick={handleVisualizationUpdate}>\n          Rinitialiser sur les paramtres du fichier\n        </button>\n        <button onClick={handleCopy}>\n        {copied ? 'Copi dans le presse-papier !' : 'Copier le code actuel'}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default IceCreamBlock;","import IceCreamBlock from './IceCreamBlock';\n\nexport default IceCreamBlock;","import React, {useContext, useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {v4 as genId} from 'uuid';\nimport {VisualizationControlContext, PresentationContext} from '../../contexts'\nimport {buildHorizonScatterPlotCode} from '../../helpers/misc';\n\nimport VisBlock from '../VisBlock';\n\nconst HorizonBlock = (inputProps) => {\n  const ref = useRef(null);\n  const {\n    onVisualizationUpdate, \n    focusedVisualizationId, \n    onRegisterVisualization,\n    onUnregisterVisualization,\n    setFocusedVisualizationId,\n    visualizationParams\n  } = useContext(VisualizationControlContext);\n  const {\n    presentationMode\n  } = useContext(PresentationContext);\n  const [id, setId] = useState(null);\n  const [copied, setCopied] = useState(false);\n\n  const handleVisualizationUpdate = () => {\n    onVisualizationUpdate(inputProps);\n  }\n  \n\n  useEffect(() => {\n    const newId = genId();\n    setTimeout(() => {\n      let payload = {...inputProps};\n      if (presentationMode) {\n        payload = {\n          ...payload,\n          visType: 'horizonGraph',\n          ref,\n          id: newId\n        }\n      }\n      onRegisterVisualization(newId, {...payload})\n    })\n    setId(newId);\n    return onUnregisterVisualization(id);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, ['id', 'inputProps', 'onRegisterVisualization', 'onUnregisterVisualization'])\n\n  const isFocused = focusedVisualizationId === id;\n\n  const handleClick = () => {\n    onVisualizationUpdate(inputProps);\n    setTimeout(() => setFocusedVisualizationId(id));\n  }\n\n  const props = isFocused ? visualizationParams : inputProps;\n\n  const handleCopy = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigator.clipboard.writeText(buildHorizonScatterPlotCode(props));\n    setCopied(true);\n    setTimeout(() => setCopied(false), 1000);\n  }\n  return presentationMode ? (\n    <VisBlock ref={ref} {...props} id={id} />\n  )\n  : (\n    <div ref={ref} id={id} onClick={handleClick} className={cx(\"VisualizationBlock IcecreamBlock\", {'is-focused': isFocused})}>\n      {\n        props.title ?\n        <h2 className=\"block-title\">{props.title}</h2>\n        : null\n      }\n      <pre>\n        <code>\n          {buildHorizonScatterPlotCode(props)}\n        </code>\n      </pre>\n      <div className=\"buttons-container\">\n        <button onClick={handleVisualizationUpdate}>\n          Rinitialiser sur les paramtres du fichier\n        </button>\n        <button onClick={handleCopy}>\n        {copied ? 'Copi dans le presse-papier !' : 'Copier le code actuel'}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default HorizonBlock;","import HorizonBlock from './HorizonBlock';\n\nexport default HorizonBlock;","var map = {\n\t\"./en/00_home.mdx\": [\n\t\t161\n\t],\n\t\"./en/01_couverture_media.mdx\": [\n\t\t162\n\t],\n\t\"./en/02_detectcritic.mdx\": [\n\t\t163\n\t],\n\t\"./en/03_graphclusters.mdx\": [\n\t\t164\n\t],\n\t\"./en/04_timelineclusters.mdx\": [\n\t\t165\n\t],\n\t\"./en/05_toporobotalgo.mdx\": [\n\t\t166\n\t],\n\t\"./en/06_explore_entities.mdx\": [\n\t\t167\n\t],\n\t\"./en/07_IssueVERB.mdx\": [\n\t\t168\n\t],\n\t\"./en/08_NERdate.mdx\": [\n\t\t169\n\t],\n\t\"./en/chapo.mdx\": [\n\t\t464,\n\t\t5\n\t],\n\t\"./en/citation.mdx\": [\n\t\t146\n\t],\n\t\"./en/footer.mdx\": [\n\t\t148\n\t],\n\t\"./en/headline.mdx\": [\n\t\t150\n\t],\n\t\"./en/metadata\": [\n\t\t243,\n\t\t0\n\t],\n\t\"./en/metadata.js\": [\n\t\t243,\n\t\t0\n\t],\n\t\"./en/references.mdx\": [\n\t\t170\n\t],\n\t\"./fr/00_home.mdx\": [\n\t\t151\n\t],\n\t\"./fr/01_couverture_media.mdx\": [\n\t\t152\n\t],\n\t\"./fr/02_detectcritic.mdx\": [\n\t\t153\n\t],\n\t\"./fr/03_graphclusters.mdx\": [\n\t\t154\n\t],\n\t\"./fr/04_timelineclusters.mdx\": [\n\t\t155\n\t],\n\t\"./fr/05_toporobotalgo.mdx\": [\n\t\t156\n\t],\n\t\"./fr/06_explore_entities.mdx\": [\n\t\t157\n\t],\n\t\"./fr/07_IssueVERB.mdx\": [\n\t\t158\n\t],\n\t\"./fr/08_NERdate.mdx\": [\n\t\t159\n\t],\n\t\"./fr/chapo.mdx\": [\n\t\t149\n\t],\n\t\"./fr/citation.mdx\": [\n\t\t145\n\t],\n\t\"./fr/footer.mdx\": [\n\t\t147\n\t],\n\t\"./fr/metadata\": [\n\t\t244,\n\t\t1\n\t],\n\t\"./fr/metadata.js\": [\n\t\t244,\n\t\t1\n\t],\n\t\"./fr/references.mdx\": [\n\t\t160\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 460;\nmodule.exports = webpackAsyncContext;","import Loader from './Loader';\n\nexport default Loader;","const Loader = ({ percentsLoaded = 0 }) => {\n  return (\n    <div className=\"loader-container\">\n      <div className=\"loader\">\n        <div className=\"loading-bar\" style={{ width: percentsLoaded + '%' }} />\n      </div>\n    </div>\n  )\n}\n\nexport default Loader;","import DataLoader from './DataLoader'\n\nexport default DataLoader","import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport { csvParse, tsvParse } from 'd3-dsv';\nimport Loader from '../Loader';\n\nconst DataLoader = ({url, children}) => {\n  const [data, setData] = useState(null);\n  const [loadingFraction, setLoadingFraction] = useState(0);\n  useEffect(() => {\n    if (url) {\n      axios.get(url, {\n        onDownloadProgress: progressEvent => {\n          const status = progressEvent.loaded / progressEvent.total;\n          setLoadingFraction(status);\n        }\n      })\n      .then(({data: inputData}) => {\n        setTimeout(() => {\n          let data = inputData;\n          if (url.split('.').pop() === 'csv') {\n            data = csvParse(inputData);\n          } else if (url.split('.').pop() === 'tsv') {\n            data = tsvParse(inputData);\n          }\n          setData(data);\n        })\n      })\n    }\n  }, [url]);\n\n  if (!url) {\n    return children();\n  }\n\n  return data ? children(data)\n  : \n  <Loader percentsLoaded={loadingFraction * 100} />\n}\n\n\nexport default DataLoader;","import Nav from './Nav'\n\nexport default Nav;","import cx from 'classnames';\n\n\nconst Nav = ({\n  lang, \n  routes,\n  onRouteNav,\n  isDeployed,\n  isHidden,\n  activeSectionIndex\n}) => {\n  return (\n    <nav className={cx('Nav', {'is-deployed': isDeployed, 'is-hidden': isHidden})}>\n      <ul>\n        {\n          routes.map((route, routeIndex) => {\n            if (routeIndex === 0) {\n              return null;\n            }\n            const handleClick = () => {\n              onRouteNav(routeIndex);\n            }\n            return (\n              <li className={cx({'is-active': activeSectionIndex === routeIndex})} onClick={handleClick} key={routeIndex}>\n                <span className=\"item-number\">{routeIndex}</span>\n                <span className=\"item-label\">\n                  <span>{route.title[lang]}</span>\n                </span>\n              </li>\n            )\n          })\n        }\n      </ul>\n    </nav>\n  )\n}\n\nexport default Nav;","const metadata = {\n  \"generalAuthor\": \"mdialab Sciences Po |algoglitch\",\n  \"title\": \"Critique de lIA dans la presse\",\n  \"description\": \"Une publication numrique sur les critiques de l'IA dans la presse anglophone\",\n  \"publicationDate\": \"2021-06-30\",\n  \"creators\": [\n    {\n      \"role\": \"Auteurs\",\n      \"people\": [\"Maxime Crpel\", \"Dominique Cardon\"]\n    },\n    {\n      \"role\": \"Traitement de donnes\",\n      \"people\": [\"Yannis Bouachera\", \"Salom Do\", \"Jean-Philippe Cointet, Jean-Marie John-Mathews\"]\n    },\n    {\n      \"role\": \"Design d'information\",\n      \"people\": [\"Robin de Mourat\", \"Donato Ricci\"]\n    }\n  ]\n}\n\nexport default metadata;\n","const metadata = {\n  \"generalAuthor\": \"mdialab Sciences Po |algoglitch\",\n  \"title\": \"AI critiques in the press\",\n  \"description\": \"Une publication numrique sur les critiques de l'IA dans la presse anglophone\",\n  \"publicationDate\": \"2021-06-30\",\n  \"creators\": [\n    {\n      \"role\": \"Authors\",\n      \"people\": [\"Maxime Crpel\", \"Dominique Cardon\"]\n    },\n    {\n      \"role\": \"Data processing\",\n      \"people\": [\"Yannis Bouachera\", \"Salom Do\", \"Jean-Philippe Cointet\"]\n    },\n    {\n      \"role\": \"Publication and information design\",\n      \"people\": [\"Robin de Mourat\", \"Donato Ricci\"]\n    }\n  ]\n}\n\nexport default metadata;","import {useRef, useEffect} from 'react';\n// import Graph from 'graphology-types';\n\n\nexport function usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\n","import ControlButton from './ControlButton';\n\nexport default ControlButton;","import React from 'react';\nimport cx from 'classnames';\n\nexport default function ControlButton({children, onClick, isActive, ...props}) {\n  return (\n    <button className={cx(\"control-button\", {'is-active': isActive})} onClick={onClick} {...props}>\n      {children}\n    </button>\n  );\n}","import FiltersEditor from './FiltersEditor';\n\nexport default FiltersEditor;","\nimport React, {useState} from 'react';\n\nimport ControlButton from '../ControlButton';\n\nexport default function FiltersEditor ({\n  onToggleFiltersModeAnd,\n  filtersModeAnd,\n  filtersOptions,\n  onFiltersChange,\n  filters\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [newFilterAttribute, setNewFilterAttribute] = useState(undefined);\n\n  let newFilterOptions = [];\n  if (newFilterAttribute) {\n    filtersOptions[newFilterAttribute].options.forEach(option => newFilterOptions.push(option))\n  }\n\n  const handleNewFilterSubmit = (e) => {\n    const value = e.target.value;\n    onFiltersChange([\n      ...filters,\n      {\n        attribute: newFilterAttribute,\n        value\n      }\n    ])\n    setNewFilterAttribute(undefined);\n  }\n  const handleNewFilterChange = e => {\n    const val = e.target.value;\n    if (val.length)\n      setNewFilterAttribute(val)\n  }\n  return (\n    <div className=\"FiltersEditor\">\n      <div>\n        <button className={isOpen ? 'is-active' : ''} onClick={() => setIsOpen(!isOpen)}>\n          Filtres ...\n        </button>\n      </div>\n      {\n        isOpen &&\n        <div>\n          <ControlButton  onClick={onToggleFiltersModeAnd}>\n            Mode des filtres: {filtersModeAnd ? 'AND (intersection des filtres)' : 'OR (union des filtres)'}\n          </ControlButton>\n          {filters.length ?\n          <div>\n            <h6>Filtres existants</h6>\n            <ul className=\"existing-filters\">\n              {\n                filters.map(({attribute, value}, index) => {\n                  const handleDelete = () => {\n                    let newFilters = filters.filter((f, i) => i !== index);\n                    onFiltersChange(newFilters);\n                  }\n                  return (\n                    <li key={index}>\n                      <div>\n                        {attribute} : {value}\n                      </div>\n                      <div>\n                        <button onClick={handleDelete}>\n                        \n                        </button>\n                      </div>\n                    </li>\n                  )\n                })\n              }\n            </ul>\n          </div>\n          : null\n        }\n          <div>\n            <h6>Ajouter un nouveau filtre</h6>\n            <select value={newFilterAttribute || ''} onChange={handleNewFilterChange}>\n              {\n                Object.entries(filtersOptions).map(([id, {title}], index) => {\n                  return (\n                    <option value={id} key={index}>{title}</option>\n                  )\n                })\n              }\n              <option value=\"\">Selectionner</option>\n            </select>\n            {\n              newFilterAttribute !== undefined ?\n              <select value={''} onChange={handleNewFilterSubmit}>\n                {\n                  newFilterOptions\n                  .sort((a, b) => {\n                    if (a > b) {\n                      return 1;\n                    }\n                    return -1;\n                  })\n                  .map((id, index) => {\n                    return (\n                      <option value={id} key={index}>{id}</option>\n                    )\n                  })\n                }\n                <option value=\"\">Selectionner</option>\n              </select>\n              : null\n            }\n          </div>\n        </div>\n      }\n      \n    </div>\n  )\n}","import VariablesEditor from './VariablesEditor';\n\nexport default VariablesEditor;","import React, {useState} from 'react';\n\nexport default function VariablesEditor ({\n  options,\n  variables,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const isNotAllDefault = variables.find(v => v.value !== 'default' &&v.value !== undefined) !== undefined;\n  return (\n    <div className=\"FiltersEditor VariablesEditor\">\n      <div>\n        <button className={isOpen || isNotAllDefault ? 'is-active' : ''} onClick={() => setIsOpen(!isOpen)}>\n          Variables ...\n        </button>\n      </div>\n      {\n        (isOpen || isNotAllDefault) &&\n        <div>\n          {\n            variables.map(({title, value, onChange, type, localOptions}, index) => {\n              const getOptions = () => {\n                switch(type) {\n                  case 'color':\n                  case 'string':\n                    if (localOptions) {\n                      return localOptions;\n                    }\n                    return  Object.entries(options)\n                  case 'boolean':\n                    return [['true', {title: 'Oui'}], ['false', {title: 'Non'}]]\n                  case 'number':\n                  default:\n                    return Object.entries(options)\n                    .filter(([_id, option]) => ['integer', 'float'].includes(option.type))\n                }\n              }\n              const activeOptions = [\n                {\n                  value: 'default',\n                  title: 'Dfaut'\n                },\n                ...getOptions()\n                  .map(([id, option]) => ({\n                    label: option.title,\n                    value: id\n                  }))\n              ]\n\n              if (activeOptions.length <= 1) {\n                return null;\n              }\n              return (\n                <div key={index}>\n                  <h6>{title} </h6>\n                  <select value={value} onChange={e => {\n                      const newVal = e.target.value;\n                      if (type === 'boolean') {\n                        return onChange(newVal === 'true' ? true : false)\n                      }\n                      return onChange(newVal)\n                    }}>\n                    {\n                      activeOptions.map(({value, label}) => (\n                        <option key={value} value={value}>\n                          {label ||'Dfaut'}\n                        </option>\n                      ))\n                    }\n                  </select>\n                </div>\n              )\n            })\n          }\n        </div>\n      }\n      \n    </div>\n  )\n}","\nimport React, {useState, useEffect} from 'react';\nimport { SketchPicker } from 'react-color';\nimport debounce from 'lodash/debounce';\n\nconst ColorItemHandler = ({\n  modality,\n  onChange,\n  color\n}) => {\n  const [isEdited, setEdited] = useState(false);\n  const [editedColor, setEditedColor] = useState(color);\n  useEffect(() => {\n    setEditedColor(color)\n  }, [color]);\n  const debouncedOnChange = debounce(onChange, 300);\n  const handleChange = newColor => {\n    setEditedColor(newColor.hex);\n    debouncedOnChange(newColor.hex);\n  }\n  const handleClose = () => {\n    onChange(editedColor);\n    setEdited(false);\n  }\n  return (\n    <li>\n      <span onClick={() => setEdited(!isEdited)} className=\"legend-color\" style={{background: color}} />\n      <span className=\"legend-modality\">{modality}</span>\n      {\n        isEdited ?\n        <>\n          <div onClick={handleClose} className=\"color-picker-container\">\n            <div onClick={e => {e.stopPropagation()}}>\n              <h5>Choisir la couleur de la modalit \"{modality}\"</h5>\n              <SketchPicker onChange={handleChange} color={editedColor} />\n            </div>\n          </div>\n        </>\n        : null\n      }\n    </li>\n  )\n}\n\nexport default function ColorLegend ({\n  colorPalette,\n  onChange,\n}) {\n  if (!colorPalette) {\n    return null;\n  }\n  return (\n    <div className=\"ColorLegend\" >\n      <h6>Lgende</h6>\n      <ul>\n        {\n          Object.entries(colorPalette)\n          .map(([modality, color]) => {\n            const handleChange = newColor => {\n              onChange({\n                ...colorPalette,\n                [modality] : newColor\n              })\n            }\n            return (\n              <ColorItemHandler onChange={handleChange} key={modality} {...{modality, color}} />\n            )\n          })\n        }\n      </ul>\n    </div>\n  );\n}","import ColorLegend from './ColorLegend';\n\nexport default ColorLegend;","import React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport Slider from 'rc-slider';\nimport debounce from 'lodash/debounce';\n\nimport ControlButton from '../ControlButton';\nimport FiltersEditor from '../FiltersEditor';\nimport VariablesEditor from '../VariablesEditor';\nimport ColorLegend from '../ColorLegend';\n\nconst SLIDER_MARKS = {\n  '0.25': 'dfaut'\n};\n\nfunction DebouncedSlider({defaultValue, onChange}) {\n  const [value, setValue] = useState(defaultValue);\n\n  useEffect(() => {\n    setValue(defaultValue);\n  }, [defaultValue])\n\n  const onSliderChange = newValue => {\n    setValue(newValue);\n    onChange(newValue);\n  };\n\n  return (\n    <Slider\n      min={0}\n      max={1}\n      step={0.01}\n      defaultValue={defaultValue}\n      value={value}\n      onChange={onSliderChange}\n      marks={SLIDER_MARKS}\n    />\n  );\n}\n\n\nexport default function GraphControls({\n  rescale, \n  zoomIn, \n  zoomOut, \n  searchString = '',\n  onSearchStringChange,\n  filtersModeAnd,\n  onToggleFiltersModeAnd,\n  labelDensity,\n  displayAllLabels,\n\n  nodeSizeVariable,\n  nodeColorVariable,\n  nodeLabelVariable,\n\n  filtersOptions,\n  filters = [],\n  colorPalette,\n\n  onFiltersChange,\n  onNodeSizeVariableChange,\n  onNodeColorVariableChange,\n  onNodeLabelVariableChange,\n  onLabelDensityChange,\n  onColorPaletteChange,\n  onDisplayAllLabelsChange,\n}) {\n  const handleSearchChange = e => onSearchStringChange(e.target.value);\n  const [isMinified, setIsMinified] = useState(true)\n  return (\n    <>\n      <button onClick={() => setIsMinified(!isMinified)} className={cx('minify-button', {'is-active': !isMinified})}>\n        {'diter'}\n      </button>\n      <ul className={cx(\"VisControls GraphControls\", {'is-minified': isMinified})}>\n        \n        <li className=\"vis-controls-item camera\">\n        \n        <ControlButton onClick={zoomOut}>\n          -\n        </ControlButton>\n        <ControlButton onClick={zoomIn}>\n          +\n        </ControlButton>\n        <ControlButton onClick={rescale}>\n          Recentrer\n        </ControlButton>\n        </li>\n        <li className=\"vis-controls-item\">\n          <form onSubmit={e => e.preventDefault()}>\n            <input type=\"text\" onChange={handleSearchChange} placeholder=\"rechercher\" value={searchString} />\n          </form>\n        </li>\n        \n        <li className=\"vis-controls-item\">\n          <VariablesEditor\n            {\n              ...{\n                options: filtersOptions,\n                variables: [{\n                    title: 'Taille des noeuds',\n                    onChange: onNodeSizeVariableChange,\n                    value: nodeSizeVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Couleur des noeuds',\n                    value: nodeColorVariable,\n                    onChange: onNodeColorVariableChange,\n                    type: 'color'\n                  },\n                  {\n                    title: 'Label des noeuds',\n                    value: nodeLabelVariable,\n                    onChange: onNodeLabelVariableChange,\n                    type: 'string'\n                  },\n                  {\n                    title: 'Afficher tous les labels',\n                    onChange: () => onDisplayAllLabelsChange(!displayAllLabels),\n                    localOptions: [[\n                      false,\n                      {title: 'non'}\n                    ], [\n                      true,\n                      {title: 'oui'}\n                    ]],\n                    value: displayAllLabels,\n                    type: 'boolean'\n                  },\n                ],\n              }\n            }\n          />\n        </li>\n        \n        <li className=\"vis-controls-item\">\n        <FiltersEditor\n          {\n            ...{\n              onToggleFiltersModeAnd,\n              filtersModeAnd,\n              filtersOptions,\n              onFiltersChange,\n              filters\n            }\n          }\n        />\n        </li>\n        <li className=\"vis-controls-item slider-wrapper\">\n          <form onSubmit={e => e.preventDefault()}>\n            <h5>Densit des labels</h5>\n            <div className=\"slider-container\">\n                <DebouncedSlider\n                  defaultValue={labelDensity}\n                  onChange={debounce(onLabelDensityChange, 300)}\n                />\n              </div>\n          </form>\n        </li>\n        {\n            nodeColorVariable && nodeColorVariable !== 'default' ?\n            <ColorLegend\n              colorPalette={colorPalette}\n              onChange={onColorPaletteChange}\n            />\n            : null\n          }\n      </ul>\n    </>\n  );\n}","import React from 'react';\nimport cx from 'classnames';\n\nimport ControlButton from '../ControlButton';\n\n// import eye from './icons/magnifier-with-an-eye.svg';\n// import plus from './icons/add-searching.svg';\n// import minus from './icons/delete-searching.svg';\n// import activate from './icons/validate-search.svg';\n// import deactivate from './icons/magnifier-and-delete-mark.svg';\n\nexport default function GraphNav({\n  rescale,\n  zoomIn,\n  zoomOut,\n  isLocked,\n  onToggleLock,\n  lang\n}) {\n  let lockMessage = isLocked ? 'permettre la navigation dans le graphe' : 'bloquer la navigation dans le graphe';\n  if (lang !== 'en') {\n    lockMessage = isLocked ? 'enable navigation' : 'disable navigation';\n  }\n  return (\n    <ul className={cx(\"GraphNav\", {'is-expanded': !isLocked})}>\n      \n      <li className=\"vis-controls-item\">\n\n        <ControlButton title={lang === 'fr' ? 'dzoomer dans la vue' : 'unzoom'} disabled={isLocked} onClick={zoomOut}>\n          {/* <img alt=\"btn-icon\" src={minus} /> */}\n          {lang === 'fr' ? 'dzoomer' : 'unzoom'}\n        </ControlButton>\n      </li>\n      <li className=\"vis-controls-item\">\n        <ControlButton title={lang === 'fr' ? 'zoomer dans la vue' : 'zoom'} disabled={isLocked} onClick={zoomIn}>\n          {/* <img alt=\"btn-icon\" src={plus} /> */}\n          {lang === 'fr' ? 'zoomer' : 'zoom'}\n        </ControlButton>\n      </li>\n      <li className=\"vis-controls-item\">\n        <ControlButton title={lang === 'fr' ? 'recentrer la vue' : 'recenter'} disabled={isLocked} onClick={rescale}>\n          {/* <img alt=\"btn-icon\" src={eye} /> */}\n          {lang === 'fr' ? 'recentrer' : 'recenter'}\n        </ControlButton>\n      </li>\n      <li className=\"vis-controls-item\">\n        <ControlButton isActive={!isLocked} title={lockMessage} onClick={onToggleLock}>\n          {/* {isLocked ? <img alt=\"btn-icon\" src={activate} /> : <img alt=\"btn-icon\" src={deactivate} />} */}\n          {lang === 'fr' ? 'explorer' : 'explore'}\n        </ControlButton>\n      </li>\n      \n    </ul>\n  );\n}","import Color from 'color';\nimport {scaleLinear} from 'd3-scale';\nimport {evalIfNodeMatches} from '../../helpers/misc';\n\n\n// Defaults\nconst DEFAULT_NODE_COLOR = '#999';\nconst DEFAULT_NODE_SIZE_RANGE = [2, 15];\n\nexport function createNodeReducer({\n  nodeColor,\n  nodeSize,\n  nodeLabel,\n  nodeSizeFactor = 1,\n  extents,\n  filters = [],\n  filtersModeAnd,\n  colorPalette,\n}) {\n  let nodeSizeScale = null;\n\n  // Creating scales\n  if (!nodeSize) {\n    nodeSizeScale = scaleLinear()\n      .domain([extents.nodeSize.min, extents.nodeSize.max])\n      .range(DEFAULT_NODE_SIZE_RANGE);\n  } else {\n    nodeSizeScale = scaleLinear()\n      .domain([nodeSize.min, nodeSize.max])\n      .range(DEFAULT_NODE_SIZE_RANGE);\n  }\n  // Creating actual reducer\n  const nodeReducer = function (key, attr) {\n    const renderedNode = {\n      x: attr.x,\n      y: attr.y\n    };\n\n    // Color\n    if (!nodeColor) {\n      renderedNode.color = attr.color || DEFAULT_NODE_COLOR;\n    } else if (colorPalette) {\n      renderedNode.color = colorPalette[attr[nodeColor.name]] ||DEFAULT_NODE_COLOR;\n    } else {\n      renderedNode.color =\n        nodeColor.palette[attr[nodeColor.name]] || DEFAULT_NODE_COLOR;\n    }\n    // Size\n    if (!nodeSize) {\n      let v = attr.size || 1;\n      renderedNode.size = nodeSizeScale(v);\n    } else {\n      let v = attr[nodeSize.name];\n      v = typeof v === 'number' ? v : 1;\n      renderedNode.size = nodeSizeScale(v);\n    }\n\n    renderedNode.size *= nodeSizeFactor;\n\n    // Label\n    if (!nodeLabel) {\n      renderedNode.label = attr.label || key;\n    } else {\n      renderedNode.label = nodeLabel === 'default' ? attr.label || key : attr[nodeLabel] || '';\n    }\n    // renderedNode.label = renderedNode.label === '' ? 'coucou': renderedNode.label;\n\n    // // hidden\n    if (filters.length && evalIfNodeMatches(attr, filters, filtersModeAnd) === false) {\n      renderedNode.hidden = true;\n      renderedNode.label = '';\n    } else {\n      renderedNode.hidden = false;\n    }\n\n    return renderedNode;\n  };\n\n  return nodeReducer;\n}\n\n\nexport function createEdgeReducer({\n  nodeColor,\n  nodeSize,\n  // nodeLabel,\n  // nodeSizeFactor = 1,\n  // extents,\n  // filters = [],\n  // filtersModeAnd,\n  edgesMap,\n  colorPalette,\n}) {\n\n  \n  // Creating actual reducer\n  const edgeReducer = function (key, attr, el1, el2) {\n    const {\n      sourceNode, \n      targetNode\n    } = edgesMap.get(key);\n    const renderedEdge = {};\n    // color with biggest node\n    const sourceNodeSize = nodeSize ? sourceNode[nodeSize.name] : sourceNode.size;\n    const targetNodeSize = nodeSize ? targetNode[nodeSize.name] : targetNode.size;\n    const biggerNode = sourceNodeSize > targetNodeSize ? sourceNode : targetNode;\n\n    // Color\n    if (biggerNode) {\n      if (!nodeColor) {\n        renderedEdge.color = biggerNode.color || DEFAULT_NODE_COLOR;\n      } else if (colorPalette) {\n        renderedEdge.color = colorPalette[biggerNode[nodeColor.name]] ||DEFAULT_NODE_COLOR;\n      }  else {\n        renderedEdge.color =\n          nodeColor.palette[biggerNode[nodeColor.name]] || DEFAULT_NODE_COLOR;\n      }\n      renderedEdge.color = Color(renderedEdge.color).lighten(0.4).rgb().string();\n    }\n    return renderedEdge;\n  };\n\n  return edgeReducer;\n}","import iwanthue from 'iwanthue';\n\nconst DEFAULT_COLOR_SPACE = {\n  cmin: 25.59,\n  cmax: 55.59,\n  lmin: 60.94,\n  lmax: 90.94\n};\n\nconst SINGLE_COLOR_PALETTE = ['#999'];\n\nexport function generatePalette(name, count) {\n  if (count === 1 || !count) return SINGLE_COLOR_PALETTE;\n  else if (count === 2) {\n    return ['#D77186', '#61A2DA']\n  }\n\n  return iwanthue(count, {\n    colorSpace: DEFAULT_COLOR_SPACE,\n    seed: name,\n    clustering: 'force-vector'\n  });\n}","import DebouncedInput from './DebouncedInput';\n\nexport default DebouncedInput;","\n\nimport debounce from 'lodash/debounce';\nimport {useState, useEffect, useMemo} from 'react';\nimport Textarea from 'react-textarea-autosize';\n\nexport default function DebouncedInput({\n  value: propsValue,\n  onChange: propsOnChange,\n  type = 'input',\n  ...rest\n}) {\n  const [value, setValue] = useState(propsValue);\n\n  useEffect(() => {\n    setValue(propsValue);\n  }, [propsValue]);\n\n  const propagateChange = useMemo(() => debounce(propsOnChange, 300), [propsOnChange]);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n    propagateChange(e.target.value);\n  }\n  if (type === 'input') {\n    return (\n      <input\n        value={value}\n        onChange={handleChange}\n        {...rest}\n      />\n    );\n  }\n  return (\n    <Textarea\n      value={value}\n      onChange={handleChange}\n      {...rest}\n    />\n  );\n}","import React, {useCallback, useRef, useState, useEffect, useMemo, useContext} from 'react';\n// import Graph from 'graphology';\nimport {WebGLRenderer} from 'sigma';\nimport {scaleLinear} from 'd3-scale';\n// import colorParse from 'parse-color';\nimport {min, max} from 'd3-array';\nimport cx from 'classnames';\nimport ContainerDimensions from 'react-container-dimensions';\n\nimport {LanguageContext} from '../../contexts';\n\nimport {\n  usePrevious, \n} from './hooks';\nimport GraphControls from './GraphControls';\nimport GraphNav from './GraphNav';\nimport {createNodeReducer, createEdgeReducer} from './reducers';\nimport {generatePalette} from '../../helpers/palettes';\nimport Input from '../DebouncedInput';\n\nimport './GraphContainer.css';\nimport { evalIfNodeMatches } from '../../helpers/misc';\n\n\n\n// Camera controls\nfunction rescale(renderer) {\n  const camera = renderer.getCamera();\n  camera.animatedReset(renderer);\n}\n\nfunction zoomIn(renderer) {\n  const camera = renderer.getCamera();\n  camera.animatedZoom(renderer);\n}\n\nfunction zoomOut(renderer) {\n  const camera = renderer.getCamera();\n  camera.animatedUnzoom(renderer);\n}\n\n\nexport function GraphContainer({\n  graph,\n  width = 500,\n  height = 500,\n  // nodeColor,\n  // nodeSize,\n  labelDensity,\n  labelSize = 12,\n  displayAllLabels,\n  lockCamera,\n  extents,\n\n  searchString = '',\n  onSearchStringChange,\n\n  filtersModeAnd,\n  onToggleFiltersModeAnd,\n\n  filtersOptions = {},\n  filters : inputFilters = [],\n  onFiltersChange,\n\n  onCameraUpdate,\n  presentationMode,\n  showNav = true,\n  onToggleCameraLock,\n\n  cameraPosition,\n\n  updateTimestamp,\n  title,\n  legend,\n\n  nodeSizeVariable,\n  nodeColorVariable,\n  colorPalette : inputColorPalette,\n  nodeLabelVariable,\n  onNodeSizeVariableChange,\n  onNodeColorVariableChange,\n  onNodeLabelVariableChange,\n  onLabelDensityChange,\n  onColorPaletteChange,\n  onTitleChange,\n  onLegendChange,\n  onDisplayAllLabelsChange,\n}) {\n  const {lang} = useContext(LanguageContext);\n  const CELL_HEIGHT_RANGE = [height / 5, 1];\n  const CELL_WIDTH_RANGE = [width / 5, 1];\n\n  const [labelsMode, setLabelsMode] = useState(false);\n\n  const filters = useMemo(() => inputFilters, [JSON.stringify(inputFilters)]);\n  const colorPalette = useMemo(() => inputColorPalette, [JSON.stringify(inputColorPalette)]);\n\n  useEffect(() => {\n    setLabelsMode(false);\n  }, [nodeColorVariable, filters, labelDensity, labelSize, displayAllLabels])\n\n\n  // const CELL_HEIGHT_RANGE = [200, 10];\n  // const CELL_WIDTH_RANGE = [300, 30];\n\n  const cellHeightScale = scaleLinear().domain([0, 1]).range(CELL_HEIGHT_RANGE);\n  const cellWidthScale = scaleLinear().domain([0, 1]).range(CELL_WIDTH_RANGE);\n\n\n  const nodeSize = useMemo(() => {\n    if (nodeSizeVariable && nodeSizeVariable !== 'default' && filtersOptions[nodeSizeVariable]) {\n      const values = Array.from(filtersOptions[nodeSizeVariable].options)\n      return {\n        min: min(values),\n        max: max(values),\n        name: nodeSizeVariable\n      }\n    } else return undefined;\n  }, [nodeSizeVariable])\n\n  const nodeColor = useMemo(() => {\n    if (nodeColorVariable && nodeColorVariable !== 'default' && filtersOptions[nodeColorVariable]) {\n      const colors = generatePalette(nodeColorVariable, filtersOptions[nodeColorVariable].options.size);\n      let palette = {};\n      let i = 0;\n      filtersOptions[nodeColorVariable].options.forEach(option => {\n        palette[option] = colors[i];\n        i++;\n      });\n      return {\n        palette,\n        name: nodeColorVariable\n      }\n    } else if(nodeColorVariable && nodeColorVariable !== 'default' && colorPalette) {\n      return {\n        palette: colorPalette,\n        name: nodeColorVariable\n      }\n    } else return undefined;\n  }, [nodeColorVariable])\n\n  const edgesMap = useMemo(() => {\n    const m = new Map()\n    graph.forEach(\n      (_source, _target, sourceAttributes, targetAttributes, edge, _edgeAttributes) => {\n      m.set(edge, {sourceNode: sourceAttributes, targetNode: targetAttributes})\n    });\n    return m;\n  }, [graph])\n\n  const previousNodeColor = usePrevious(nodeColor);\n  const previousNodeSize = usePrevious(nodeSize);\n  const previousNodeLabelVariable = usePrevious(nodeLabelVariable);\n  const previousLabelDensity = usePrevious(labelDensity);\n  const previousSearchString = usePrevious(searchString);\n  const previousFilters = usePrevious(filters);\n  const previousColorPalette = usePrevious(colorPalette);\n  const previousFiltersModeAnd = usePrevious(filtersModeAnd);\n  const previousDisplayAllLabels = usePrevious(displayAllLabels);\n  const previousLabelsMode = usePrevious(labelsMode);\n  const previousLockCamera = usePrevious(lockCamera);\n\n  const nodeReducer = createNodeReducer({\n    nodeColor,\n    nodeSize,\n    nodeLabel: !labelsMode ? nodeLabelVariable : 'default',\n    extents,\n    filters,\n    filtersModeAnd,\n    colorPalette,\n  });\n  \n  const edgeReducer = createEdgeReducer({\n    nodeColor,\n    colorPalette,\n    // nodeSize,\n    // nodeLabel,\n    // extents,\n    filters,\n    filtersModeAnd,\n    edgesMap,\n  });\n\n  const container = useRef(null);\n  const [renderer, setRenderer] = useState(null);\n\n\n  useEffect(() => {\n    if (renderer) {\n      const camera = renderer.getCamera();\n      if (cameraPosition) {\n        if (camera.disabled) {\n          camera.enable();\n        }\n        camera.animate({...camera.getState(), ...cameraPosition});     \n      }\n      if (!previousLockCamera && lockCamera) {\n        camera.animate({...camera.getState(), ...cameraPosition});     \n        setTimeout(() => camera.disable(), 500);\n      }\n      if (previousLockCamera && !lockCamera) {\n        camera.enable();\n        camera.animate({...camera.getState(), ...cameraPosition});   \n      }\n    }\n    \n  }, [\n    lockCamera, \n    cameraPosition,\n    nodeColorVariable,\n    nodeSizeVariable,\n    filters,\n    filtersModeAnd,\n    colorPalette,\n  ])\n\n  // Should we refresh?\n  if (renderer) {\n    let needToRefresh = false;\n\n    if (\n      previousNodeColor !== nodeColor ||\n      previousNodeSize !== nodeSize ||\n      previousNodeLabelVariable !== nodeLabelVariable ||\n      previousColorPalette !== colorPalette ||\n      // previousSearchString !== searchString ||\n      previousFilters !== filters ||\n      previousFiltersModeAnd !== filtersModeAnd ||\n      labelsMode !== previousLabelsMode\n    ) {\n      // console.log('Refreshing sigma');\n\n      // TODO: use upcoming #.setNodeReducer\n      renderer.settings.nodeReducer = nodeReducer;\n      renderer.settings.edgeReducer = edgeReducer;\n      needToRefresh = true;\n    }\n\n    if (previousLabelDensity !== labelDensity) {\n      let actualLabelDensity = labelDensity > 1 ? 1 : labelDensity;\n      const cellWidth = cellWidthScale(actualLabelDensity);\n      const cellHeight = cellHeightScale(actualLabelDensity);\n      renderer.settings.labelGrid.cell = {\n        width: cellWidth,\n        height: cellHeight\n      };\n\n      // TODO from nansi: we can improve sigma to handle this\n      renderer.displayedLabels = new Set();\n      needToRefresh = true;\n    }\n\n    // workaround for clusters titles display\n    // @todo replace this with a cleaner solution at some point\n    if ((\n      previousDisplayAllLabels !== displayAllLabels || !previousDisplayAllLabels || renderer.displayedLabels.size === 0\n      || previousNodeLabelVariable !== nodeLabelVariable || previousFilters !== filters ||\n      previousLabelsMode !== labelsMode\n      ) && displayAllLabels && !labelsMode) {\n      graph.forEachNode((id, attributes) => {\n        const {label} = attributes;\n        \n        const displayedLabel = nodeLabelVariable && nodeLabelVariable !== 'default' ? attributes[nodeLabelVariable] : label;\n        if (evalIfNodeMatches(attributes, filters, filtersModeAnd) && displayedLabel && displayedLabel.trim().length > 0) {\n          renderer.highlightNode(id)\n        } else {\n          renderer.unhighlightNode(id);\n        }\n      })\n      needToRefresh = true;\n    } else if (\n      (previousDisplayAllLabels !== displayAllLabels && !displayAllLabels)\n      ||\n      (previousLabelsMode !== labelsMode && labelsMode)\n      ) {\n      renderer.highlightedNodes = new Set();\n      needToRefresh = true;\n    }\n\n    if (previousSearchString !== searchString) {\n      if (searchString.length >= 3) {\n        graph.forEachNode((id, attributes) => {\n          const {label} = attributes;\n          if (label.toLowerCase().includes(searchString.toLowerCase())) {\n            renderer.highlightNode(id)\n          } else renderer.unhighlightNode(id)\n        })\n      } else if (renderer.highlightedNodes.size > 0) {\n        renderer.highlightedNodes = new Set();\n      }\n      needToRefresh = true;\n    }\n\n    if (needToRefresh) {\n      renderer.refresh();\n    }\n  }\n\n  const setContainer = useCallback(\n    node => {\n      if (renderer && renderer.graph !== graph) {\n        renderer.kill();\n        setRenderer(null);\n      }\n\n      if (node && graph) {\n        setTimeout(() => {\n          const newRenderer = new WebGLRenderer(graph, node, {nodeReducer, edgeReducer});\n          let actualLabelDensity = labelDensity > 1 ? 1 : labelDensity;\n          const cellWidth = cellWidthScale(actualLabelDensity);\n          const cellHeight = cellHeightScale(actualLabelDensity);\n          newRenderer.settings.labelGrid.cell = {\n            width: cellWidth,\n            height: cellHeight\n          };\n          newRenderer.settings.labelSize = labelSize;\n          newRenderer.settings.labelFont = 'Fira Sans';\n          newRenderer.displayedLabels = new Set();\n          newRenderer.refresh();\n          setRenderer(newRenderer);\n          const camera = newRenderer.getCamera();\n          \n          if (cameraPosition) {\n            camera.setState({\n              ...camera.getState(),\n              ...cameraPosition\n            })\n          } else {\n            if (typeof onCameraUpdate === 'function') {\n              onCameraUpdate(camera.getState())\n            }\n          }\n          if (lockCamera) {\n            setTimeout(() => camera.disable());\n          }\n          camera.on('updated', state => {\n            onCameraUpdate(state);\n          })\n        })\n       \n          \n        }\n\n        container.current = node;\n    },\n    [graph] /* eslint react-hooks/exhaustive-deps : 0 */\n  );\n  const handleToggleCameraLock = () => {\n    if (typeof onToggleCameraLock === 'function') {\n      onToggleCameraLock();\n    }\n  }\n\n  return (\n    <>\n\n      <div ref={setContainer} style={{width: '100%', height: '100%'}}></div>\n      {\n        renderer && presentationMode && showNav &&\n        <GraphNav\n          rescale={rescale.bind(null, renderer)}\n          zoomIn={zoomIn.bind(null, renderer)}\n          zoomOut={zoomOut.bind(null, renderer)}\n          isLocked={lockCamera}\n          onToggleLock={handleToggleCameraLock}\n          lang={lang}\n          />\n      }\n      {\n        renderer && presentationMode && showNav && displayAllLabels &&\n        <ul className=\"labels-toggler\">\n          <li>\n            <button onClick={() => setLabelsMode(true)} className={cx({'is-active': labelsMode})}>{lang === 'fr' ? 'montrer les labels': 'show labels'}</button>\n          </li>\n          <li>\n            <button onClick={() => setLabelsMode(false)} className={cx({'is-active': !labelsMode})}>{lang === 'fr' ? 'montrer les clusters': 'show clusters'}</button>\n          </li>\n        </ul>\n      }\n      {renderer && !presentationMode && (\n        <>\n          <GraphControls\n            rescale={rescale.bind(null, renderer)}\n            zoomIn={zoomIn.bind(null, renderer)}\n            zoomOut={zoomOut.bind(null, renderer)}\n            {\n              ...{\n                searchString,\n                onSearchStringChange,\n                filtersModeAnd,\n                onToggleFiltersModeAnd,\n                filtersOptions,\n                filters,\n                onFiltersChange,\n                nodeSizeVariable,\n                nodeColorVariable,\n                nodeLabelVariable,\n                labelDensity,\n                displayAllLabels,\n                onNodeSizeVariableChange,\n                onNodeColorVariableChange,\n                onNodeLabelVariableChange,\n                onColorPaletteChange,\n                onLabelDensityChange,\n                onDisplayAllLabelsChange,\n                colorPalette: colorPalette,\n              }\n            }\n          />\n          <form onSubmit={e => {e.preventDefault()}} className=\"caption-editor-container\">\n            <h1 className=\"caption-title-container\">\n              <Input\n                value={title || ''}\n                onChange={val => onTitleChange(val)}\n                placeholder=\"Titre de la visualisation\"\n              />\n            </h1>\n            <div className=\"caption-legend-container\">\n              <Input\n                value={legend || ''}\n                type=\"textarea\"\n                onChange={val => onLegendChange(val)}\n                placeholder=\"Lgende de la visualisation\"\n              />\n            </div>\n          </form>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default function GraphContainerWithDimensions(props) {\n  return (\n    <div className=\"VisContainer GraphContainer\">\n\n    <ContainerDimensions>\n      {\n        dimensions => <GraphContainer {...{...props, ...dimensions}} />\n      }\n    </ContainerDimensions>\n    </div>\n  )\n}\n","import React, {useMemo} from 'react';\n// import {NavLink} from 'react-router-dom';\nimport Helmet from 'react-helmet';\nimport Graph from 'graphology';\nimport gexf from 'graphology-gexf';\nimport {extent} from 'd3-array';\nimport cx from 'classnames';\nimport ContainerDimensions from 'react-container-dimensions';\n\nimport Loader from '../Loader';\nimport Nav from '../Nav';\n\nimport CitationFr from '!babel-loader!mdx-loader!../../contents/fr/citation.mdx'\nimport CitationEn from '!babel-loader!mdx-loader!../../contents/en/citation.mdx'\n\nimport frMetadata from '../../contents/fr/metadata';\nimport enMetadata from '../../contents/en/metadata';\nimport {homepage} from '../../../package.json';\n\nimport {GraphContainer} from '../GraphAnnotation/GraphContainer'\n\nlet GraphWrapper = ({data, ...props}) => {\n  // const [cameraPosition, setCameraPosition] = useState({x: props.x, y: props.y, ratio: props.ratio})\n  // useEffect(() => {\n  //   setCameraPosition({\n  //     x: props.x, y: props.y, ratio: props.ratio\n  //   })\n  // }, [props.x, props.y, props.ratio])\n  const graph = useMemo(() => {\n    return gexf.parse(Graph, data);\n  }, [data]);\n\n  // const onCameraUpdate = (pos) => {\n  //   setCameraPosition(pos);\n  // }\n  let sizes = [];\n  graph.forEachNode((node, attributes) => {\n    sizes.push(attributes.size);\n  })\n  const sizeExtent = extent(sizes);\n  return (\n    <div style={{width: props.width, height: props.height}}>\n    <GraphContainer\n      lockCamera\n      showNav={false}\n      {...{\n        ...props,\n        graph,\n        extents: {\n          nodeSize: {\n            min: sizeExtent[0],\n            max: sizeExtent[1]\n          }\n        },\n        // onCameraUpdate,\n        // cameraPosition,\n      }\n      }\n    />\n    </div>\n  );\n}\n\nconst GraphWrapperWithDimensions = props => (\n  <ContainerDimensions>\n    {\n      dimensions => <GraphWrapper {...{...props, ...dimensions}} />\n    }\n  </ContainerDimensions>\n)\n\n// const LanguageToggler = ({lang}) => {\n//   return (\n//     <ul className=\"LanguageToggler\">\n//       <li>\n//         <NavLink to=\"/publication/fr\">\n//           fr\n//         </NavLink>\n//       </li>\n//       <li>\n//         <NavLink to=\"/publication/en\">\n//           en\n//         </NavLink>\n//       </li>\n//     </ul>\n//   )\n// }\n\nconst Header = ({\n  lang, \n  routes,\n  onRouteNav,\n  isVisible,\n  activeSectionIndex,\n  graphData,\n  loadingFraction,\n  onScrollToTop,\n  onScrollToFirstSection,\n  inFooter\n}) => {\n  const meta = lang === 'fr' ? frMetadata : enMetadata;\n  const {\n    title,\n    description,\n    creators,\n    generalAuthor,\n    publicationDate\n  } = meta;\n  const preventScroll = e => {\n    e.preventScroll();\n    e.stopPropagation();\n    e.preventDefault();\n  }\n  const Chapo = routes[0].contentsCompiled[lang];\n  return (\n    <header className={cx(\"Header\", {'is-visible': isVisible})}>\n      <Helmet>\n        <html lang={lang} />\n        <meta charSet={ 'UTF-8' } />\n        <title>{title}</title>\n        {/*<!-- META DUBLIN CORE -->*/}\n        <meta\n          name={ 'DC.Title' }\n          lang={ 'fr' }\n          content={ title }\n        />\n        <meta\n          name={ 'DC.Date.created' }\n          schema={ 'W3CDTF' }\n          content={ publicationDate }\n        />\n\n        {\n          creators.reduce((total, group) => {\n            return group.people.reduce((total2, people) => {\n              return [\n                ...total2,\n                <meta\n                  key={ people }\n                  name={ 'DC.creator' }\n                  content={ `people` }\n                />\n              ]\n            }, total)\n          }, [])\n        }\n        <meta\n          name={ 'DC.issued' }\n          lang={ 'fr' }\n          content={ publicationDate }\n        />\n        <meta\n          name={ 'DC.Date.created' }\n          schema={ 'W3CDTF' }\n          content={ publicationDate }\n        />\n        {\n            // tags.map((thatTag, index) => <meta key={index} name=\"DC.subject\" xml:lang=\"en-GB\" content={thatTag} />)\n          }\n        {/*<!-- END META DUBLIN CORE -->*/}\n\n        {/*<!-- REGULAR META -->*/}\n        <meta\n          name={ 'author' }\n          content={ \n            creators.reduce((total, group) => {\n              return group.people.reduce((total2, people) => {\n                return [\n                  ...total2,\n                  people\n                ]\n              }, total)\n            }, []).join(', ')\n           }\n        />\n        <meta\n          name={ 'description' }\n          content={ description }\n        />\n        <meta\n          name={ 'viewport' }\n          content={ 'user-scalable=no,width=device-width' }\n        />\n        {/*<!-- END REGULAR META -->*/}\n\n        {/*<!-- META TWITTER -->*/}\n        <meta\n          name={ 'twitter:card' }\n          value={ 'summary' }\n        />\n        <meta\n          name={ 'twitter:site' }\n          content={ homepage }\n        />\n        <meta\n          name={ 'twitter:title' }\n          content={ title }\n        />\n        <meta\n          name={ 'twitter:description' }\n          content={ description }\n        />\n        {/*<!-- todo : Twitter Summary card images must be at least 200x200px -->*/}\n        {/*<meta name=\"twitter:image\" content=\"xxx\">*/}\n        {/*<!-- end meta twitter-->*/}\n\n        {/*<!-- META GOOGLE + -->*/}\n        <meta\n          itemProp={ 'name' }\n          content={ title }\n        />\n        <meta\n          itemProp={ 'description' }\n          content={ description }\n        />\n        {/*<meta itemProp=\"image\" content=\"https://peritex.surge.sh/bulgur-rs.png\">*/}\n        {/*<!-- END META GOOGLE + -->*/}\n\n        {/*<!-- META OPEN GRAPH / FACEBOOK -->*/}\n        <meta\n          property={ 'og:title' }\n          content={ title }\n        />\n        <meta\n          property={ 'og:type' }\n          content={ 'website' }\n        />\n        <meta\n          property={ 'og:url' }\n          content={ homepage }\n        />\n        <meta\n          property={ 'og:description' }\n          content={ description }\n        />\n      </Helmet>\n      {/* <LanguageToggler lang={lang} /> */}\n      <div onClick={onScrollToTop} className=\"running-title\">\n        <h1>{title}</h1>\n      </div>\n      <div className=\"header-main\">\n           <h2 className=\"general-author\">\n             {generalAuthor}\n           </h2>\n           <div className=\"main-title-container\">\n            <h1 className=\"main-title\">\n              {title}\n            </h1>\n           </div>\n           {/* <ul className=\"creators\">\n             {\n               creators.map(({role, people}) => (\n                 <li key={role}>\n                   <div className=\"role\">{role}</div>\n                   <ul className=\"people-container\">\n                     {\n                       people.map(person => (\n                         <li className=\"person\" key={person}>{person}</li>\n                       ))\n                     }\n                   </ul>\n                 </li>\n               ))\n             }\n           </ul> */}\n      </div>\n      <div className=\"header-secondary\">\n        {/* Summary */}\n        <div className=\"left\">\n          <div className=\"chapo\">\n            <Chapo />\n          </div>\n          <Nav \n            lang={lang} \n            onRouteNav={onRouteNav} \n            routes={routes} \n            isDeployed={true}\n            activeSectionIndex={activeSectionIndex}\n          />\n          <div className=\"paper-citation\">\n          {\n            lang === 'fr' ?\n            <CitationFr />\n            :\n            <CitationEn />\n          }\n          </div>\n          \n        </div>\n        {/* rseau */}\n        <div className=\"right\">\n        <div\n            onScroll={preventScroll}\n            className={cx(\"GraphWrapperContainer\", {'has-visualization': graphData !== undefined})}\n          >\n            {\n              graphData ?\n              <GraphWrapperWithDimensions\n                data={graphData}\n                presentationMode={true}\n                x={0.5} \n                y={0.5} \n                ratio={.4} \n                labelSize={10}\n                displayAllLabels={true}\n                nodeColorVariable={'cluster_rename'} \n                nodeLabelVariable={'cluster_label'} \n                labelDensity={1} \n                colorPalette={{\"Future_of_AI\":\"#f17325\",\"Profiling_Algorthms\":\"#2cab57\",\"Job_Automation\":\"#f5253e\",\"Market_&_Prices\":\"#6bc06c\",\"Predictive_Algorithms\":\"#adcd24\",\"Web_Algorithms\":\"#d8dd0d\",\"Facial_Recognition\":\"#54a5e8\",\"Voice_Assistant\":\"#106f88\",\"DeepDream_Nightmares\":\"#e1194a\",\"Health_Algorithms\":\"#fa8566\",\"Autonomous_Cars\":\"#e9c33f\",\"Game_&_Education\":\"#a1943c\",\"Chatbot\":\"#32968a\",\"Consumer_&_Copyright\":\"#f49c57\",\"Killer_Robots\":\"#4650ee\",\"Robo-Advisers\":\"#19d2d4\",\"Sex_Robots\":\"#e94d6c\",\"Deepfake\":\"#4f990f\",\"Image_Search\":\"#2ea2b3\",\"Scientific_Research\":\"#cff157\",\"Music\":\"#18a1bc\",\"Email\":\"#ffb7e0\",\"Deep_Voice\":\"#799c89\"}} \n              />\n              :\n              <Loader percentsLoaded={loadingFraction * 100} />\n            }\n          \n          </div>\n          \n          {/* <button onClick={onScrollToFirstSection} className=\"starter-button\">\n        \n        </button> */}\n        </div>\n        \n      </div>\n\n      <Nav \n        lang={lang} \n        onRouteNav={onRouteNav} \n        routes={routes} \n        isDeployed={false}\n        isHidden={isVisible || inFooter}\n        activeSectionIndex={activeSectionIndex}\n      />\n      \n    </header>\n  )\n}\n\nexport default Header;","import Header from './Header';\n\nexport default Header;","import Footer from './Footer';\n\nexport default Footer;","import React, {useContext/*, useMemo, Suspense*/} from 'react';\nimport cx from 'classnames';\nimport { LanguageContext } from '../../contexts';\n\nimport Fr from '!babel-loader!mdx-loader!../../contents/fr/footer.mdx';\nimport En from '!babel-loader!mdx-loader!../../contents/en/footer.mdx';\n\nconst Footer = ({inBottom}) => {\n  const {lang} = useContext(LanguageContext);\n  // const Content = useMemo(() => {\n  //   return  React.lazy(() => import(`!babel-loader!mdx-loader!../../contents/${lang}/footer.mdx`));\n  // }, [lang])\n  return (\n    <footer className={cx(\"Footer\", {'in-bottom': inBottom})}>\n      {\n        lang === 'fr' ? <Fr /> : <En />\n      }\n      {/* <Suspense fallback={() => <div>{lang === 'fr' ? 'Chargement' : 'Loading'}</div>}>\n        <Content />\n      </Suspense> */}\n    </footer>\n  )\n}\n\nexport default Footer;","import React, {useState} from 'react';\nimport cx from 'classnames';\n\nimport VariablesEditor from '../VariablesEditor';\nimport ColorLegend from '../ColorLegend';\nimport FiltersEditor from '../FiltersEditor';\n\n\n\nexport default function LinearGraphControls({\n  xVariable,\n  xLabelVariable,\n  // reverseX,\n  graphType,\n  yVariable,\n  // reverseY,\n\n  colorVariable,\n  // searchString,\n  useRelativeScale,\n\n  onToggleFiltersModeAnd,\n  filtersModeAnd,\n  onFiltersChange,\n  filters,\n  normalizeY,\n\n  // onSearchStringChange,\n  onToggleUseRelativeScale,\n  onGraphTypeChange,\n  \n  onXVariableChange,\n  onXLabelVariableChange,\n  onYVariableChange,\n  onColorVariableChange,\n\n  onColorPaletteChange,\n  onNormalizeYChange,\n\n  // onToggleReverseX,\n  // onToggleReverseY,\n  \n  filtersOptions,\n  colorPalette,\n}) {\n  // const handleSearchChange = e => onSearchStringChange(e.target.value);\n  const [isMinified, setIsMinified] = useState(true)\n  return (\n    <>\n      <button onClick={() => setIsMinified(!isMinified)} className={cx('minify-button', {'is-active': !isMinified})}>\n        {'diter'}\n      </button>\n      <ul className={cx(\"VisControls\", {'is-minified': isMinified})}>\n        \n        {/* <li className=\"vis-controls-item\">\n        <form onSubmit={e => e.preventDefault()}>\n          <input type=\"text\" onChange={handleSearchChange} placeholder=\"rechercher\" value={searchString} />\n        </form>\n        </li> */}\n        <li className=\"vis-controls-item\">\n          <VariablesEditor\n            {\n              ...{\n                options: filtersOptions,\n                variables: [\n                  {\n                    title: 'Type de graphe',\n                    onChange: onGraphTypeChange,\n                    localOptions: [[\n                      'linegraph',\n                      {title: 'lignes'}\n                    ], [\n                      'histogram',\n                      {title: 'histogramme'}\n                    ]],\n                    value: graphType,\n                    type: 'string'\n                  },\n                  {\n                    title: 'Variable des X',\n                    onChange: onXVariableChange,\n                    value: xVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Label des X',\n                    onChange: onXLabelVariableChange,\n                    value: xLabelVariable,\n                    type: 'string'\n                  },\n                  // {\n                  //   title: 'Inverser les x',\n                  //   onChange: onToggleReverseX,\n                  //   value: reverseX,\n                  //   type: 'boolean'\n                  // },\n                  {\n                    title: 'Label des Y',\n                    onChange: onYVariableChange,\n                    value: yVariable,\n                    type: 'number'\n                  },\n                  // {\n                  //   title: 'Inverser les y',\n                  //   onChange: onToggleReverseY,\n                  //   value: reverseY,\n                  //   type: 'boolean'\n                  // },\n                  {\n                    title: 'Utiliser une chelle relative pour les Y quand filtr',\n                    onChange: onToggleUseRelativeScale,\n                    value: useRelativeScale,\n                    type: 'boolean'\n                  },\n                  {\n                    title: 'Couleur des points',\n                    onChange: onColorVariableChange,\n                    value: colorVariable,\n                    type: 'color'\n                  },\n                  {\n                    title: 'Normaliser les Y',\n                    onChange: onNormalizeYChange,\n                    value: normalizeY,\n                    type: 'boolean'\n                  },\n                  // {\n                  //   title: 'Labels des points',\n                  //   onChange: onLabelVariableChange,\n                  //   value: labelVariable,\n                  //   type: 'string'\n                  // },\n                ],\n              }\n            }\n          />\n        </li>\n        <li className=\"vis-controls-item\">\n          <FiltersEditor\n            {\n              ...{\n                onToggleFiltersModeAnd,\n                filtersModeAnd,\n                filtersOptions,\n                onFiltersChange,\n                filters\n              }\n            }\n          />\n        </li>\n        {\n            colorVariable && colorVariable !== 'default' ?\n            <ColorLegend\n              colorPalette={colorPalette}\n              onChange={onColorPaletteChange}\n            />\n            : null\n        }\n      </ul>\n    </>\n  );\n}","import React, {useMemo} from 'react';\nimport ContainerDimensions from 'react-container-dimensions';\nimport {scaleLinear} from 'd3-scale';\nimport {extent, group} from 'd3-array';\nimport Input from '../DebouncedInput';\n\n\nimport LinearGraphControls from './LinearGraphControls';\nimport {generatePalette} from '../../helpers/palettes';\nimport {evalIfNodeMatches} from '../../helpers/misc';\n\nimport './LinearGraphContainer.css';\nimport { max, uniqBy } from 'lodash';\n\nexport function LinearGraphContainer({\n\n  width, \n  height,\n  data,\n\n  xVariable,\n  xLabelVariable,\n  reverseX,\n  yVariable,\n  reverseY,\n  sizeVariable,\n  colorVariable,\n  labelVariable,\n  colorPalette: inputColorPalette,\n  normalizeY,\n\n  title,\n  legend,\n\n  searchString = '',\n\n  graphType = 'linegraph',\n  useRelativeScale,\n\n  onSearchStringChange,\n  filtersOptions = {},\n\n  filtersModeAnd,\n  filters: inputFilters = [],\n  presentationMode,\n\n  \n  onToggleFiltersModeAnd,\n  onFiltersChange,\n  onXVariableChange,\n  onXLabelVariableChange,\n  onYVariableChange,\n  onColorVariableChange,\n  onSizeVariableChange,\n  onLabelVariableChange,\n  onToggleReverseX,\n  onToggleReverseY,\n  onColorPaletteChange,\n  onGraphTypeChange,\n  onToggleUseRelativeScale,\n  onNormalizeYChange,\n\n  onTitleChange,\n  onLegendChange,\n}) {\n \n  // const smallestDimension = min([width, height])\n  const WIDTH = width;\n  const HEIGHT = height;\n\n  // set scales dimensions and scale\n  const MARGIN = WIDTH / 10;\n\n  let xRange = [MARGIN, WIDTH - MARGIN / 2];\n  let yRange = [HEIGHT - MARGIN, MARGIN];\n\n\n  const filters = useMemo(() => inputFilters, [JSON.stringify(inputFilters)]);\n\n  const xLabelMap = useMemo(() => {\n    return data.reduce((dict, datum) => {\n      const labelVariable = xLabelVariable === 'default' ? xVariable : xLabelVariable;\n      return {\n        ...dict,\n        [datum[xVariable]]: datum[labelVariable]\n      }\n    }, {})\n\n  }, [data, xVariable, xLabelVariable])\n  \n  // build visualization groups\n  let dataGroups = [[undefined, data]]\n  if (colorVariable) {\n    dataGroups = Array.from(group(data, d => d[colorVariable]));\n  } \n\n  // reduce items\n  dataGroups = dataGroups.map(([_id, values]) => {\n    const xGroups = Array.from(group(values, d => d[xVariable])).map(([x, ys]) => {\n      return {\n        x: +x, \n        // aggregate ys\n        y: ys.reduce((sum, y) => sum + (+y[yVariable]), 0),\n        filteredY: ys.filter(d => filters.length ? evalIfNodeMatches(d, filters, filtersModeAnd) : true).reduce((sum, y) => sum + (+y[yVariable]), 0),\n        xValue: x\n      }\n    })\n    return [_id, xGroups]\n  });\n \n  // refactorize by x for stacked barchart\n  if (graphType === 'histogram') {\n    const xMap = dataGroups.reduce((res, [color, values]) => {\n      return values.reduce((res2, value) => {\n        const x = value.x;\n        const transformedValue = {...value, color};\n        return {\n          ...res2,\n          [x]: res2[x] ? [...res2[x], transformedValue] : [transformedValue]\n        }\n      }, res)\n    }, {})\n    // turn datagroup to an array of [x, list of related objects]\n    dataGroups = Object.entries(xMap);\n  }\n  let getX, getY;\n  const yPropToFilter = useRelativeScale ? 'filteredY' : 'y';\n  let xValues;\n  if (graphType === 'linegraph') {\n    // handling relative or global filter\n    const xExtent = extent(dataGroups.reduce((res, [_id, values]) => [...res, ...values.map(v => v.x)] , []));\n    getX = scaleLinear().range(xRange).domain(xExtent);\n    getY = scaleLinear().range(yRange).domain([0, max(dataGroups.map(([_id, values]) => max(values.map(v => v[yPropToFilter]))))]).nice();\n  } else if (graphType === 'histogram') {\n    const xExtent = extent(dataGroups.map(([x]) => +x));\n    getX = scaleLinear().range(xRange).domain(xExtent);\n    xValues = uniqBy(dataGroups, d => d[0])\n    // y scale domain is the biggest sum for each x modality\n    getY = scaleLinear().range(yRange).domain([0, max(dataGroups.map(([_x, list]) => list.reduce((sum, item) => sum + item[yPropToFilter] , 0)))]).nice();\n  }\n\n   // apply filter\n   if (filters.length && colorVariable) {\n    const filtersAffectingColor = filters.filter(f => f.attribute === colorVariable);\n    if (graphType === 'linegraph') {\n      dataGroups = dataGroups.filter(([colorValue, values]) => {\n        if (filtersAffectingColor) {\n          if (filtersModeAnd) {\n            const oneFilterDoesNotMatches = filtersAffectingColor.find(({ attribute, value }) => colorValue !== '' + value) !== undefined;\n            return !oneFilterDoesNotMatches;\n          } else {\n            const oneFilterMatches = filtersAffectingColor.find(({ attribute, value }) => colorValue === '' + value) !== undefined;\n            return oneFilterMatches;\n          }\n        } else {\n          return true;\n        }\n      })\n     } else if (graphType === 'histogram') {\n       // filtering groups\n      dataGroups = dataGroups.reduce((res, [xValue, values]) => {\n        if (filtersAffectingColor) {\n          const newValues = values.filter(value => {\n            if (filtersModeAnd) {\n              const oneFilterDoesNotMatches = filtersAffectingColor.find(({ attribute, value }) => value.color !== '' + value) !== undefined;\n              return !oneFilterDoesNotMatches;\n            } else {\n              const oneFilterMatches = filtersAffectingColor.find(({ attribute, value }) => value.color === '' + value) !== undefined;\n              return oneFilterMatches;\n            }\n          })\n          if (newValues.length) {\n            return [...res, [xValue, newValues]]\n          // all items filtered out -> do not include the group\n          } else return res;\n        // no filters, return as is\n        } else {\n          return [...res, [xValue, values]];\n        }\n      }, [])\n     }\n    \n  }\n    \n  \n  // manage palette\n  const colorPalette = useMemo(() => {\n    let newColorPalette;\n    if (inputColorPalette) {\n      newColorPalette = inputColorPalette;\n    }\n    else if (colorVariable && colorVariable !== 'default') {\n      const palette = generatePalette(colorVariable, filtersOptions[colorVariable].options.length);\n      newColorPalette = filtersOptions[colorVariable].options.reduce((res, option, index) => ({\n        ...res,\n        [option]: palette[index]\n      }), {})\n    }\n    return newColorPalette;\n  }, [JSON.stringify(inputColorPalette), colorVariable, filtersOptions])/* eslint react-hooks/exhaustive-deps: 0*/\n  \n  let getColor = (val) => {\n    return colorPalette ? colorPalette[val] : 'grey';\n  }\n\n  // handling search\n  let highlightedIndex;\n  if (searchString.length && labelVariable) {\n    highlightedIndex = new Set();\n    data.forEach((datum, index) => {\n      const label = datum[labelVariable].toLowerCase();\n      if (label.includes(searchString)) {\n        highlightedIndex.add(index);\n      }\n    })\n  }\n\n  if (reverseX) {\n    xRange = xRange.reverse();\n  }\n  if (reverseY) {\n    yRange = yRange.reverse();\n  }\n  let getYHisto\n  // preparing histogram stacking\n  if (graphType === 'histogram') {\n    dataGroups = dataGroups.map(([xValue, values]) => {\n      // let sum = 0;\n      const newValues = values\n      .sort((a, b) => {\n        if (a.color > b.color) {\n          return 1;\n        } else return -1;\n      })\n      .reduce((total, value, index) => {\n        const prev = index > 0 ? total[index - 1] : undefined;\n        const yDisplace = prev ? +prev.y + (prev.yDisplace || 0) : 0;\n\n        const newValue = {\n          ...value,\n          yDisplace,\n          y: +value.y,\n          x: +value.x\n        }\n        return [...total, newValue]\n      }, [])\n\n      return [xValue, newValues];\n    }, []);\n\n    dataGroups = dataGroups.sort((a, b) => {\n      if (+a[0] > +b[0]) {\n        return 1;\n      }\n      return -1;\n    });\n    if (normalizeY) {\n      dataGroups = dataGroups.map(([xValue, values]) => {\n        const sum = values.reduce((sum, v) => sum + v.y, 0);\n        const sumFiltered = values.reduce((sum, v) => sum + v.filteredY, 0);\n        return [\n          xValue,\n          values.map(v => {\n            return {\n              ...v,\n              yDisplace: v.yDisplace / sum,\n              y: v.y / sum,\n              filteredY: v.filteredY / sumFiltered,\n            }\n          })\n        ]\n      })\n    }\n    const maxStacked = max(dataGroups.map(([_xValue, values]) => values.reduce((sum, v) => sum + v.y, 0)));\n    getYHisto = scaleLinear()\n    // .range([MARGIN, HEIGHT - MARGIN])\n    .range([0, HEIGHT - MARGIN * 2])\n    .domain([0, normalizeY ? 1 : maxStacked]).nice()\n\n    getY\n    .domain([0, normalizeY ? 1 : maxStacked]).nice()\n\n  }\n    \n  return (\n    <>\n        <svg transform={`translate(0, ${-MARGIN/2})`} className=\"LinearGraph\" width={WIDTH} height={HEIGHT + MARGIN/2}>\n            <g>\n              \n              <g className=\"left-axis\">\n              {\n                getY.ticks &&\n                getY.ticks()\n                .map((tick, index) => {\n                  const x = MARGIN * .7;\n                  return (\n                    <g className=\"axis-element\" key={index}>\n                      <text textAnchor=\"end\" x={x} y={getY(tick)}>\n                        {tick}\n                      </text>\n                      \n                      <line\n                        x1={x  + MARGIN * .1}\n                        y1={getY(tick)}\n                        x2={MARGIN}\n                        y2={getY(tick)}\n                        stroke={'black'}\n                      />\n                      <line\n                        x1={MARGIN}\n                        y1={getY(tick)}\n                        x2={WIDTH - MARGIN / 2}\n                        y2={getY(tick)}\n                        stroke={'lightgrey'}\n                        strokeDasharray={'1, 2'}\n                      />\n                    </g>\n                  )\n                })\n              }\n                <line\n                  stroke={'black'}\n                  y1={MARGIN}\n                  y2={HEIGHT - MARGIN}\n                  x1={MARGIN}\n                  x2={MARGIN}\n                />\n              </g>\n              <g className=\"bottom-axis\">\n                <line\n                  stroke={'black'}\n                  y1={HEIGHT - MARGIN}\n                  y2={HEIGHT - MARGIN}\n                  x1={MARGIN}\n                  x2={WIDTH - MARGIN / 2}\n                />\n                {\n                getX.ticks &&\n                getX.ticks()\n                .map((tick, index) => {\n                  const y = HEIGHT - MARGIN * .75\n                  return (\n                    <g className=\"axis-element\" key={index}>\n                      <g transform={`translate(${getX(tick)} ${y})`}>\n                        <g transform={'rotate(-45)'}>\n                          <text \n                            textAnchor=\"end\"\n                          >\n                            {xLabelMap[tick]}\n                          </text>\n                        </g>\n                      </g>\n                      <line\n                        y1={HEIGHT - MARGIN}\n                        y2={y - MARGIN * .1}\n                        x1={getX(tick)}\n                        x2={getX(tick)}\n                        stroke={'black'}\n                      />\n                    </g>\n                  )\n                })\n                }\n              </g>\n              {\n                graphType === 'linegraph' ?\n                dataGroups.map(([colorValue, values], index) => {\n                  const firstX = getX(values[0].x);\n                  const firstY = getY(values[0].y);\n                  const color = colorVariable ? getColor(colorValue) : 'grey';\n                  const path = `M ${firstX} ${firstY} ${\n                    values\n                    .reduce((res, {x, y}) => {\n                      return `${res} L ${getX(x)} ${getY(y)}`\n                    }, '')\n                  }`\n                  return <>\n                    <path d={path} \n                      fill=\"transparent\" \n                      stroke={ colorVariable ? color : 'grey'}\n                      key={colorValue}\n                    />\n                    {\n                      values.map(({x, y}, index) => (\n                        <g key={index} className=\"linegraph-object-group\">\n                          <circle\n                            className=\"hover-placeholder\"\n                            cx={getX(x)}\n                            cy={getY(y)}\n                            fill={ 'transparent' }\n                            r={MARGIN / 7}\n                          />\n                          <text\n                            x={getX(x) < (WIDTH - MARGIN) / 2 ? getX(x) : getX(x)}\n                            y={getY(y) - MARGIN / 10}\n                            className=\"visible-on-hover\"\n                            fontSize={MARGIN / 7}\n                            textAnchor={getX(x) < (WIDTH - MARGIN) / 2 ? 'start' : 'end'}\n                          >\n                            {colorValue}, {xLabelMap[x]} : {y}\n                          </text>\n                          <line\n                            className=\"control-line horizontal-line visible-on-hover\"\n                            x1={MARGIN}\n                            y1={getY(y)}\n                            x2={getX(x)}\n                            y2={getY(y)}\n                            stroke=\"black\"\n                            strokeDasharray={'4, 4'}\n                          />\n                          <line\n                            className=\"control-line vertical-line visible-on-hover\"\n                            x1={getX(x)}\n                            y1={getY(y)}\n                            x2={getX(x)}\n                            y2={HEIGHT - MARGIN}\n                            stroke=\"black\"\n                            strokeDasharray={'4, 4'}\n                          />\n                          <circle\n                            key={index}\n                            cx={getX(x)}\n                            cy={getY(y)}\n                            fill={ color }\n                            r={2}\n                          />\n                        </g>\n                      ))\n                    }\n                  </>\n                })\n                : \n                <g className=\"histogram-objects\">\n                  {\n                    dataGroups.map(([xValue, values], index) => {\n                      return (\n                        <g key={index} className=\"x-group\">\n                          {\n                            values.map(({x, y, yDisplace, color}, index2) => {\n                              return (\n                                <rect\n                                  key={index2}\n                                  x={getX(x)}\n                                  y={HEIGHT - MARGIN - getYHisto(y) - getYHisto(yDisplace)}\n                                  height={getYHisto(y)}\n                                  width={ (WIDTH - MARGIN * 4) / xValues.length}\n                                  fill={getColor(color)}\n                                />\n                              )\n                            })\n                          }\n                        </g>\n                      )\n                     \n                    })\n                  }\n                </g>\n              }\n            </g>\n        </svg>\n        {\n          presentationMode ? null :\n          <>\n            <LinearGraphControls\n          {\n            ...{\n              xVariable,\n              xLabelVariable,\n              yVariable,\n              reverseX,\n              reverseY,\n              sizeVariable,\n              colorVariable,\n              labelVariable,\n              graphType,\n              useRelativeScale,\n              normalizeY,\n\n              searchString,\n\n              onSearchStringChange,\n              \n              onXVariableChange,\n              onXLabelVariableChange,\n              onYVariableChange,\n              onColorVariableChange,\n              onSizeVariableChange,\n              onLabelVariableChange,\n              onToggleReverseX,\n              onToggleReverseY,\n              onColorPaletteChange,\n              onToggleUseRelativeScale,\n              onGraphTypeChange,\n              onNormalizeYChange,\n\n              onToggleFiltersModeAnd,\n              filtersModeAnd,\n              onFiltersChange,\n              filters,\n\n              filtersOptions,\n              colorPalette,\n            }\n          }\n        />\n        <form onSubmit={e => {e.preventDefault()}} className=\"caption-editor-container\">\n            <h1 className=\"caption-title-container\">\n              <Input\n                value={title || ''}\n                onChange={val => onTitleChange(val)}\n                placeholder=\"Titre de la visualisation\"\n              />\n            </h1>\n            <div className=\"caption-legend-container\">\n              <Input\n                value={legend || ''}\n                onChange={val => onLegendChange(val)}\n                placeholder=\"Lgende de la visualisation\"\n                type=\"textarea\"\n              />\n            </div>\n          </form>\n          </>\n        }\n        \n    </>\n  );\n}\n\nexport default function LinearGraphContainerWithDimensions(props) {\n  return (\n    <div className=\"VisContainer LinearGraphContainer\">\n\n    <ContainerDimensions>\n      {\n        dimensions => <LinearGraphContainer {...{...props, ...dimensions}} />\n      }\n    </ContainerDimensions>\n    </div>\n  )\n}","import React, {useState} from 'react';\nimport cx from 'classnames';\n\nimport VariablesEditor from '../VariablesEditor';\nimport ColorLegend from '../ColorLegend';\nimport FiltersEditor from '../FiltersEditor';\n\nexport default function IceCreamControls({\n  xVariable,\n  reverseX,\n\n  yVariable,\n  reverseY,\n\n  sizeVariable,\n  colorVariable,\n  labelVariable,\n  labelsOnTheSide,\n  colorScaleType,\n\n  onToggleFiltersModeAnd,\n  filtersModeAnd,\n  onFiltersChange,\n  filters,\n\n  rotateMode,\n  searchString,\n  reverseFlickering,\n\n  onSearchStringChange,\n  onToggleRotateMode,\n  \n  onXVariableChange,\n  onYVariableChange,\n  onColorVariableChange,\n  onSizeVariableChange,\n  onLabelVariableChange,\n  onToggleLabelsOnTheSide,\n  onColorPaletteChange,\n\n  onToggleReverseX,\n  onToggleReverseY,\n  onColorScaleTypeChange,\n  onReverseFlickeringChange,\n  \n  filtersOptions,\n  colorPalette,\n}) {\n  const handleSearchChange = e => onSearchStringChange(e.target.value);\n  const [isMinified, setIsMinified] = useState(true)\n  return (\n    <>\n      <button onClick={() => setIsMinified(!isMinified)} className={cx('minify-button', {'is-active': !isMinified})}>\n        {'diter'}\n      </button>\n      <ul className={cx(\"VisControls\", {'is-minified': isMinified})}>\n        \n        <li className=\"vis-controls-item\">\n        <form onSubmit={e => e.preventDefault()}>\n          <input type=\"text\" onChange={handleSearchChange} placeholder=\"rechercher\" value={searchString} />\n        </form>\n        </li>\n        <li className=\"vis-controls-item\">\n          <VariablesEditor\n            {\n              ...{\n                options: filtersOptions,\n                variables: [\n                  {\n                    title: 'X des points',\n                    onChange: onXVariableChange,\n                    value: xVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Inverser les x',\n                    onChange: onToggleReverseX,\n                    value: reverseX,\n                    type: 'boolean'\n                  },\n                  {\n                    title: 'Y des points',\n                    onChange: onYVariableChange,\n                    value: yVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Inverser les y',\n                    onChange: onToggleReverseY,\n                    value: reverseY,\n                    type: 'boolean'\n                  },\n                  {\n                    title: 'Taille des points',\n                    onChange: onSizeVariableChange,\n                    value: sizeVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Couleur des points',\n                    onChange: onColorVariableChange,\n                    value: colorVariable,\n                    type: 'color'\n                  },\n                  {\n                    title: 'Type d\\'chelle pour la couleur',\n                    onChange: onColorScaleTypeChange,\n                    localOptions: [[\n                      'discrete',\n                      {title: 'discrte'}\n                    ], [\n                      'continuous',\n                      {title: 'continue'}\n                    ]],\n                    value: colorScaleType,\n                    type: 'string'\n                  },\n                  {\n                    title: 'Labels des points',\n                    onChange: onLabelVariableChange,\n                    value: labelVariable,\n                    type: 'string'\n                  },\n                  {\n                    title: 'Tourner la visualisation  45',\n                    onChange: onToggleRotateMode,\n                    value: rotateMode,\n                    type: 'boolean'\n                  },\n                  {\n                    title: 'Afficher les labels sur le ct',\n                    onChange: onToggleLabelsOnTheSide,\n                    value: labelsOnTheSide,\n                    type: 'boolean'\n                  },\n                  {\n                    title: 'Inverser le clignotement quand filtr',\n                    onChange: onReverseFlickeringChange,\n                    value: reverseFlickering,\n                    type: 'boolean'\n                  },\n                  \n                ],\n              }\n            }\n          />\n        </li>\n        <li className=\"vis-controls-item\">\n          <FiltersEditor\n            {\n              ...{\n                onToggleFiltersModeAnd,\n                filtersModeAnd,\n                filtersOptions,\n                onFiltersChange,\n                filters\n              }\n            }\n          />\n        </li>\n        {\n            colorVariable && colorVariable !== 'default' ?\n            <ColorLegend\n              colorPalette={colorPalette}\n              onChange={onColorPaletteChange}\n            />\n            : null\n        }\n      </ul>\n    </>\n  );\n}","import React, { useState, useEffect, useMemo } from 'react';\nimport ContainerDimensions from 'react-container-dimensions';\nimport { scaleLinear, scalePow } from 'd3-scale';\nimport { min, extent } from 'd3-array';\nimport cx from 'classnames';\n\nimport IceCreamControls from './IceCreamControls';\nimport { generatePalette } from '../../helpers/palettes';\nimport Input from '../DebouncedInput';\n\nimport './IceCreamContainer.css';\nimport { evalIfNodeMatches, transformGeometry } from '../../helpers/misc';\n\nconst GIF_TIME = 500;\n\nexport function IceCreamContainer({\n\n  width,\n  height,\n  data,\n\n  xVariable,\n  reverseX,\n  yVariable,\n  reverseY,\n  sizeVariable,\n  colorVariable,\n  labelVariable,\n  labelsOnTheSide = true,\n  colorPalette: inputColorPalette,\n  colorScaleType,\n\n  rotateMode,\n  searchString = '',\n\n  onSearchStringChange,\n  onToggleRotateMode,\n  filtersOptions = {},\n  presentationMode,\n\n  onToggleFiltersModeAnd,\n  filtersModeAnd,\n  onFiltersChange,\n  filters : inputFilters = [],\n  title,\n  legend,\n  reverseFlickering,\n\n\n  onXVariableChange,\n  onYVariableChange,\n  onColorVariableChange,\n  onSizeVariableChange,\n  onLabelVariableChange,\n  onToggleReverseX,\n  onToggleReverseY,\n  onToggleLabelsOnTheSide,\n  onColorPaletteChange,\n  onColorScaleTypeChange,\n  onTitleChange,\n  onLegendChange,\n  onReverseFlickeringChange,\n}) {\n\n  const [zoomedIndex, setZoomedIndex] = useState(null);\n  const [enableZoom, setEnableZoom] = useState(true);\n  const filters = useMemo(() => inputFilters, [JSON.stringify(inputFilters)]);\n  const updateActive = () => {\n    if (filters && filters.length) {\n      const existing = zoomedIndex === null ? -1 : zoomedIndex;\n      let found = false;\n      if (reverseFlickering) {\n        for (let i = existing - 1; i >= 0; i--) {\n          if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n            setZoomedIndex(i);\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          for (let i = data.length - 1; i >= 0; i--) {\n            if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n              setZoomedIndex(i);\n              break;\n            }\n          }\n        }\n      } else {\n        for (let i = existing + 1; i < data.length; i++) {\n          if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n            setZoomedIndex(i);\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          for (let i = 0; i < data.length; i++) {\n            if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n              setZoomedIndex(i);\n              break;\n            }\n          }\n        }\n      }\n\n    }\n  }\n\n  useEffect(() => {\n    if (filters && filters.length) {\n      if (zoomedIndex === null) {\n        updateActive();\n      }\n      setTimeout(updateActive, GIF_TIME);\n    } else {\n      setZoomedIndex(null);\n    }\n    /* eslint react-hooks/exhaustive-deps : 0 */\n  }, [\n    JSON.stringify(filters),\n    filtersModeAnd,\n    data,\n    zoomedIndex\n  ])\n\n  const smallestDimension = min([width, height]);\n  // in rotate mode width indexed on the hypothenuse\n  const WIDTH = rotateMode ? parseInt(Math.sqrt(smallestDimension * smallestDimension / 2)) : smallestDimension;\n  const HEIGHT = rotateMode ? parseInt(Math.sqrt(smallestDimension * smallestDimension / 2)) : smallestDimension;\n\n  const MIN_AREA = smallestDimension / 50;\n  const MAX_AREA = smallestDimension / 2;\n  const MARGIN = WIDTH / 15;\n\n  let xRange = [MARGIN, WIDTH - MARGIN * 2];\n  let yRange = [MARGIN, HEIGHT - MARGIN * 2];\n  if (reverseX) {\n    xRange = xRange.reverse();\n  }\n  if (reverseY) {\n    yRange = yRange.reverse();\n  }\n\n  const getX = xVariable && xVariable !== 'default' ? scalePow().range(xRange).domain([0, 1]) : () => 0;\n  const getY = yVariable && yVariable !== 'default' ? scaleLinear().range(yRange).domain([0, 1]) : () => 0;\n  const getSize = sizeVariable && sizeVariable !== 'default' ? scaleLinear().domain(extent(data.map(d => +d[sizeVariable]))).range([MIN_AREA, MAX_AREA]) : () => 0;\n\n  // manage palette\n  const {continuousColorScale, colorPalette} = useMemo(() => {\n    let newColorPalette;\n    if (inputColorPalette) {\n      newColorPalette = inputColorPalette;\n    }\n    else if (colorVariable && colorVariable !== 'default' && filtersOptions[colorVariable]) {\n      const palette = generatePalette(colorVariable, filtersOptions[colorVariable].options.length);\n      newColorPalette = filtersOptions[colorVariable].options.reduce((res, option, index) => ({\n        ...res,\n        [option]: palette[index]\n      }), {})\n    }\n    let newContinuousColorScale;\n    if (colorScaleType === 'continuous') {\n      let colorRange = ['#D77186', '#61A2DA'];\n      if (newColorPalette && newColorPalette['From'] && newColorPalette['To']) {\n        colorRange = [newColorPalette['From'], newColorPalette['To']]\n      } else if (newColorPalette && newColorPalette['from'] && newColorPalette['to']) {\n        colorRange = [newColorPalette['from'], newColorPalette['to']]\n      } else {\n        newColorPalette = {\n          from: '#D77186',\n          to: '#61A2DA'\n        }\n      }\n      newContinuousColorScale = scalePow().domain(extent(data.map(d => +d[colorVariable]))).range(colorRange)\n    }\n    return {\n      colorPalette: newColorPalette,\n      continuousColorScale: newContinuousColorScale\n    }\n  }, [JSON.stringify(inputColorPalette), colorScaleType, filtersOptions, colorVariable])/* eslint react-hooks/exhaustive-deps: 0*/\n  \n  let getColor = (val) => {\n    if (colorScaleType === 'continuous') {\n      return continuousColorScale(+val);\n    } else return colorPalette ? colorPalette[val] : 'grey';\n  }\n\n  // handling search\n  let highlightedIndex;\n  if (searchString.length && labelVariable) {\n    highlightedIndex = new Set();\n    data.forEach((datum, index) => {\n      const label = datum[labelVariable].toLowerCase();\n      if (label.includes(searchString)) {\n        highlightedIndex.add(index);\n      }\n    })\n  }\n  let rotateTransform = { rotate: 0 };\n  if (rotateMode) {\n    rotateTransform = {\n      rotate: -45,\n      translate: { x: 0, y: smallestDimension / 2 }\n    }\n  }\n  // wrapping function for transforms\n  const transf = (x, y) => transformGeometry({ x, y }, rotateTransform)\n  // dimensions of control background rect\n  const { x: point1X, y: point1Y } = transformGeometry({\n    x: 0,\n    y: 0\n  }, rotateTransform)\n  const { x: point2X, y: point2Y } = transformGeometry({\n    x: WIDTH,\n    y: 0\n  }, rotateTransform)\n  const { x: point3X, y: point3Y } = transformGeometry({\n    x: WIDTH,\n    y: HEIGHT\n  }, rotateTransform)\n  const { x: point4X, y: point4Y } = transformGeometry({\n    x: 0,\n    y: HEIGHT\n  }, rotateTransform)\n\n  return (\n    <>\n      <svg\n        className={cx(\"scatterplot\", { 'zoom-mode': zoomedIndex !== null && enableZoom })}\n        width={width}\n        height={height}\n      >\n        <g\n          transform={`translate(${WIDTH < width ? (width - smallestDimension) / 2 + width * .025 : 0}, ${HEIGHT < height ? (height - smallestDimension) * .66 + height * .05 : 0})`}\n        >\n          <polygon\n            points={`${point1X},${point1Y} ${point2X},${point2Y} ${point3X},${point3Y} ${point4X},${point4Y}`}\n            width={WIDTH}\n            height={HEIGHT}\n            fill=\"white\"\n          />\n          <g transform={`translate(${rotateMode ? 0 : MARGIN / 2}, ${rotateMode ? -MARGIN : 0})${rotateMode ? 'scale(1)' : ''}`}>\n            <g className=\"axis axis-left\">\n              <line\n                x1={transf(MARGIN, MARGIN).x}\n                y1={transf(MARGIN, MARGIN).y}\n                x2={transf(MARGIN, HEIGHT - MARGIN * 2).x}\n                y2={transf(MARGIN, HEIGHT - MARGIN * 2).y}\n                stroke={'black'}\n              />\n              {\n                getY.ticks &&\n                getY.ticks()\n                  .map(tick => {\n\n                    const { x, y } = transf(MARGIN, getY(tick))\n                    const { x: x1, y: y1 } = transf(MARGIN / 4, getY(tick) + MARGIN / 6)\n                    const { x: x2, y: y2 } = transf(MARGIN / 2, getY(tick))\n                    return (\n                      <g key={tick}>\n                        <text textAnchor=\"end\" x={x1} y={y1}>\n                          {tick}\n                        </text>\n                        <line\n                          x1={x}\n                          y1={y}\n                          x2={x2}\n                          y2={y2}\n                          stroke={'black'}\n                        />\n                      </g>\n                    )\n                  })\n              }\n              <g\n                transform={rotateMode ? `translate(${WIDTH / 2 - MARGIN * 1.5}, ${HEIGHT + MARGIN * 2.5})rotate(45)` : `translate(0, ${MARGIN / 2 - 2})`}\n              >\n                <text\n                  className=\"axis-variable-name\"\n                  textAnchor={rotateMode ? 'end' : 'start'}\n                >\n                  {yVariable}\n                </text>\n              </g>\n            </g>\n            <g className=\"axis axis-bottom\">\n              <line\n                x1={transf(MARGIN, HEIGHT - MARGIN * 2).x}\n                y1={transf(MARGIN, HEIGHT - MARGIN * 2).y}\n                x2={transf(WIDTH - MARGIN * 2, HEIGHT - MARGIN * 2).x}\n                y2={transf(WIDTH - MARGIN * 2, HEIGHT - MARGIN * 2).y}\n                stroke={'black'}\n              />\n              {\n                getX.ticks &&\n                getX.ticks()\n                  .map(tick => {\n                    const { x, y } = transf(getX(tick), HEIGHT - MARGIN * 2);\n                    const { x: x1, y: y1 } = transf(getX(tick), HEIGHT - MARGIN * 1.66);\n                    const { x: x2, y: y2 } = transf(getX(tick), HEIGHT - MARGIN * 1.25);\n                    return (\n                      <g key={tick}>\n                        <text textAnchor=\"center\" x={x2} y={y2}>\n                          {tick}\n                        </text>\n                        <line\n                          x1={x}\n                          y1={y}\n                          x2={x1}\n                          y2={y1}\n                          stroke={'black'}\n                        />\n                      </g>\n                    )\n                  })\n              }\n              <g\n                transform={rotateMode ? `translate(${WIDTH}, ${HEIGHT + MARGIN * 1.5})rotate(-45)` : `translate(${WIDTH - MARGIN * 1.5}, ${HEIGHT - MARGIN / 3 - 2})`}\n              >\n                <text\n                  className=\"axis-variable-name\"\n                  textAnchor={rotateMode ? 'end' : 'start'}\n                >\n                  {xVariable}\n                </text>\n              </g>\n            </g>\n            <g className={\"ticks-container\"}>\n              {\n\n                getY.ticks &&\n                getY.ticks()\n                  .map(tick => (\n                    <line\n                      key={tick}\n                      x1={transf(MARGIN, getY(tick)).x}\n                      y1={transf(MARGIN, getY(tick)).y}\n                      x2={transf(WIDTH - MARGIN * 2, getY(tick)).x}\n                      y2={transf(WIDTH - MARGIN * 2, getY(tick)).y}\n                      stroke=\"lightgrey\"\n                    />\n                  ))\n              }\n              {\n\n                getX.ticks &&\n                getX.ticks()\n                  .map(tick => (\n                    <line\n                      key={tick}\n                      x1={transf(getX(tick), MARGIN).x}\n                      y1={transf(getX(tick), MARGIN).y}\n                      x2={transf(getX(tick), WIDTH - MARGIN * 2).x}\n                      y2={transf(getX(tick), WIDTH - MARGIN * 2).y}\n                      stroke=\"lightgrey\"\n                    />\n                  ))\n              }\n            </g>\n            <g\n              className=\"plot-objects-container\"\n              onMouseEnter={() => setEnableZoom(false)}\n              onMouseLeave={() => setEnableZoom(true)}\n            >\n              {\n                data\n                  .sort((a, b) => {\n                    if (getY(a[yVariable]) > getY(b[yVariable])) {\n                      return 1;\n                    }\n                    return -1;\n                  })\n                  .map((datum, index) => {\n                    const radius = Math.sqrt(getSize(+datum[sizeVariable]) / Math.PI);\n                    let { x, y } = transf(getX(+datum[xVariable]), getY(+datum[yVariable]));\n                    let { x: xForXAxis, y: yForXAxis } = transf(getX(datum[xVariable]), getY.range ? getY.range()[0] : 0);\n                    let { x: xForYAxis, y: yForYAxis } = transf(getX.range ? getX.range()[0] : 0, getY(datum[yVariable]));\n                    let labelX = x + radius + smallestDimension / 100;\n                    let labelY = rotateMode ? y - smallestDimension / 200 : y + smallestDimension / 200;\n                    let pointerStartCoords = transf(getX(datum[xVariable]) + radius, getY(datum[yVariable]));\n                    if (labelsOnTheSide) {\n                      let { x: newX, y: newY } = transf(WIDTH - MARGIN * 1.7, MARGIN + index * (HEIGHT - MARGIN * 3) / data.length);\n                      labelX = newX;\n                      labelY = newY;\n                    }\n\n                    let opacity = 1;\n                    const isMatching = !filters.length || evalIfNodeMatches(datum, filters, filtersModeAnd);\n                    if (filters.length) {\n                      if (isMatching && (!highlightedIndex || highlightedIndex.has(index))) {\n                        opacity = 1;\n                      } else {\n                        opacity = .05;\n                      }\n                    } else if (highlightedIndex && !highlightedIndex.has(index)) {\n                      opacity = .2;\n                    }\n\n                    const isZoomed = index === zoomedIndex && enableZoom === true;\n\n                    return (\n                      <g\n                        key={index}\n                        className={cx(\"plot-object\", { 'is-matching': isMatching, 'is-zoomed': isZoomed })}\n                        opacity={opacity}\n                      >\n                        <line\n                          className=\"axis-line\"\n                          stroke=\"grey\"\n                          strokeDasharray='1,1'\n                          x1={x}\n                          y1={y}\n                          x2={xForYAxis}\n                          y2={yForYAxis}\n                        />\n                        <line\n                          className=\"axis-line\"\n                          stroke=\"grey\"\n                          strokeDasharray='1,1'\n                          x1={x}\n                          y1={y}\n                          x2={xForXAxis}\n                          y2={yForXAxis}\n                        />\n                        <circle\n                          cx={x}\n                          cy={y}\n                          r={radius}\n                          fill={getColor(datum[colorVariable])}\n                          opacity={.8}\n                        />\n                        {\n                          labelsOnTheSide ?\n                            <line\n                              x1={pointerStartCoords.x}\n                              y1={pointerStartCoords.y}\n                              x2={labelX}\n                              y2={labelY}\n                              stroke=\"lightgrey\"\n                              strokeDasharray='4,4'\n                            />\n                            : null\n                        }\n                        <g\n                          transform={`translate(${labelX}, ${labelY})`}\n                        >\n                          <text\n                            transform={rotateMode ? 'rotate(-45)' : ''}\n                            style={{\n                              fontSize: rotateMode && labelsOnTheSide ? HEIGHT / 70 : undefined\n                            }}\n                          >\n                            {datum[labelVariable]}\n                          </text>\n                        </g>\n                      </g>\n                    )\n                  })\n              }\n            </g>\n          </g>\n        </g>\n      </svg>\n      {\n        presentationMode ? null :\n          <>\n            <IceCreamControls\n              {\n              ...{\n                xVariable,\n                yVariable,\n                reverseX,\n                reverseY,\n                sizeVariable,\n                colorVariable,\n                labelVariable,\n                labelsOnTheSide,\n\n                rotateMode,\n                searchString,\n                colorScaleType,\n                reverseFlickering,\n\n                onSearchStringChange,\n                onToggleRotateMode,\n\n                onXVariableChange,\n                onYVariableChange,\n                onColorVariableChange,\n                onSizeVariableChange,\n                onLabelVariableChange,\n                onToggleLabelsOnTheSide,\n                onToggleReverseX,\n                onToggleReverseY,\n                onColorPaletteChange,\n                onColorScaleTypeChange,\n                onReverseFlickeringChange,\n\n                onToggleFiltersModeAnd,\n                filtersModeAnd,\n                onFiltersChange,\n                filters,\n\n                filtersOptions,\n                colorPalette,\n              }\n              }\n            />\n            <form onSubmit={e => { e.preventDefault() }} className=\"caption-editor-container\">\n              <h1 className=\"caption-title-container\">\n                <Input\n                  value={title || ''}\n                  onChange={val => onTitleChange(val)}\n                  placeholder=\"Titre de la visualisation\"\n                />\n              </h1>\n              <div className=\"caption-legend-container\">\n                <Input\n                  value={legend || ''}\n                  onChange={val => onLegendChange(val)}\n                  placeholder=\"Lgende de la visualisation\"\n                  type=\"textarea\"\n                />\n              </div>\n            </form>\n          </>\n      }\n\n    </>\n  );\n}\n\nexport default function IceCreamContainerWithDimensions(props) {\n  return (\n    <div className=\"VisContainer IcecreamContainer\">\n\n      <ContainerDimensions>\n        {\n          dimensions => <IceCreamContainer {...{ ...props, ...dimensions }} />\n        }\n      </ContainerDimensions>\n    </div>\n  )\n}","import React, {useState} from 'react';\nimport cx from 'classnames';\n\nimport VariablesEditor from '../VariablesEditor';\nimport ColorLegend from '../ColorLegend';\nimport FiltersEditor from '../FiltersEditor';\n\nexport default function HorizonControls({\n\n  sizeVariable,\n  colorVariable,\n  labelVariable,\n  colorScaleType,\n\n  onToggleFiltersModeAnd,\n  filtersModeAnd,\n  onFiltersChange,\n  filters,\n\n  searchString,\n  reverseFlickering,\n\n  onSearchStringChange,\n  onToggleRotateMode,\n  \n  \n  onColorVariableChange,\n  onSizeVariableChange,\n  onLabelVariableChange,\n  onColorPaletteChange,\n\n  onColorScaleTypeChange,\n  onReverseFlickeringChange,\n  \n  filtersOptions,\n  colorPalette,\n}) {\n  const handleSearchChange = e => onSearchStringChange(e.target.value);\n  const [isMinified, setIsMinified] = useState(true)\n  return (\n    <>\n      <button onClick={() => setIsMinified(!isMinified)} className={cx('minify-button', {'is-active': !isMinified})}>\n        {'diter'}\n      </button>\n      <ul className={cx(\"VisControls\", {'is-minified': isMinified})}>\n        \n        <li className=\"vis-controls-item\">\n        <form onSubmit={e => e.preventDefault()}>\n          <input type=\"text\" onChange={handleSearchChange} placeholder=\"rechercher\" value={searchString} />\n        </form>\n        </li>\n        <li className=\"vis-controls-item\">\n          <VariablesEditor\n            {\n              ...{\n                options: filtersOptions,\n                variables: [\n                  {\n                    title: 'Taille des barres',\n                    onChange: onSizeVariableChange,\n                    value: sizeVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Couleur des barres',\n                    onChange: onColorVariableChange,\n                    value: colorVariable,\n                    type: 'color'\n                  },\n                  {\n                    title: 'Type d\\'chelle pour la couleur',\n                    onChange: onColorScaleTypeChange,\n                    localOptions: [[\n                      'discrete',\n                      {title: 'discrte'}\n                    ], [\n                      'continuous',\n                      {title: 'continue'}\n                    ]],\n                    value: colorScaleType,\n                    type: 'string'\n                  },\n                  {\n                    title: 'Labels des barres',\n                    onChange: onLabelVariableChange,\n                    value: labelVariable,\n                    type: 'string'\n                  },\n                  {\n                    title: 'Inverser le clignotement quand filtr',\n                    onChange: onReverseFlickeringChange,\n                    value: reverseFlickering,\n                    type: 'boolean'\n                  },\n                  \n                ],\n              }\n            }\n          />\n        </li>\n        <li className=\"vis-controls-item\">\n          <FiltersEditor\n            {\n              ...{\n                onToggleFiltersModeAnd,\n                filtersModeAnd,\n                filtersOptions,\n                onFiltersChange,\n                filters\n              }\n            }\n          />\n        </li>\n        {\n            colorVariable && colorVariable !== 'default' ?\n            <ColorLegend\n              colorPalette={colorPalette}\n              onChange={onColorPaletteChange}\n            />\n            : null\n        }\n      </ul>\n    </>\n  );\n}","import React, { useState, useEffect, useMemo } from 'react';\nimport ContainerDimensions from 'react-container-dimensions';\nimport { scaleLinear, scalePow } from 'd3-scale';\nimport { extent } from 'd3-array';\nimport cx from 'classnames';\n\nimport { axisPropsFromTickScale } from 'react-d3-axis';\n\nimport HorizonControls from './HorizonControls';\nimport { generatePalette } from '../../helpers/palettes';\nimport Input from '../DebouncedInput';\n\nimport './HorizonContainer.css';\nimport { evalIfNodeMatches } from '../../helpers/misc';\n\nconst GIF_TIME = 500;\n\nexport function HorizonContainer({\n\n  width,\n  height,\n  data,\n\n  sizeVariable,\n  colorVariable,\n  labelVariable,\n  colorPalette: inputColorPalette,\n  colorScaleType,\n  colorLabels,\n\n  searchString = '',\n\n  onSearchStringChange,\n  filtersOptions = {},\n  presentationMode,\n\n  onToggleFiltersModeAnd,\n  filtersModeAnd,\n  onFiltersChange,\n  filters: inputFilters = [],\n  title,\n  legend,\n  reverseFlickering,\n\n\n  onColorVariableChange,\n  onSizeVariableChange,\n  onLabelVariableChange,\n  onColorPaletteChange,\n  onColorScaleTypeChange,\n  onTitleChange,\n  onLegendChange,\n  onReverseFlickeringChange,\n}) {\n\n  const [zoomedIndex, setZoomedIndex] = useState(null);\n  const filters = useMemo(() => inputFilters, [JSON.stringify(inputFilters)]);\n  const updateActive = () => {\n    if (filters && filters.length) {\n      const existing = zoomedIndex === null ? -1 : zoomedIndex;\n      let found = false;\n      if (reverseFlickering) {\n        for (let i = existing - 1; i >= 0; i--) {\n          if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n            setZoomedIndex(i);\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          for (let i = data.length - 1; i >= 0; i--) {\n            if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n              setZoomedIndex(i);\n              break;\n            }\n          }\n        }\n      } else {\n        for (let i = existing + 1; i < data.length; i++) {\n          if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n            setZoomedIndex(i);\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          for (let i = 0; i < data.length; i++) {\n            if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n              setZoomedIndex(i);\n              break;\n            }\n          }\n        }\n      }\n\n    }\n  }\n\n  useEffect(() => {\n    if (filters && filters.length) {\n      if (zoomedIndex === null) {\n        updateActive();\n      }\n      setTimeout(updateActive, GIF_TIME);\n    } else {\n      setZoomedIndex(null);\n    }\n    /* eslint react-hooks/exhaustive-deps : 0 */\n  }, [\n    JSON.stringify(filters),\n    filtersModeAnd,\n    data,\n    zoomedIndex\n  ])\n\n  // in rotate mode width indexed on the hypothenuse\n  // const WIDTH = width;//rotateMode ? parseInt(Math.sqrt(smallestDimension * smallestDimension / 2)) : smallestDimension;\n  // const HEIGHT = height;// rotateMode ? parseInt(Math.sqrt(smallestDimension * smallestDimension / 2)) : smallestDimension;\n  const MARGIN = width / 15;\n  const LATERAL_MARGIN = width / 4;\n\n  // let xRange = [MARGIN, WIDTH - MARGIN * 2];\n  // let yRange = [MARGIN, HEIGHT - MARGIN * 2];\n  const visHeight = height - MARGIN * 2;\n  const xScale = scaleLinear().domain(extent(data.map(d => +d[sizeVariable]))).range([LATERAL_MARGIN, width - LATERAL_MARGIN]).nice();\n  const yScale = i => MARGIN + i * (visHeight / data.length) // scaleBand().domain([range(0, data.length)]).range([MARGIN, height - MARGIN]);\n  const barHeight = (visHeight / data.length) * .5;\n  const barY = ((visHeight / data.length) - barHeight) / 2;\n  let { values: xAxisValues } = axisPropsFromTickScale(xScale);\n  // manage palette\n  const { continuousColorScale, colorPalette } = useMemo(() => {\n    let newColorPalette;\n    if (inputColorPalette) {\n      newColorPalette = inputColorPalette;\n    }\n    else if (colorVariable && colorVariable !== 'default' && filtersOptions[colorVariable]) {\n      const palette = generatePalette(colorVariable, filtersOptions[colorVariable].options.length);\n      newColorPalette = filtersOptions[colorVariable].options.reduce((res, option, index) => ({\n        ...res,\n        [option]: palette[index]\n      }), {})\n    }\n    let newContinuousColorScale;\n    if (colorScaleType === 'continuous') {\n      let colorRange = ['#D77186', '#61A2DA'];\n      if (newColorPalette && newColorPalette['From'] && newColorPalette['To']) {\n        colorRange = [newColorPalette['From'], newColorPalette['To']]\n      } else if (newColorPalette && newColorPalette['from'] && newColorPalette['to']) {\n        colorRange = [newColorPalette['from'], newColorPalette['to']]\n      } else {\n        newColorPalette = {\n          from: '#D77186',\n          to: '#61A2DA'\n        }\n      }\n      newContinuousColorScale = scalePow().domain(extent(data.map(d => +d[colorVariable]))).range(colorRange)\n    }\n    return {\n      colorPalette: newColorPalette,\n      continuousColorScale: newContinuousColorScale\n    }\n  }, [JSON.stringify(inputColorPalette), colorScaleType, filtersOptions, colorVariable])/* eslint react-hooks/exhaustive-deps: 0*/\n\n  let getColor = (val) => {\n    if (colorScaleType === 'continuous') {\n      return continuousColorScale(+val);\n    } else return colorPalette ? colorPalette[val] : 'grey';\n  }\n\n  // handling search\n  let highlightedIndex;\n  if (searchString.length && labelVariable) {\n    highlightedIndex = new Set();\n    data.forEach((datum, index) => {\n      const label = datum[labelVariable].toLowerCase();\n      if (label.includes(searchString)) {\n        highlightedIndex.add(index);\n      }\n    })\n  }\n\n  return (\n    <>\n      <svg\n        className={cx(\"horizonplot\")}\n        width={width}\n        height={height}\n      >\n        {\n          xAxisValues.map(tickValue => (\n            <g\n              key={tickValue}\n              transform={`translate(${xScale(tickValue)}, 0)`}\n            >\n              <text\n                x={0}\n                y={MARGIN * .7}\n                textAnchor={'middle'}\n                style={{\n                  fontWeight: tickValue === 0 ? '800' : '400'\n                }}\n              >\n                {tickValue}\n              </text>\n              <line\n                stroke={'black'}\n                strokeDasharray={tickValue === 0 ? undefined : '2,2'}\n                x1={0}\n                x2={0}\n                y1={MARGIN}\n                y2={height - MARGIN}\n                opacity={tickValue === 0 ? 1 : .2}\n              />\n              <text\n                x={0}\n                y={height - MARGIN * .7}\n                textAnchor={'middle'}\n                style={{\n                  fontWeight: tickValue === 0 ? '800' : '400'\n                }}\n              >\n                {tickValue}\n              </text>\n\n            </g>\n          ))\n        }\n        {\n          colorLabels ?\n            <>\n              <text\n                x={LATERAL_MARGIN - MARGIN / 2}\n                y={MARGIN * .7}\n                textAnchor={'end'}\n                style={{\n                  fontStyle: 'italic'\n                }}\n              >\n                {colorLabels['From']}\n              </text>\n              <text\n                x={LATERAL_MARGIN - MARGIN / 2}\n                y={height - MARGIN * .7}\n                textAnchor={'end'}\n                style={{\n                  fontStyle: 'italic'\n                }}\n              >\n                {colorLabels['From']}\n              </text>\n              <text\n                x={width - LATERAL_MARGIN + MARGIN / 2}\n                y={MARGIN * .7}\n                textAnchor={'start'}\n                style={{\n                  fontStyle: 'italic'\n                }}\n              >\n                {colorLabels['To']}\n              </text>\n              <text\n                x={width - LATERAL_MARGIN + MARGIN / 2}\n                y={height - MARGIN * .7}\n                textAnchor={'start'}\n                style={{\n                  fontStyle: 'italic'\n                }}\n              >\n                {colorLabels['To']}\n              </text>\n            </>\n            : null\n        }\n        {\n          data.map((datum, i) => {\n            const y = yScale(i);\n            const color = getColor(datum[colorVariable]);\n            const barX = datum[sizeVariable] > 0 ? xScale(0) : xScale(datum[sizeVariable]);\n            const barWidth = datum[sizeVariable] > 0 ? xScale(datum[sizeVariable]) - xScale(0) : xScale(0) - xScale(datum[sizeVariable]);\n            const labelX = datum[sizeVariable] > 0 ? xScale(datum[sizeVariable]) + 5 : xScale(datum[sizeVariable]) - 5;\n            const labelTextAnchor = datum[sizeVariable] > 0 ? 'start' : 'end';\n            const labelFontSize = barHeight * 2;\n            const isZoomed = i === zoomedIndex;\n            const isMatching = !filters.length || evalIfNodeMatches(datum, filters, filtersModeAnd);\n            let opacity = 1;\n            if (filters.length) {\n              if (isMatching && (!highlightedIndex || highlightedIndex.has(i))) {\n                if (isZoomed) {\n                  opacity = 1;\n                } else {\n                  opacity = .4;\n                }\n              } else {\n                opacity = .05;\n              }\n            } else if (highlightedIndex && !highlightedIndex.has(i)) {\n              opacity = .2;\n            }\n            return (\n              <g\n                key={i}\n                transform={`translate(0, ${y})`}\n                opacity={opacity}\n              >\n                <rect\n                  x={barX}\n                  y={barY}\n                  width={barWidth}\n                  height={barHeight}\n                  fill={color}\n                />\n                <text\n                  x={labelX}\n                  y={isZoomed ? barY + labelFontSize * .7 : barY + labelFontSize * .7}\n                  fontSize={isZoomed ? labelFontSize * 2 : labelFontSize}\n                  textAnchor={labelTextAnchor}\n                  style={{\n                    transition: '.5s ease all'\n                  }}\n                >\n                  {datum[labelVariable]}\n                </text>\n\n              </g>\n            )\n          })\n        }\n      </svg>\n      {\n        presentationMode ? null :\n          <>\n            <HorizonControls\n              {\n              ...{\n                sizeVariable,\n                colorVariable,\n                labelVariable,\n                searchString,\n                colorScaleType,\n                reverseFlickering,\n\n                onSearchStringChange,\n                onColorVariableChange,\n                onSizeVariableChange,\n                onLabelVariableChange,\n\n                onColorPaletteChange,\n                onColorScaleTypeChange,\n                onReverseFlickeringChange,\n\n                onToggleFiltersModeAnd,\n                filtersModeAnd,\n                onFiltersChange,\n                filters,\n\n                filtersOptions,\n                colorPalette,\n              }\n              }\n            />\n            <form onSubmit={e => { e.preventDefault() }} className=\"caption-editor-container\">\n              <h1 className=\"caption-title-container\">\n                <Input\n                  value={title || ''}\n                  onChange={val => onTitleChange(val)}\n                  placeholder=\"Titre de la visualisation\"\n                />\n              </h1>\n              <div className=\"caption-legend-container\">\n                <Input\n                  value={legend || ''}\n                  onChange={val => onLegendChange(val)}\n                  placeholder=\"Lgende de la visualisation\"\n                  type=\"textarea\"\n                />\n              </div>\n            </form>\n          </>\n      }\n\n    </>\n  );\n}\n\nexport default function HorizonContainerWithDimensions(props) {\n  return (\n    <div className=\"VisContainer IcecreamContainer\">\n\n      <ContainerDimensions>\n        {\n          dimensions => <HorizonContainer {...{ ...props, ...dimensions }} />\n        }\n      </ContainerDimensions>\n    </div>\n  )\n}","import {useMemo, useState, useEffect} from 'react';\nimport Graph from 'graphology';\nimport gexf from 'graphology-gexf';\nimport {extent} from 'd3-array';\nimport ContainerDimensions from 'react-container-dimensions';\nimport cx from 'classnames';\n\nimport {LinearGraphContainer} from '../LinearGraphAnnotation/LinearGraphContainer'\nimport {GraphContainer} from '../GraphAnnotation/GraphContainer'\nimport {IceCreamContainer} from '../IceCreamAnnotation/IceCreamContainer'\nimport Loader from '../Loader'\nimport { groupBy } from 'lodash-es';\nimport { HorizonContainer } from '../HorizonAnnotation/HorizonContainer';\n\n\nconst GraphWrapper = ({data, ...props}) => {\n  const [cameraPosition, setCameraPosition] = useState({x: props.x, y: props.y, ratio: props.ratio})\n\n  useEffect(() => {\n    setCameraPosition({\n      x: props.x, y: props.y, ratio: props.ratio\n    })\n  }, [props.x, props.y, props.ratio])\n  const graph = useMemo(() => {\n    return gexf.parse(Graph, data);\n  }, [data]);\n\n  const onCameraUpdate = (pos) => {\n    // setCameraPosition(pos);\n  }\n  let sizes = [];\n  graph.forEachNode((node, attributes) => {\n    sizes.push(attributes.size);\n  })\n  const sizeExtent = extent(sizes);\n  return (\n    <GraphContainer\n      {...{\n        ...props,\n        graph,\n        extents: {\n          nodeSize: {\n            min: sizeExtent[0],\n            max: sizeExtent[1]\n          }\n        },\n        onCameraUpdate,\n        cameraPosition,\n      }\n      }\n    />\n  );\n}\nconst buildImprint = d => /*d.data + '-' +*/ d.visType;\n\nconst VisualizationController = ({\n  datasets,\n  visualizations,\n  activeVisualization,\n  width,\n  height,\n  loadingFraction,\n}) => {\n  const [lockCamera, setLockCamera] = useState(true);\n  const firstInstanceOfEachVisualization = useMemo(() => {\n    return Object.entries(\n      groupBy(\n        Object.entries(visualizations ||{}),\n        d => buildImprint(d[1])\n      )\n    )\n    .reduce((res, [imprint, [firstInstance]]) => ({\n      ...res, \n      [imprint]: firstInstance[1]\n    }), {})\n  }, [visualizations]);\n\n  let activeImprint;\n  if (activeVisualization) {\n    activeImprint = buildImprint(activeVisualization);\n  }\n  useEffect(() => {\n    if (!lockCamera) {\n      setLockCamera(true);\n    }\n  }, [activeVisualization])/* eslint react-hooks/exhaustive-deps : 0 */\n\n  const renderVisualization = vis => {\n    if (!datasets[vis.data]) {\n      return null;\n    }\n    switch(vis.visType) {\n      case 'linearGraph':\n        return (\n          <LinearGraphContainer\n            {...{\n              ...vis,\n              data: datasets[vis.data],\n              width,\n              height: height * .66,\n              presentationMode: true\n            }}\n          />\n        );\n      case 'networkGraph':\n        return (\n          <GraphWrapper\n            {...{\n              ...vis,\n              data: datasets[vis.data],\n              width: width - 5,\n              height,\n              presentationMode: true,\n              lockCamera,\n              onToggleCameraLock: () => setLockCamera(!lockCamera)\n            }}\n          />\n        );\n      case 'icecreamGraph':\n        return (\n          <IceCreamContainer\n            {...{\n              ...vis,\n              data: datasets[vis.data],\n              width,\n              height,\n              presentationMode: true\n            }}\n          />\n        );\n      case 'horizonGraph':\n        return (\n          <HorizonContainer\n            {...{\n              ...vis,\n              data: datasets[vis.data],\n              width,\n              height,\n              presentationMode: true\n            }}\n          />\n        )\n      default:\n        return vis.visType;\n    }\n  }\n  if (loadingFraction < 1) {\n    return <Loader percentsLoaded={loadingFraction * 100} />\n  }\n  return (\n    <div className=\"VisualizationController\">\n      {\n        Object.entries(firstInstanceOfEachVisualization)\n        .map(([imprint, defaultVisualization]) => {\n          return (\n            <div className={cx('visualization-item', {'is-visible': imprint === activeImprint})}>\n              {\n                imprint === activeImprint ?\n                renderVisualization(activeVisualization)\n                :\n                renderVisualization(defaultVisualization)\n              }\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n  // return null;\n}\n\nexport default function VisualizationControllerWithDimensions(props) {\n  return (\n    <div className={cx(\"VisualizationController\", props.activeVisualization && props.activeVisualization.visType)}>\n\n    <ContainerDimensions>\n      {\n        dimensions => <VisualizationController {...{...props, ...dimensions}} />\n      }\n    </ContainerDimensions>\n    </div>\n  )\n}","import VisualizationController from './VisualizationController';\n\nexport default VisualizationController;","import FooterNav from './FooterNav';\n\nexport default FooterNav;","import React, {useContext} from 'react';\nimport { Link } from 'react-router-dom';\nimport {LanguageContext} from '../../contexts';\nimport cx from 'classnames';\n\nconst FooterNav = ({\n  prevPage,\n  nextPage\n}) => {\n  const {\n    lang\n  } = useContext(LanguageContext);\n  const messages = {\n    next: {\n      fr: 'Page suivante',\n      en: 'Next page'\n    },\n    prev: {\n      fr: 'Page prcdente',\n      en: 'Previous page'\n    }\n  }\n  return (\n    <footer className={cx(\"FooterNav\", {'start-page': !prevPage})}>\n      <ul>\n        {\n          prevPage ?\n            <li className=\"previous-page\">\n              <h5>\n                <Link to={prevPage.route[lang]}>\n                  <div className=\"marker\">{'<'}</div>\n                  <div className=\"page-content\">\n                    <div className=\"page-label\"><i>{messages.prev[lang]}</i></div>\n                    <div>\n                        {prevPage.title[lang]}\n                    </div>\n                  </div>\n                </Link>\n              </h5>\n            </li>\n            :\n            null\n        }\n        {\n          nextPage ?\n            <li className=\"next-page\">\n              <h5>\n                <Link to={nextPage.route[lang]}>\n                  <div>\n                    <div className=\"page-label\"><i>{messages.next[lang]}</i></div>\n                    <div className=\"page-content\">\n                        {nextPage.title[lang]}\n                    </div>\n                  </div>\n                  <div className=\"marker\">{'>'}</div>\n                </Link>\n              </h5>\n            </li>\n            :\n            null\n        }\n      </ul>\n    </footer>\n  )\n}\n\nexport default FooterNav;","import React, {useState, useMemo, useEffect, Suspense} from 'react';\nimport {extent} from 'd3-array';\nimport {generatePalette} from '../../helpers/palettes';\n\n\nimport gexf from 'graphology-gexf';\nimport Graph from 'graphology';\n\nimport GraphVis from './GraphContainer';\nimport FooterNav from '../FooterNav';\n// import CodeContainer from '../../components/CodeContainer';\nimport {computeFiltersOptions} from '../../helpers/misc';\n\nimport {VisualizationControlContext} from '../../contexts';\n\nconst DEFAULT_LABEL_DENSITY = 0.25;\n\nconst Loader = ({percentsLoaded = 0}) =>{\n  return  (\n    <div className=\"loader-container\">\n      <div className=\"loader\">\n        <div className=\"loading-bar\" style={{width: percentsLoaded + '%'}} />\n      </div>\n   </div>\n)\n}\n\nconst GraphAnnotation = ({\n  Content,\n  data,\n  contentsURL,\n  prevPage,\n  nextPage,\n}) => {\n  const graph = useMemo(() => {\n    return gexf.parse(Graph, data);\n  }, [data]);\n  const filtersOptions = useMemo(() => computeFiltersOptions('graph', graph, data), [graph, data]);\n\n  const [cameraPosition, setCameraPosition] = useState(undefined);\n  const [helpVisible, setHelpVisible] = useState(false);\n  const [searchString, setSearchString] = useState('');\n  const [filtersModeAnd, setFiltersModeAnd] = useState(false);\n  const [updateTimestamp, setUpdateTimeStamp] = useState(new Date().getTime());\n  const [filters, setFilters] = useState([]);\n  const [nodeColorVariable, setNodeColorVariable] = useState(undefined);\n  const [colorPalette, setColorPalette] = useState(undefined);\n  const [nodeSizeVariable, setNodeSizeVariable] = useState(undefined);\n  const [nodeLabelVariable, setNodeLabelVariable] = useState(undefined);\n  const [labelDensity, setLabelDensity] = useState(DEFAULT_LABEL_DENSITY);\n  const [title, setTitle] = useState('');\n  const [legend, setLegend] = useState('');\n  const [displayAllLabels, setDisplayAllLabels] = useState(false);\n  const [hasLoadedFirstVis, setHasLoadedFirstVis] = useState(false);\n\n  const [focusedVisualizationId, setFocusedVisualizationId] = useState(null);\n  const [registeredVisualizations, setRegisteredVisualizations] = useState({});\n\n  const onRegisterVisualization = (id, props) => {\n    setRegisteredVisualizations({\n      ...registeredVisualizations,\n      [id]: props\n    })\n  }\n\n  const onUnregisterVisualization = id => {\n    const copyOfRegistered = {...registeredVisualizations};\n    delete copyOfRegistered[id]\n    setRegisteredVisualizations(copyOfRegistered)\n  }\n\n  const onVisualizationUpdate = ({\n    x, \n    y, \n    ratio, \n    searchString: newSearchString, \n    filtersModeAnd: newFiltersModeAnd, \n    filters: newFilters, \n    nodeColorVariable: newNodeColorVariable,\n    nodeSizeVariable,\n    nodeLabelVariable,\n    labelDensity,\n    colorPalette: newColorPalette,\n    title: newTitle,\n    legend: newLegend,\n    displayAllLabels: newDisplayAllLabels\n}) => {\n    setCameraPosition({x, y, ratio});\n    setUpdateTimeStamp(new Date().getTime());\n    setSearchString(newSearchString);\n    setFiltersModeAnd(newFiltersModeAnd);\n    setFilters(newFilters);\n    setNodeColorVariable(newNodeColorVariable);\n    setNodeSizeVariable(nodeSizeVariable);\n    setNodeLabelVariable(nodeLabelVariable);\n    setDisplayAllLabels(newDisplayAllLabels);\n    setTitle(newTitle);\n    setLegend(newLegend);\n    if (newColorPalette && (nodeColorVariable === newNodeColorVariable || !nodeColorVariable)) {\n      setColorPalette(newColorPalette);\n    } else {\n      const colors = generatePalette(newNodeColorVariable, filtersOptions[newNodeColorVariable].options.size);\n      const palette = {};\n      let i = 0;\n      filtersOptions[newNodeColorVariable].options.forEach(option => {\n        palette[option] = colors[i];\n        i++;\n      });\n      setColorPalette(palette);\n    }\n    setLabelDensity(labelDensity === undefined ? DEFAULT_LABEL_DENSITY : labelDensity);\n  }\n\n  useEffect(() => {\n    if (!focusedVisualizationId && Object.keys(registeredVisualizations).length) {\n      const thatId = Object.keys(registeredVisualizations)[0];\n      setFocusedVisualizationId(thatId );\n      onVisualizationUpdate(registeredVisualizations[thatId]);\n      setHasLoadedFirstVis(true);\n    }\n  }, [registeredVisualizations, focusedVisualizationId]);/* eslint react-hooks/exhaustive-deps : 0 */\n\n  let sizes = [];\n  graph.forEachNode((node, attributes) => {\n    sizes.push(attributes.size);\n  })\n  const sizeExtent = extent(sizes);\n\n  const onCameraUpdate = state => {\n    const {x, y, ratio} = state;\n    setCameraPosition({x, y, ratio});\n  }\n  \n  const onSearchStringChange = str => {\n    setSearchString(str);\n  }\n  return (\n    <VisualizationControlContext.Provider value={{\n      onVisualizationUpdate, \n      onRegisterVisualization, \n      onUnregisterVisualization, \n      focusedVisualizationId,\n      setFocusedVisualizationId,\n      visualizationParams: {\n        ...cameraPosition,\n        searchString,\n        // filtersOptions,\n        filters,\n        // updateTimestamp,\n        displayAllLabels,\n        nodeSizeVariable,\n        nodeColorVariable,\n        nodeLabelVariable,\n        filtersModeAnd,\n        labelDensity,\n        colorPalette,\n        title,\n        legend,\n      }\n    }}>\n    <div className=\"slide-container\">\n      <section>\n        <div>\n          <p>\n            <button className={helpVisible ? 'is-active': ''} onClick={() => setHelpVisible(!helpVisible)}>\n              Comment modifier cette page ?\n            </button>\n          </p>\n          <ol className={`edit-help ${helpVisible ? 'is-active' : ''}`}>\n            <li>\n              Pralablement se logger dans github si le rpertoire est priv\n            </li>\n            <li>\n              Se rendre sur <a target=\"blank\" href={contentsURL}>cette page du rpertoire github</a>\n            </li>\n            <li>\n              Cliquer sur le crayon en haut  droite des contenus (il affiche \"edit\" au survol)\n            </li>\n            <li>\n              Faire les modifications puis cliquer sur \"Commit changes\" en bas de la page\n            </li>\n            <li>\n              Attendre 2 minutes puis recharger la page pour voir la version  jour de la page\n            </li>\n          </ol>\n        </div>\n        <Suspense fallback={<div>Chargement</div>}>\n          <Content />\n        </Suspense>\n        <FooterNav prevPage={prevPage} nextPage={nextPage} />\n      </section>\n      \n      <aside>\n        {hasLoadedFirstVis ?\n        <div className=\"vis\">\n          <GraphVis\n            {\n              ...{\n                graph,\n                // nodeColor,\n                // nodeSize,\n                // nodeLabel,\n                // labelDensity,\n                searchString,\n                filtersOptions,\n                filters,\n                cameraPosition,\n                onCameraUpdate,\n                updateTimestamp,\n                nodeSizeVariable,\n                nodeColorVariable,\n                nodeLabelVariable,\n                filtersModeAnd,\n                labelDensity,\n                displayAllLabels,\n                title,\n                legend,\n\n                colorPalette,\n\n                onSearchStringChange,\n                onToggleFiltersModeAnd: () => setFiltersModeAnd(!filtersModeAnd),\n\n                onFiltersChange: (newFilters) => setFilters(newFilters),\n\n                onLabelDensityChange: val => setLabelDensity(val),\n                onDisplayAllLabelsChange: val => setDisplayAllLabels(val),\n                onNodeSizeVariableChange: (val) => setNodeSizeVariable(val),\n                onNodeColorVariableChange: (val) => setNodeColorVariable(val),\n                onNodeLabelVariableChange: (val) => setNodeLabelVariable(val),\n                onColorPaletteChange: val => setColorPalette(val),\n                onTitleChange: val => setTitle(val),\n                onLegendChange: val => setLegend(val),\n\n                extents: {\n                  nodeSize: {\n                    min: sizeExtent[0],\n                    max: sizeExtent[1]\n                  }\n                }\n              }\n            }\n          />\n          \n        </div>\n        : <Loader percentsLoaded={50} /> }\n        {/* <CodeContainer code={currentCode} /> */}\n      </aside>\n  </div>\n  </VisualizationControlContext.Provider>\n  )\n}\n\nexport default GraphAnnotation;","import GraphAnnotation from './GraphAnnotation';\n\nexport default GraphAnnotation;","import IceCreamAnnotation from './IceCreamAnnotation';\n\nexport default IceCreamAnnotation;","import React, { useState, useEffect, useMemo, Suspense } from 'react';\nimport FooterNav from '../FooterNav';\nimport { generatePalette } from '../../helpers/palettes';\n\nimport IceCreamVis from './IceCreamContainer';\n\nimport { VisualizationControlContext } from '../../contexts';\n\nimport { computeFiltersOptions } from '../../helpers/misc';\n\nconst IceCreamAnnotation = ({\n  Content,\n  data,\n  contentsURL,\n  prevPage,\n  nextPage,\n}) => {\n  const filtersOptions = useMemo(() => computeFiltersOptions('table', data), [data]);\n  const [helpVisible, setHelpVisible] = useState(false);\n  const [searchString, setSearchString] = useState('');\n\n  const [xVariable, setXVariable] = useState(undefined);\n  const [yVariable, setYVariable] = useState(undefined);\n  const [reverseX, setReverseX] = useState(false);\n  const [reverseY, setReverseY] = useState(false);\n  const [sizeVariable, setSizeVariable] = useState(undefined);\n  const [colorVariable, setColorVariable] = useState(undefined);\n  const [labelVariable, setLabelVariable] = useState(undefined);\n  const [labelsOnTheSide, setLabelsOnTheSide] = useState(false);\n  const [colorPalette, setColorPalette] = useState(undefined);\n  const [colorScaleType, setColorScaleType] = useState(undefined);\n  const [filtersModeAnd, setFiltersModeAnd] = useState(false);\n  const [title, setTitle] = useState('');\n  const [legend, setLegend] = useState('');\n  const [filters, setFilters] = useState([]);\n  const [reverseFlickering, setReverseFlickering] = useState(false);\n\n\n  const [rotateMode, setRotateMode] = useState(false);\n\n  const [focusedVisualizationId, setFocusedVisualizationId] = useState(null);\n  const [registeredVisualizations, setRegisteredVisualizations] = useState({});\n\n  const onRegisterVisualization = (id, props) => {\n    setRegisteredVisualizations({\n      ...registeredVisualizations,\n      [id]: props\n    })\n  }\n\n  const onUnregisterVisualization = id => {\n    const copyOfRegistered = { ...registeredVisualizations };\n    delete copyOfRegistered[id]\n    setRegisteredVisualizations(copyOfRegistered)\n  }\n\n  const onVisualizationUpdate = ({\n    xVariable: thatXVariable,\n    yVariable: thatYVariable,\n\n    reverseX: thatReverseX,\n    reverseY: thatReverseY,\n\n    sizeVariable: thatSizeVariable,\n    colorVariable: thatColorVariable,\n    labelVariable: thatLabelVariable,\n    labelsOnTheSide: thatLabelsOnTheSide,\n    colorScaleType: thatColorScaleType,\n\n    rotateMode: thatRotateMode,\n    searchString: thatSearchString,\n    colorPalette: thatColorPalette,\n    filters: theseFilters = [],\n    filtersModeAnd: theseFiltersModeAnd,\n    title: thisTitle,\n    legend: thisLegend,\n    reverseFlickering: thatReverseFlickering,\n  }) => {\n    setXVariable(thatXVariable);\n    setYVariable(thatYVariable);\n    setReverseX(thatReverseX);\n    setReverseY(thatReverseY);\n    setSizeVariable(thatSizeVariable);\n    setColorVariable(thatColorVariable);\n    setColorScaleType(thatColorScaleType);\n    setLabelVariable(thatLabelVariable);\n    setRotateMode(thatRotateMode);\n    setSearchString(thatSearchString);\n    setLabelsOnTheSide(thatLabelsOnTheSide);\n    setFilters(theseFilters);\n    setFiltersModeAnd(theseFiltersModeAnd);\n    setTitle(thisTitle);\n    setLegend(thisLegend);\n    setReverseFlickering(thatReverseFlickering);\n    if (thatColorPalette && (colorVariable === thatColorVariable || (!colorVariable && thatColorVariable))) {\n      setColorPalette(thatColorPalette);\n    } else if (thatColorVariable || colorScaleType !== thatColorScaleType) {\n      let palette = colorVariable && colorVariable !== 'default' ? generatePalette(colorVariable, filtersOptions[colorVariable].options.length) : undefined\n      if (palette) {\n        const colors = generatePalette(thatColorVariable, filtersOptions[thatColorVariable].options.size);\n        // const palette = {};\n        let i = 0;\n        filtersOptions[thatColorVariable].options.forEach(option => {\n          palette[option] = colors[i];\n          i++;\n        });\n      } else {\n        setColorPalette(undefined);\n      }\n      \n      setColorPalette(palette);\n    } else if (colorPalette) {\n      setColorPalette(undefined);\n    }\n  }\n\n  useEffect(() => {\n    if (!focusedVisualizationId && Object.keys(registeredVisualizations).length) {\n      const thatId = Object.keys(registeredVisualizations)[0];\n      setFocusedVisualizationId(thatId);\n      onVisualizationUpdate(registeredVisualizations[thatId]);\n    }\n  }, [registeredVisualizations, focusedVisualizationId])/* eslint react-hooks/exhaustive-deps : 0 */\n\n\n  const onSearchStringChange = str => {\n    setSearchString(str);\n  }\n  return (\n    <VisualizationControlContext.Provider value={{\n      onVisualizationUpdate,\n      onRegisterVisualization,\n      onUnregisterVisualization,\n      focusedVisualizationId,\n      setFocusedVisualizationId,\n      visualizationParams: {\n        xVariable,\n        yVariable,\n\n        reverseX,\n        reverseY,\n\n        sizeVariable,\n        colorVariable,\n        labelVariable,\n        labelsOnTheSide,\n\n        rotateMode,\n        searchString,\n        colorPalette,\n        colorScaleType,\n\n        filters,\n        filtersModeAnd,\n\n        title,\n        legend,\n        reverseFlickering,\n      }\n    }}>\n      <div className=\"slide-container\">\n        <section>\n          <div>\n            <p>\n              <button className={helpVisible ? 'is-active' : ''} onClick={() => setHelpVisible(!helpVisible)}>\n                Comment modifier cette page ?\n            </button>\n            </p>\n            <ol className={`edit-help ${helpVisible ? 'is-active' : ''}`}>\n              <li>\n                Pralablement se logger dans github si le rpertoire est priv\n            </li>\n              <li>\n                Se rendre sur <a target=\"blank\" href={contentsURL}>cette page du rpertoire github</a>\n              </li>\n              <li>\n                Cliquer sur le crayon en haut  droite des contenus (il affiche \"edit\" au survol)\n            </li>\n              <li>\n                Faire les modifications puis cliquer sur \"Commit changes\" en bas de la page\n            </li>\n              <li>\n                Attendre 2 minutes puis recharger la page pour voir la version  jour de la page\n            </li>\n            </ol>\n          </div>\n          <Suspense fallback={<div>Chargement</div>}>\n            <Content />\n          </Suspense>\n          <FooterNav prevPage={prevPage} nextPage={nextPage} />\n        </section>\n        <aside>\n          <div className=\"vis\">\n            <IceCreamVis\n              {\n              ...{\n                data,\n                filtersOptions,\n\n                xVariable,\n                reverseX,\n                yVariable,\n                reverseY,\n                sizeVariable,\n                colorVariable,\n                labelVariable,\n                labelsOnTheSide,\n                colorPalette,\n                colorScaleType,\n\n                rotateMode,\n                searchString,\n\n                filtersModeAnd,\n                filters,\n                title,\n                legend,\n                reverseFlickering,\n\n                onToggleFiltersModeAnd: () => setFiltersModeAnd(!filtersModeAnd),\n                onFiltersChange: (newFilters) => setFilters(newFilters),\n\n                onSearchStringChange,\n                onToggleRotateMode: () => setRotateMode(!rotateMode),\n\n                onXVariableChange: (val) => setXVariable(val),\n                onYVariableChange: (val) => setYVariable(val),\n\n                onToggleReverseX: () => setReverseX(!reverseX),\n                onToggleReverseY: () => setReverseY(!reverseY),\n\n                onColorVariableChange: (val) => setColorVariable(val),\n                onSizeVariableChange: (val) => setSizeVariable(val),\n                onLabelVariableChange: (val) => setLabelVariable(val),\n                onToggleLabelsOnTheSide: val => setLabelsOnTheSide(val),\n                onColorPaletteChange: val => setColorPalette(val),\n                onColorScaleTypeChange: val => setColorScaleType(val),\n                onTitleChange: val => setTitle(val),\n                onLegendChange: val => setLegend(val),\n                onReverseFlickeringChange: val => setReverseFlickering(val),\n              }\n              }\n            />\n          </div>\n        </aside>\n      </div>\n    </VisualizationControlContext.Provider>\n  )\n}\n\nexport default IceCreamAnnotation;","import LinearGraphAnnotation from './LinearGraphAnnotation';\n\nexport default LinearGraphAnnotation;","import React, { useState, useEffect, useMemo, Suspense } from 'react';\nimport FooterNav from '../FooterNav';\nimport { generatePalette } from '../../helpers/palettes';\n\nimport LinearGraphVis from './LinearGraphContainer';\n\nimport { VisualizationControlContext } from '../../contexts';\n\nimport { computeFiltersOptions } from '../../helpers/misc';\n\nconst LinearGraphAnnotation = ({\n  Content,\n  data,\n  contentsURL,\n  prevPage,\n  nextPage,\n}) => {\n  const filtersOptions = useMemo(() => computeFiltersOptions('table', data), [data]);\n  const [helpVisible, setHelpVisible] = useState(false);\n  const [searchString, setSearchString] = useState('');\n\n  const [xVariable, setXVariable] = useState(undefined);\n  const [xLabelVariable, setXLabelVariable] = useState(undefined);\n  const [yVariable, setYVariable] = useState(undefined);\n  const [reverseX, setReverseX] = useState(false);\n  const [reverseY, setReverseY] = useState(false);\n  const [sizeVariable, setSizeVariable] = useState(undefined);\n  const [colorVariable, setColorVariable] = useState(undefined);\n  const [labelVariable, setLabelVariable] = useState(undefined);\n  const [colorPalette, setColorPalette] = useState(undefined);\n  const [graphType, setGraphType] = useState('linegraph');\n  const [useRelativeScale, setUseRelativeScale] = useState(undefined);\n  const [filtersModeAnd, setFiltersModeAnd] = useState(false);\n  const [filters, setFilters] = useState([]);\n  const [title, setTitle] = useState('');\n  const [legend, setLegend] = useState('');\n  const [normalizeY, setNormalizeY] = useState(false);\n\n\n  const [focusedVisualizationId, setFocusedVisualizationId] = useState(null);\n  const [registeredVisualizations, setRegisteredVisualizations] = useState({});\n\n  const onRegisterVisualization = (id, props) => {\n    setRegisteredVisualizations({\n      ...registeredVisualizations,\n      [id]: props\n    })\n  }\n\n  const onUnregisterVisualization = id => {\n    const copyOfRegistered = { ...registeredVisualizations };\n    delete copyOfRegistered[id]\n    setRegisteredVisualizations(copyOfRegistered)\n  }\n\n  const onVisualizationUpdate = ({\n    xVariable: thatXVariable,\n    xLabelVariable: thatXLabelVariable,\n    yVariable: thatYVariable,\n\n    reverseX: thatReverseX,\n    reverseY: thatReverseY,\n\n    sizeVariable: thatSizeVariable,\n    colorVariable: thatColorVariable,\n    labelVariable: thatLabelVariable,\n\n    searchString: thatSearchString,\n    colorPalette: thatColorPalette,\n\n    graphType: thatGraphType,\n    useRelativeScale: thatUseRelativeScale,\n\n    filters: theseFilters = [],\n    filtersModeAnd: theseFiltersModeAnd,\n    title: thisTitle,\n    legend: thisLegend,\n    normalizeY: thatNormalizeY\n  }) => {\n    setXVariable(thatXVariable);\n    setXLabelVariable(thatXLabelVariable);\n    setYVariable(thatYVariable);\n    setReverseX(thatReverseX);\n    setReverseY(thatReverseY);\n    setSizeVariable(thatSizeVariable);\n    setColorVariable(thatColorVariable);\n    setLabelVariable(thatLabelVariable);\n    setSearchString(thatSearchString);\n    setGraphType(thatGraphType);\n    setUseRelativeScale(thatUseRelativeScale);\n    setFilters(theseFilters);\n    setFiltersModeAnd(theseFiltersModeAnd);\n    setTitle(thisTitle);\n    setLegend(thisLegend);\n    setNormalizeY(thatNormalizeY);\n\n\n    if (thatColorPalette && ((!colorVariable && thatColorVariable) || colorVariable === thatColorVariable)) {\n      setColorPalette(thatColorPalette);\n    } else if (thatColorVariable && filtersOptions[thatColorVariable]) {\n      let colors = thatColorVariable && thatColorVariable !== 'default' ? generatePalette(thatColorVariable, filtersOptions[thatColorVariable].options.length) : undefined\n      // const colors = generatePalette(thatColorVariable, filtersOptions[thatColorVariable].options.size);\n      const finalPalette = {};\n      let i = 0;\n      filtersOptions[thatColorVariable].options.forEach(option => {\n        finalPalette[option] = colors[i];\n        i++;\n      });\n      setColorPalette(finalPalette);\n    } else if (colorPalette) {\n      setColorPalette(undefined);\n    }\n  }\n\n  useEffect(() => {\n    if (!focusedVisualizationId && Object.keys(registeredVisualizations).length) {\n      const thatId = Object.keys(registeredVisualizations)[0];\n      setFocusedVisualizationId(thatId)\n      onVisualizationUpdate(registeredVisualizations[thatId])\n    }\n  }, [registeredVisualizations, focusedVisualizationId])/* eslint react-hooks/exhaustive-deps : 0 */\n\n\n  const onSearchStringChange = str => {\n    setSearchString(str);\n  }\n  return (\n    <VisualizationControlContext.Provider value={{\n      onVisualizationUpdate,\n      onRegisterVisualization,\n      onUnregisterVisualization,\n      focusedVisualizationId,\n      setFocusedVisualizationId,\n      visualizationParams: {\n        graphType,\n        useRelativeScale,\n\n        xVariable,\n        xLabelVariable,\n        yVariable,\n\n        reverseX,\n        reverseY,\n\n        sizeVariable,\n        colorVariable,\n\n        searchString,\n        colorPalette,\n\n        filters,\n        filtersModeAnd,\n        \n        title,\n        legend,\n        normalizeY\n      }\n    }}>\n      <div className=\"slide-container\">\n        <section>\n          <div>\n            <p>\n              <button className={helpVisible ? 'is-active' : ''} onClick={() => setHelpVisible(!helpVisible)}>\n                Comment modifier cette page ?\n            </button>\n            </p>\n            <ol className={`edit-help ${helpVisible ? 'is-active' : ''}`}>\n              <li>\n                Pralablement se logger dans github si le rpertoire est priv\n            </li>\n              <li>\n                Se rendre sur <a target=\"blank\" href={contentsURL}>cette page du rpertoire github</a>\n              </li>\n              <li>\n                Cliquer sur le crayon en haut  droite des contenus (il affiche \"edit\" au survol)\n            </li>\n              <li>\n                Faire les modifications puis cliquer sur \"Commit changes\" en bas de la page\n            </li>\n              <li>\n                Attendre 2 minutes puis recharger la page pour voir la version  jour de la page\n            </li>\n            </ol>\n          </div>\n          <Suspense fallback={<div>Chargement</div>}>\n            <Content />\n          </Suspense>\n          <FooterNav prevPage={prevPage} nextPage={nextPage} />\n        </section>\n        <aside>\n          <div className=\"vis\">\n            <LinearGraphVis\n              {\n              ...{\n                data,\n                filtersOptions,\n\n                xVariable,\n                xLabelVariable,\n                reverseX,\n                yVariable,\n                reverseY,\n                sizeVariable,\n                colorVariable,\n                labelVariable,\n                colorPalette,\n                searchString,\n                useRelativeScale,\n                graphType,\n\n                onSearchStringChange,\n\n                filtersModeAnd,\n                filters,\n\n                title,\n                legend,\n                normalizeY,\n\n                onToggleFiltersModeAnd: () => setFiltersModeAnd(!filtersModeAnd),\n                onFiltersChange: (newFilters) => setFilters(newFilters),\n\n                onXVariableChange: (val) => setXVariable(val),\n                onXLabelVariableChange: (val) => setXLabelVariable(val),\n                onYVariableChange: (val) => setYVariable(val),\n\n                onToggleReverseX: () => setReverseX(!reverseX),\n                onToggleReverseY: () => setReverseY(!reverseY),\n\n                onColorVariableChange: (val) => setColorVariable(val),\n                onColorPaletteChange: val => setColorPalette(val),\n\n                onGraphTypeChange: val => setGraphType(val),\n                onToggleUseRelativeScale: () => setUseRelativeScale(!useRelativeScale),\n\n                onTitleChange: val => setTitle(val),\n                onLegendChange: val => setLegend(val),\n                onNormalizeYChange: val => setNormalizeY(val),\n\n              }\n              }\n            />\n          </div>\n        </aside>\n      </div>\n    </VisualizationControlContext.Provider>\n  )\n}\n\nexport default LinearGraphAnnotation;","import HorizonAnnotation from './HorizonAnnotation';\n\nexport default HorizonAnnotation;","import React, { useState, useEffect, useMemo, Suspense } from 'react';\nimport FooterNav from '../FooterNav';\nimport { generatePalette } from '../../helpers/palettes';\n\nimport HorizonVis from './HorizonContainer';\n\nimport { VisualizationControlContext } from '../../contexts';\n\nimport { computeFiltersOptions } from '../../helpers/misc';\n\nconst HorizonAnnotation = ({\n  Content,\n  data,\n  contentsURL,\n  prevPage,\n  nextPage,\n}) => {\n  const filtersOptions = useMemo(() => computeFiltersOptions('table', data), [data]);\n  const [helpVisible, setHelpVisible] = useState(false);\n  const [searchString, setSearchString] = useState('');\n\n  const [sizeVariable, setSizeVariable] = useState(undefined);\n  const [colorVariable, setColorVariable] = useState(undefined);\n  const [colorLabels, setColorLabels] = useState(undefined);\n  const [labelVariable, setLabelVariable] = useState(undefined);\n  const [colorPalette, setColorPalette] = useState(undefined);\n  const [colorScaleType, setColorScaleType] = useState(undefined);\n  const [filtersModeAnd, setFiltersModeAnd] = useState(false);\n  const [title, setTitle] = useState('');\n  const [legend, setLegend] = useState('');\n  const [filters, setFilters] = useState([]);\n  const [reverseFlickering, setReverseFlickering] = useState(false);\n\n  const [focusedVisualizationId, setFocusedVisualizationId] = useState(null);\n  const [registeredVisualizations, setRegisteredVisualizations] = useState({});\n\n  const onRegisterVisualization = (id, props) => {\n    setRegisteredVisualizations({\n      ...registeredVisualizations,\n      [id]: props\n    })\n  }\n\n  const onUnregisterVisualization = id => {\n    const copyOfRegistered = { ...registeredVisualizations };\n    delete copyOfRegistered[id]\n    setRegisteredVisualizations(copyOfRegistered)\n  }\n\n  const onVisualizationUpdate = ({\n\n    sizeVariable: thatSizeVariable,\n    colorVariable: thatColorVariable,\n    colorLabels: thatColorLabels,\n    labelVariable: thatLabelVariable,\n    colorScaleType: thatColorScaleType,\n\n    searchString: thatSearchString,\n    colorPalette: thatColorPalette,\n    filters: theseFilters = [],\n    filtersModeAnd: theseFiltersModeAnd,\n    title: thisTitle,\n    legend: thisLegend,\n    reverseFlickering: thatReverseFlickering,\n  }) => {\n    setSizeVariable(thatSizeVariable);\n    setColorVariable(thatColorVariable);\n    setColorScaleType(thatColorScaleType);\n    setLabelVariable(thatLabelVariable);\n    setSearchString(thatSearchString);\n    setFilters(theseFilters);\n    setFiltersModeAnd(theseFiltersModeAnd);\n    setColorLabels(thatColorLabels);\n    setTitle(thisTitle);\n    setLegend(thisLegend);\n    setReverseFlickering(thatReverseFlickering);\n    if (thatColorPalette && (colorVariable === thatColorVariable || (!colorVariable && thatColorVariable))) {\n      setColorPalette(thatColorPalette);\n    } else if (thatColorVariable || colorScaleType !== thatColorScaleType) {\n      let palette = colorVariable && colorVariable !== 'default' ? generatePalette(colorVariable, filtersOptions[colorVariable].options.length) : undefined\n      if (palette) {\n        const colors = generatePalette(thatColorVariable, filtersOptions[thatColorVariable].options.size);\n        // const palette = {};\n        let i = 0;\n        filtersOptions[thatColorVariable].options.forEach(option => {\n          palette[option] = colors[i];\n          i++;\n        });\n      } else {\n        setColorPalette(undefined);\n      }\n      \n      setColorPalette(palette);\n    } else if (colorPalette) {\n      setColorPalette(undefined);\n    }\n  }\n\n  useEffect(() => {\n    if (!focusedVisualizationId && Object.keys(registeredVisualizations).length) {\n      const thatId = Object.keys(registeredVisualizations)[0];\n      setFocusedVisualizationId(thatId);\n      onVisualizationUpdate(registeredVisualizations[thatId]);\n    }\n  }, [registeredVisualizations, focusedVisualizationId])/* eslint react-hooks/exhaustive-deps : 0 */\n\n\n  const onSearchStringChange = str => {\n    setSearchString(str);\n  }\n  return (\n    <VisualizationControlContext.Provider value={{\n      onVisualizationUpdate,\n      onRegisterVisualization,\n      onUnregisterVisualization,\n      focusedVisualizationId,\n      setFocusedVisualizationId,\n      visualizationParams: {\n\n        sizeVariable,\n        colorVariable,\n        labelVariable,\n\n        searchString,\n        colorPalette,\n        colorScaleType,\n        colorLabels,\n\n        filters,\n        filtersModeAnd,\n\n        title,\n        legend,\n        reverseFlickering,\n      }\n    }}>\n      <div className=\"slide-container\">\n        <section>\n          <div>\n            <p>\n              <button className={helpVisible ? 'is-active' : ''} onClick={() => setHelpVisible(!helpVisible)}>\n                Comment modifier cette page ?\n            </button>\n            </p>\n            <ol className={`edit-help ${helpVisible ? 'is-active' : ''}`}>\n              <li>\n                Pralablement se logger dans github si le rpertoire est priv\n            </li>\n              <li>\n                Se rendre sur <a target=\"blank\" href={contentsURL}>cette page du rpertoire github</a>\n              </li>\n              <li>\n                Cliquer sur le crayon en haut  droite des contenus (il affiche \"edit\" au survol)\n            </li>\n              <li>\n                Faire les modifications puis cliquer sur \"Commit changes\" en bas de la page\n            </li>\n              <li>\n                Attendre 2 minutes puis recharger la page pour voir la version  jour de la page\n            </li>\n            </ol>\n          </div>\n          <Suspense fallback={<div>Chargement</div>}>\n            <Content />\n          </Suspense>\n          <FooterNav prevPage={prevPage} nextPage={nextPage} />\n        </section>\n        <aside>\n          <div className=\"vis\">\n            <HorizonVis\n              {\n              ...{\n                data,\n                filtersOptions,\n                sizeVariable,\n                colorVariable,\n                labelVariable,\n                colorPalette,\n                colorScaleType,\n                colorLabels,\n\n                searchString,\n\n                filtersModeAnd,\n                filters,\n                title,\n                legend,\n                reverseFlickering,\n\n                onToggleFiltersModeAnd: () => setFiltersModeAnd(!filtersModeAnd),\n                onFiltersChange: (newFilters) => setFilters(newFilters),\n\n                onSearchStringChange,\n                \n                onColorVariableChange: (val) => setColorVariable(val),\n                onSizeVariableChange: (val) => setSizeVariable(val),\n                onLabelVariableChange: (val) => setLabelVariable(val),\n                onColorPaletteChange: val => setColorPalette(val),\n                onColorScaleTypeChange: val => setColorScaleType(val),\n                onTitleChange: val => setTitle(val),\n                onLegendChange: val => setLegend(val),\n                onReverseFlickeringChange: val => setReverseFlickering(val),\n              }\n              }\n            />\n          </div>\n        </aside>\n      </div>\n    </VisualizationControlContext.Provider>\n  )\n}\n\nexport default HorizonAnnotation;","import PlainPage from './PlainPage';\n\nexport default PlainPage;","import React, {useState, Suspense} from 'react';\nimport FooterNav from '../FooterNav';\n\nconst PlainPage = ({\n  Content,\n  contentsURL,\n  prevPage,\n  nextPage\n}) => {\n  const [helpVisible, setHelpVisible] = useState(false);\n  return (\n    <div className=\"slide-container without-visualization\">\n      <section>\n        <div>\n          <p>\n            <button className={helpVisible ? 'is-active': ''} onClick={() => setHelpVisible(!helpVisible)}>\n              Comment modifier cette page ?\n            </button>\n          </p>\n          <ol className={`edit-help ${helpVisible ? 'is-active' : ''}`}>\n            <li>\n              Pralablement se logger dans github si le rpertoire est priv\n            </li>\n            <li>\n              Se rendre sur <a target=\"blank\" href={contentsURL}>cette page du rpertoire github</a>\n            </li>\n            <li>\n              Cliquer sur le crayon en haut  droite des contenus (il affiche \"edit\" au survol)\n            </li>\n            <li>\n              Faire les modifications puis cliquer sur \"Commit changes\" en bas de la page\n            </li>\n            <li>\n              Attendre 2 minutes puis recharger la page pour voir la version  jour de la page\n            </li>\n          </ol>\n        </div>\n        <Suspense fallback={<div>Chargement</div>}>\n          <Content />\n        </Suspense>\n        <FooterNav prevPage={prevPage} nextPage={nextPage} />\n      </section>\n      <aside>\n      </aside>\n  </div>\n  )\n}\n\nexport default PlainPage;","import GraphAnnotation from './components/GraphAnnotation';\nimport IceCreamAnnotation from './components/IceCreamAnnotation';\nimport LinearGraphAnnotation from './components/LinearGraphAnnotation';\nimport HorizonAnnotation from './components/HorizonAnnotation';\nimport PlainPage from './components/PlainPage';\n\nimport ChapoFr from '!babel-loader!mdx-loader!./contents/fr/chapo.mdx'\nimport ChapoEn from '!babel-loader!mdx-loader!./contents/en/headline.mdx'\n\n\nimport IntroFr from '!babel-loader!mdx-loader!./contents/fr/00_home.mdx'\nimport Part1Fr from '!babel-loader!mdx-loader!./contents/fr/01_couverture_media.mdx'\nimport Part2Fr from '!babel-loader!mdx-loader!./contents/fr/02_detectcritic.mdx'\nimport Part3Fr from '!babel-loader!mdx-loader!./contents/fr/03_graphclusters.mdx'    \nimport Part4Fr from '!babel-loader!mdx-loader!./contents/fr/04_timelineclusters.mdx'\nimport Part5Fr from '!babel-loader!mdx-loader!./contents/fr/05_toporobotalgo.mdx'\nimport Part6Fr from '!babel-loader!mdx-loader!./contents/fr/06_explore_entities.mdx'\nimport Part7Fr from '!babel-loader!mdx-loader!./contents/fr/07_IssueVERB.mdx'\nimport Part8Fr from '!babel-loader!mdx-loader!./contents/fr/08_NERdate.mdx'\nimport ReferencesFr from '!babel-loader!mdx-loader!./contents/fr/references.mdx'\n\nimport IntroEn from '!babel-loader!mdx-loader!./contents/en/00_home.mdx'\nimport Part1En from '!babel-loader!mdx-loader!./contents/en/01_couverture_media.mdx'\nimport Part2En from '!babel-loader!mdx-loader!./contents/en/02_detectcritic.mdx'\nimport Part3En from '!babel-loader!mdx-loader!./contents/en/03_graphclusters.mdx'    \nimport Part4En from '!babel-loader!mdx-loader!./contents/en/04_timelineclusters.mdx'\nimport Part5En from '!babel-loader!mdx-loader!./contents/en/05_toporobotalgo.mdx'\nimport Part6En from '!babel-loader!mdx-loader!./contents/en/06_explore_entities.mdx'\nimport Part7En from '!babel-loader!mdx-loader!./contents/en/07_IssueVERB.mdx'\nimport Part8En from '!babel-loader!mdx-loader!./contents/en/08_NERdate.mdx'\nimport ReferencesEn from '!babel-loader!mdx-loader!./contents/en/references.mdx'\n\nconst routes = [\n  {\n    title: {\n      fr: 'Chap',\n      en: 'Headline',\n    },\n    route: {\n      fr: 'chapo',\n      en: 'headline',\n    },\n    contents: {\n      fr: 'chapo.mdx',\n      en: 'headline.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <ChapoFr />,\n      en: () => <ChapoEn />\n    },\n    Component: PlainPage,\n    hideInContents: true\n  },\n  {\n    title: {\n      fr: 'Introduction',\n      en: 'Introduction',\n    },\n    route: {\n      fr: 'introduction',\n      en: 'introduction',\n    },\n    contents: {\n      fr: '00_home.mdx',\n      en: '00_home.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <IntroFr />,\n      en: () => <IntroEn />\n    },\n    Component: PlainPage\n  },\n  {\n    title: {\n      fr: 'Quelle est la couverture mdiatique de l\\'IA ?',\n      en: '1. Media coverage',\n    },\n    route: {\n      fr: '01-couverture-media',\n      en: '01-media-coverage',\n    },\n    contents: {\n      fr: '01_couverture_media.mdx',\n      en: '01_couverture_media.mdx'\n    },\n    contentsCompiled: {\n      fr: () => <Part1Fr />,\n      en: () => <Part1En />\n    },\n    Component: LinearGraphAnnotation,\n    data: '4average_clusters_unpivoted.csv'\n  },\n  {\n    title: {\n      fr: 'Comment dtecter le discours critique dans les mdias ?',\n      en: '2. Detecting critiques',\n    },\n    route: {\n      fr: '02-detecter-critiques',\n      en: '02-detect-critiques'\n    },\n    contents: {\n      fr: '02_detectcritic.mdx',\n      en: '02_detectcritic.mdx'\n    },\n    contentsCompiled: {\n      fr: () => <Part2Fr />,\n      en: () => <Part2En />\n    },\n    Component: LinearGraphAnnotation,\n    data: 'critic_notcritic_unpivoted.csv',\n  },\n  {\n    title: {\n      fr: 'Quels sont les thmes sur lesquels porte la critique ?',\n      en: '3. Graph clusters',\n    },\n    route: {\n      fr: '03-graph-clusters',\n      en: '03-graph-clusters',\n    },\n    contents: {\n      fr: '03_graphclusters.mdx',\n      en: '03_graphclusters.mdx'\n    },\n    contentsCompiled: {\n      fr: () => <Part3Fr />,\n      en: () => <Part3En />\n    },\n    data: 'Graph_Critic_EN_algopress_webV2.gexf',\n    Component: GraphAnnotation\n  },\n  {\n    title: {\n      fr: 'Comment volue lagenda mdiatique ?',\n      en: '4. Evolution of the mediatic agenda',\n    },\n    route: {\n      fr: '04-timeline-clusters',\n      en: '04-timeline-clusters',\n    },\n    contents: {\n      fr: '04_timelineclusters.mdx',\n      en: '04_timelineclusters.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <Part4Fr />,\n      en: () => <Part4En />\n    },\n    Component: LinearGraphAnnotation,\n    data: '5average_clusters_unpivoted.csv',\n  },\n  {\n    title: {\n      fr: 'Que nous apprend la topologie du rseau ?',\n      en: '5. Network topology',\n    },\n    route: {\n      fr: '05-topologie',\n      en: '05-topology',\n    },\n    contents: {\n      fr: '05_toporobotalgo.mdx',\n      en: '05_toporobotalgo.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <Part5Fr />,\n      en: () => <Part5En />\n    },\n    data: 'Graph_Critic_EN_algopress_webV2.gexf',\n    Component: GraphAnnotation\n  },\n  {\n    title: {\n      fr: 'Quelles entits peuplent le rseau smantique ?',\n      en: '6. Calculating agents',\n    },\n    route: {\n      fr: '06-agents',\n      en: '06-agents',\n    },\n    contents: {\n      fr: '06_explore_entities.mdx',\n      en: '06_explore_entities.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <Part6Fr />,\n      en: () => <Part6En />\n    },\n    data: 'Graph_Critic_EN_algopress_webV2.gexf',\n    Component: GraphAnnotation\n  },\n  {\n    title: {\n      fr: 'Comment sont exprims les troubles produits par ces technologies ?',\n      en: '7. Trouble verbs',\n    },\n    route: {\n      fr: '07-verbes',\n      en: '07-verbs',\n    },\n    contents: {\n      fr: '07_IssueVERB.mdx',\n      en: '07_IssueVERB.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <Part7Fr />,\n      en: () => <Part7En />\n    },\n    data: 'verbs_bin_normalise.csv',\n    Component: IceCreamAnnotation,\n    lab: {\n      data: 'verbs_bin_v2.csv',\n      Component: HorizonAnnotation\n    }\n  },\n  {\n    title: {\n      fr: 'Comment est exprime la temporalit ?',\n      en: '8. Temporality',\n    },\n    route: {\n      fr: '08-temporalite',\n      en: '08-temporalite',\n    },\n    contents: {\n      fr: '08_NERdate.mdx',\n      en: '08_NERdate.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <Part8Fr />,\n      en: () => <Part8En />\n    },\n    Component: IceCreamAnnotation,\n    data: 'date_ner_tfidf_v3.csv',\n    lab: {\n      data: 'dates_bin_v2.csv',\n      Component: HorizonAnnotation\n    }\n  },\n  {\n    title: {\n      fr: 'Rfrences',\n      en: 'References',\n    },\n    route: {\n      fr: 'references',\n      en: 'references',\n    },\n    contents: {\n      fr: 'references.mdx',\n      en: 'references.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <ReferencesFr />,\n      en: () => <ReferencesEn />\n    },\n    Component: PlainPage\n  },\n]\n\nexport default routes;","import React, { useRef, useEffect, useState, createRef, useReducer } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { csvParse, tsvParse } from 'd3-dsv';\nimport cx from 'classnames';\nimport { useScrollYPosition } from 'react-use-scroll-position';\n\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport Loader from '../Loader';\nimport VisualizationController from '../VisualizationController';\n\n\nimport { VisualizationControlContext, PresentationContext } from '../../contexts'\n// import {useDebouncedEffect} from '../../helpers/hooks';\n\nimport routes from '../../summary';\nimport { omit } from 'lodash-es';\nimport { useDebounce } from '../../helpers/hooks';\n\nconst buildRouteId = (_index, route, lang) => `${encodeURIComponent(route.route[lang].toLowerCase())}`;\n\nconst Sections = ({\n  routes,\n  lang,\n  setVisualizations,\n  visualizations,\n  activeSectionIndex,\n  sectionsRef\n}) => {\n  return (\n    <main>\n      {\n        routes\n        .map((route, index) => {\n          if (route.hideInContents) {\n            return null;\n          }\n          const {\n            data: initialData,\n            contentsCompiled,\n            lab,\n          } = route;\n          const data = lang === 'en' && lab && lab.data ? lab.data : initialData;\n          const Content = contentsCompiled[lang];\n          const onRegisterVisualization = (id, params) => {\n            const finalParams = {\n              ...params,\n              sectionIndex: index,\n              data\n            }\n            setTimeout(() => setVisualizations({ ...visualizations, [id]: finalParams }));\n          }\n          const onUnregisterVisualization = id => {\n            setVisualizations(omit(visualizations, [id]))\n          }\n          return (\n            <VisualizationControlContext.Provider\n              key={index}\n              value={{\n                onRegisterVisualization,\n                onUnregisterVisualization,\n              }}\n            >\n              <section className={cx(\"section-container\", { 'is-active': index === activeSectionIndex, 'has-visualization': data !== undefined })} ref={sectionsRef.current[index]}>\n                <Content />\n              </section>\n            </VisualizationControlContext.Provider>\n          )\n        })\n      }\n    </main>\n  )\n}\n\nconst PresentationWrapper = ({ match: { params } }) => {\n  const { lang, /*sectionId, visualizationIndex*/ } = params;\n  const sectionsRef = useRef(routes.map(() => createRef()));\n\n  const [activeVisualization, setActiveVisualization] = useState(undefined);\n  const [activeVisualizationIndex, setActiveVisualizationIndex] = useState(undefined);\n  const [activeSection, setActiveSection] = useState(undefined);\n  const [activeSectionIndex, setActiveSectionIndex] = useState(undefined);\n\n  const [datasets, setDatasets] = useState({})\n  const [loadingFraction, setLoadingFraction] = useState(0);\n  const history = useHistory();\n  const [inHeader, setInHeader] = useState(true);\n  const [inFooter, setInFooter] = useState(false);\n\n  const [visualizations, setVisualizations] = useReducer(\n    (state, newState) => ({ ...state, ...newState }),\n    {}\n  )\n\n  const scrollRef = useRef(null);\n  const liveScrollY = useScrollYPosition();\n  const scrollY = useDebounce(liveScrollY, 100);\n\n  /**\n   * Scroll on coumponent mount\n   */\n  /*useEffect(() => {\n    // waiting for visualizations\n    setTimeout(() => {\n      if (sectionId !== undefined) {\n        let newSection;\n        let newSectionIndex;\n        routes.find((route, routeIndex) => {\n          const id = buildRouteId(routeIndex, route, lang);\n          if (id === sectionId) {\n            newSection = route;\n            newSectionIndex = routeIndex;\n            return true;\n          }\n          return false;\n        });\n        setActiveSection(newSection);\n        setActiveSectionIndex(newSectionIndex);\n        setInHeader(false);\n        let relevantVisualization;\n        if (visualizationIndex !== undefined) {\n          const relevantVisualizations = Object.entries(visualizations)\n            .filter(([id, params]) => params.sectionIndex === +newSectionIndex)\n            .map(t => t[1]);\n          relevantVisualization = +visualizationIndex < relevantVisualizations.length ? relevantVisualizations[+visualizationIndex] : undefined;\n          if (relevantVisualization) {\n            setActiveVisualizationIndex(+visualizationIndex);\n            setActiveVisualization(relevantVisualization);\n            const y = relevantVisualization.ref.current ? relevantVisualization.ref.current.getBoundingClientRect().y : 0;\n            const bodyRect = document.body.getBoundingClientRect();\n            const visY = y - bodyRect.top;\n            window.scrollTo({\n              left: 0,\n              top: visY - window.innerHeight / 2 + 10,\n            });\n          }\n        }\n        if (!relevantVisualization) {\n          const el = sectionsRef.current[newSectionIndex];\n          if (el.current) {\n            const y = el.current.getBoundingClientRect().y;\n            const bodyRect = document.body.getBoundingClientRect();\n            const sectionY = y - bodyRect.top;\n            window.scrollTo({\n              left: 0,\n              top: sectionY,\n            })\n          }\n        }\n\n      }\n    }, 1000);\n  }, [])*//* eslint react-hooks/exhaustive-deps : 0 */\n  /**\n   * Route update\n   */\n  useEffect(() => {\n    if (activeSection) {\n      const id = buildRouteId(activeSectionIndex, activeSection, lang);\n      history.push({\n        pathname: `/publication/${lang}/${id}${activeVisualizationIndex !== undefined ? '/' + activeVisualizationIndex : ''}`\n      })\n    }\n  }, [activeVisualizationIndex, activeSection, activeSectionIndex, lang])\n\n  /**\n   * loading all datasets\n   */\n  useEffect(() => {\n    routes\n    .reduce((cur, route, routeIndex) => {\n      return cur.then((res) => new Promise((resolve, reject) => {\n\n        const { data } = route;\n        const url = data ? `${process.env.PUBLIC_URL}/data/${data}` : undefined;\n        if (url) {\n          axios.get(url, {\n            onDownloadProgress: progressEvent => {\n              const status = progressEvent.loaded / progressEvent.total;\n              const globalFraction = routeIndex / routes.length;\n              setLoadingFraction(globalFraction + status / routes.length);\n            }\n          })\n            .then(({ data: inputData }) => {\n              setTimeout(() => {\n                let loadedData = inputData;\n                if (url.split('.').pop() === 'csv') {\n                  loadedData = csvParse(inputData);\n                } else if (url.split('.').pop() === 'tsv') {\n                  loadedData = tsvParse(inputData);\n                }\n                resolve({ ...res, [data]: loadedData })\n              })\n            })\n            .catch(reject)\n        } else return resolve(res);\n\n      }))\n    }, Promise.resolve({}))\n    .then(newDatasets => {\n      return routes\n        // second pass for the lab property of routes (temporary, @todo remove when scaffolding will be over)\n        .reduce((cur, route, routeIndex) => {\n          return cur.then((res) => new Promise((resolve, reject) => {\n  \n            const { lab } = route;\n            if (lang === 'en' && lab && lab.data) {\n              const data = lab.data;\n              const url = data ? `${process.env.PUBLIC_URL}/data/${data}` : undefined;\n              if (url) {\n                axios.get(url, {\n                  onDownloadProgress: progressEvent => {\n                    const status = progressEvent.loaded / progressEvent.total;\n                    const globalFraction = routeIndex / routes.length;\n                    setLoadingFraction(globalFraction + status / routes.length);\n                  }\n                })\n                  .then(({ data: inputData }) => {\n                    setTimeout(() => {\n                      let loadedData = inputData;\n                      if (url.split('.').pop() === 'csv') {\n                        loadedData = csvParse(inputData);\n                      } else if (url.split('.').pop() === 'tsv') {\n                        loadedData = tsvParse(inputData);\n                      }\n                      resolve({ ...res, [data]: loadedData })\n                    })\n                  })\n                  .catch(reject)\n              } else return resolve(res);\n            } else return resolve(res);\n          }))\n        }, Promise.resolve(newDatasets))\n    })\n    .then(newDatasets => {\n        setLoadingFraction(1);\n        setDatasets(newDatasets)\n      })\n      .catch(console.log)\n  }, [])\n  /**\n   * Scrollytelling managmeent\n   */\n  useEffect(() => {\n    const DISPLACE_Y = window.innerHeight * .5;\n    const y = scrollY + DISPLACE_Y;\n    let newActiveRouteIndex;\n    let newActiveVisualizationIndex;\n    let newActiveRoute;\n    let newActiveVisualization;\n\n    // find active section\n    sectionsRef.current.find((ref, index) => {\n      \n      if (ref.current) {\n        const { y: initialSectionY, height } = ref.current.getBoundingClientRect();\n        const bodyRect = document.body.getBoundingClientRect();\n        const sectionY = initialSectionY - bodyRect.top;\n\n        if (index === 1 && y > sectionY && inHeader) {\n          setInHeader(false);\n        } else if (index === 1 && y < sectionY && !inHeader) {\n          setInHeader(true);\n        }\n        if (index === sectionsRef.current.length - 1 && y > sectionY + height && !inFooter) {\n          setInFooter(true);\n        } else if (inFooter) {\n          setInFooter(false);\n        }\n        if (y > sectionY && y < sectionY + height) {\n          newActiveRouteIndex = index;\n          newActiveRoute = routes[index];\n          return true;\n        }\n      }\n      return false;\n    });\n    if (activeSectionIndex !== newActiveRouteIndex) {\n      setActiveSectionIndex(newActiveRouteIndex);\n      setActiveSection(newActiveRoute);\n    }\n    if (newActiveRouteIndex !== undefined) {\n      // const id = buildRouteId(newActiveRouteIndex, newRoute, lang);\n      // find active visualization\n      const relevantVisualizations = Object.entries(visualizations)\n        .filter(([id, params]) => params.sectionIndex === newActiveRouteIndex)\n        .map(t => t[1])\n      for (let index = relevantVisualizations.length - 1; index >= 0; index--) {\n        const params = relevantVisualizations[index];\n        const { ref } = params;\n        if (ref.current) {\n          const { y: initialVisY } = ref.current.getBoundingClientRect();\n          const visY = initialVisY + window.scrollY;\n          if (y > visY) {\n            newActiveVisualization = params;\n            newActiveVisualizationIndex = index;\n            break;\n          }\n        }\n      }\n      if (relevantVisualizations.length && newActiveVisualization === undefined) {\n        newActiveVisualization = relevantVisualizations[0];\n        newActiveVisualizationIndex = 0;\n      }\n      if (activeVisualizationIndex !== newActiveVisualizationIndex || activeSectionIndex !== newActiveRouteIndex) {\n        setActiveVisualization(newActiveVisualization);\n        setActiveVisualizationIndex(newActiveVisualizationIndex);\n      }\n    } else {\n      if (activeVisualization) {\n        setActiveVisualization(undefined);\n        setActiveVisualizationIndex(undefined);\n      }\n    }\n  }, [scrollY]);\n\n  const preventScroll = e => {\n    e.preventScroll();\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  const handleRouteNav = index => {\n    setActiveVisualization(undefined);\n    setActiveSectionIndex(index);\n    setActiveSection(routes[index]);\n    let relevantVisualizations = Object.entries(visualizations)\n      .filter(([id, params]) => params.sectionIndex === index)\n      .map(t => t[1]);\n    setActiveVisualization(relevantVisualizations.length ? relevantVisualizations[0] : undefined);\n    setActiveVisualizationIndex(relevantVisualizations.length ? 0 : undefined);\n\n    const el = sectionsRef.current[index];\n    if (el.current) {\n      const y = el.current.getBoundingClientRect().y;\n      const bodyRect = document.body.getBoundingClientRect();\n      const sectionY = y - bodyRect.top;\n      window.scrollTo({\n        left: 0,\n        top: sectionY, // - window.innerHeight / 2,\n        behavior: 'smooth'\n      })\n    }\n  }\n  const handleScrollToFirstSection = () => handleRouteNav(0);\n  const handleBlockClick = (_id, ref) => {\n    if (ref.current) {\n      const y = ref.current.getBoundingClientRect().y;\n      const bodyRect = document.body.getBoundingClientRect();\n      const sectionY = y - bodyRect.top;\n      window.scrollTo({\n        left: 0,\n        top: sectionY - window.innerHeight / 2 + 5,\n        behavior: 'smooth'\n      })\n    }\n  }\n  const handleScrollToTop = () => {\n    setActiveVisualization(undefined);\n    setActiveVisualizationIndex(undefined);\n    setActiveSection(undefined);\n    setActiveSectionIndex(undefined);\n    window.scrollTo({\n      left: 0,\n      top: 0,\n      behavior: 'smooth'\n    })\n  }\n\n  return (\n    <PresentationContext.Provider\n      value={{\n        presentationMode: true,\n        activeVisualization,\n        onBlockClick: handleBlockClick\n      }}\n    >\n      <div ref={scrollRef} id=\"presentation-wrapper\">\n        <Header\n          lang={lang}\n          routes={routes}\n          onRouteNav={handleRouteNav}\n          isVisible={inHeader}\n          inFooter={inFooter}\n          activeSectionIndex={activeSectionIndex}\n          loadingFraction={loadingFraction}\n          graphData={datasets && datasets['Graph_Critic_EN_algopress_webV2.gexf']}\n          onScrollToTop={handleScrollToTop}\n          onScrollToFirstSection={handleScrollToFirstSection}\n        />\n        <Footer />\n        <Sections\n          {\n          ...{\n            routes,\n            lang,\n            setVisualizations,\n            visualizations,\n            activeSectionIndex,\n            sectionsRef\n          }\n          }\n        />\n        <aside onScroll={preventScroll} className={cx('visualization-container', { 'is-visible': !(inHeader || inFooter) })}>\n          {\n            datasets ?\n            <VisualizationController\n              datasets={datasets}\n              activeVisualization={activeVisualization}\n              visualizations={visualizations}\n              loadingFraction={loadingFraction}\n            />\n            :\n            <Loader percentsLoaded={loadingFraction * 100} />\n          }\n        </aside>\n        <Footer inBottom />\n      </div>\n    </PresentationContext.Provider>\n  )\n}\n\nexport default PresentationWrapper;","import PresentationWrapper from './PresentationWrapper';\n\nexport default PresentationWrapper;","import {useState, useEffect} from 'react';\n\nexport function useDebounce(value, delay) {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(\n    () => {\n      // Update debounced value after delay\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n\n      // Cancel the timeout if value changes (also on delay change or unmount)\n      // This is how we prevent debounced value from updating if value is changed ...\n      // .. within the delay period. Timeout gets cleared and restarted.\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    [value, delay] // Only re-call effect if value or delay changes\n  );\n\n  return debouncedValue;\n}","import React, { useState } from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  NavLink as Link,\n  Redirect,\n  useHistory,\n} from \"react-router-dom\";\n\nimport './Edition.scss';\nimport './Presentation.scss';\n\nimport { LanguageContext } from './contexts';\n\n\nimport { repository } from '../package.json';\n\nimport DataLoader from './components/DataLoader';\nimport PresentationContainer from './components/PresentationWrapper';\n\nimport routes from './summary'\n\nconst LANGUAGES = ['fr', 'en'];\n\nconst renderRoute = ({\n  data,\n  contentsURL,\n  Content,\n  ThatComponent,\n  prevPage,\n  nextPage\n}) => (\n  <DataLoader url={data ? `${process.env.PUBLIC_URL}/data/${data}` : undefined}>\n    {\n      data => (\n        <ThatComponent\n          {\n          ...{\n            contentsURL,\n            Content,\n            prevPage,\n            nextPage,\n            data\n          }\n          }\n        />\n      )\n    }\n  </DataLoader>\n);\n\n\n\nconst Edition = ({match, lang, onLangChange}) => {\n  return (\n    <div id=\"edition-wrapper\">\n    <nav>\n          <ul>\n            {\n              routes.map(({ title, route: inputRoute }, index) => {\n                const route = `${match.path}/${lang}/${inputRoute[lang]}`\n                return (\n                  <li key={index} className=\"navitem-container\">\n                    <Link to={route}>\n                      {index}. {title[lang]}\n                    </Link>\n                  </li>\n                )\n              })\n            }\n            <li className=\"lang-toggle\">\n              <button\n                className={lang === 'fr' ? 'is-active' : ''}\n                onClick={() => onLangChange('fr')}\n              >fr</button>\n              <button\n                className={lang === 'en' ? 'is-active' : ''}\n                onClick={() => onLangChange('en')}\n              >en</button>\n            </li>\n          </ul>\n        </nav>\n        <main>\n          <Switch>\n            {\n              LANGUAGES.map(lang => {\n                return routes.map(({\n                  // title,\n                  route: inputRoute,\n                  contents,\n                  data,\n                  Component: ThatComponent,\n                  lab\n                }, index) => {\n                  const route = `${match.path}/${lang}/${inputRoute[lang]}`;\n                  const prevPage = index > 0 ? routes[index - 1] : undefined;\n                  const nextPage = index < routes.length - 1 ? routes[index + 1] : undefined;\n                  const Content = React.lazy(() => import(`!babel-loader!mdx-loader!./contents/${lang}/${contents[lang]}`))\n                  const contentsURL = `${repository}/blob/main/src/contents/${lang}/${contents[lang]}`;\n                  const currentData = lang === 'en' && lab && lab.data ? lab.data : data;\n                  const CurrentComponent = lang === 'en' && lab && lab.Component ? lab.Component : ThatComponent;\n                  return (\n                    <Route key={index} path={route}>\n                      {renderRoute({ data: currentData, contentsURL, Content, ThatComponent: CurrentComponent, prevPage, nextPage })}\n                    </Route>\n                  )\n                })\n              })\n            }\n            <Redirect to={`${match.path}/fr/${routes[0].route['fr']}`} />\n          </Switch>\n        </main>\n    </div>\n  )\n}\n\nfunction App() {\n\n  const history = useHistory();\n  const [lang, setLang] = useState('fr');\n\n\n  const onLangChange = (ln) => {\n    if (ln !== lang) {\n      const otherLang = lang;\n      const pathOtherLang = history.location.pathname.split('/').pop();\n      const routeItem = routes.find(route => {\n        return route.route[otherLang] === pathOtherLang;\n      });\n      setLang(ln);\n      if (routeItem) {\n        history.push(`/edition/${ln}/${routeItem.route[ln]}`);\n\n      }\n    }\n\n  }\n  return (\n    <LanguageContext.Provider value={{ lang, onLangChange }}>\n        <Route path=\"/edition\" component={props => <Edition {...{...props, lang, onLangChange}} />} />\n        <Route path=\"/publication/:lang/:sectionId?/:visualizationIndex?\" component={PresentationContainer} />\n        <Route exact path=\"/\">\n          <Redirect to={`/publication/fr/`} />\n        </Route>\n    </LanguageContext.Provider>\n  );\n}\n\n\nexport default function Wrapper() {\n  return (\n    <Router>\n      <App />\n    </Router>\n  )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\nimport cx from 'classnames';\nimport React, {useContext} from 'react';\nimport { PresentationContext} from '../../contexts';\n\nconst filterColorPalette = (colorVariable, colorPalette = {}, filters = [], colorScaleType) => {\n  if (!filters.length || colorScaleType === 'continuous') {\n    return Object.entries(colorPalette);\n  }\n  return Object.entries(colorPalette)\n  .filter(([label, color]) => {\n    const matchesAtLeastOne = filters.find(({ attribute, value }) => {\n      if (attribute === colorVariable) {\n        return value === label;\n      }\n      return true;\n    })\n    return matchesAtLeastOne;\n  })\n}\n\nconst ColorLegend = ({\n  colorPalette = [],\n  colorLabels : inputColorLabels = {},\n  colorScaleType,\n  colorVariable\n}) => {\n  const colorLabels  = Object.entries(inputColorLabels);\n  \n  return (\n    <ul className={cx(\"ColorLegend\", {'is-continuous': colorScaleType === 'continuous', 'is-big': colorPalette.length > 4})}>\n      {\n        colorScaleType === 'continuous' ?\n        <li className=\"continuous-scale-container\">\n          <div className=\"labels\">\n            <span>{colorLabels.length ? colorLabels[0][1] : '0'}</span>\n            <span>{colorLabels.length ? colorLabels[1][1] : '1'}</span>\n          </div>\n          <div \n            className=\"continuous-scale\"\n            style={{\n              background: colorPalette.length === 2 ? `linear-gradient(to right, ${colorPalette[0][1]} 20%, ${colorPalette[1][1]} 60%)` : undefined\n            }}\n          />\n        </li>\n        :\n        colorPalette\n        .sort(([labelA], [labelB]) => {\n          if (labelA > labelB) {\n            return 1;\n          }\n          return -1;\n        })\n        .map(([label, color]) => (\n          <li>\n            <span className=\"color\" style={{background: color}} />\n            <span className=\"label\">{label}</span>\n          </li>\n        ))\n      }\n    </ul>\n  )\n}\n\nconst VisBlock = React.forwardRef(({\n  title, \n  legend, \n  id,\n  colorPalette,\n  colorLabels,\n  nodeColorVariable,\n  filters,\n  // filtersModeAnd,\n  colorVariable,\n  colorScaleType,\n}, ref) => {\n  const {\n    activeVisualization,\n    onBlockClick\n  } = useContext(PresentationContext);\n  const onClick = e => {\n    if (typeof onBlockClick === 'function') {\n      onBlockClick(id, ref);\n    }\n  }\n  const colors = filterColorPalette(nodeColorVariable || colorVariable, colorPalette, filters, colorScaleType);\n  return (\n    <div onClick={onClick} ref={ref} id={id} className={cx(\"VisualizationBlock LinearGraphBlock\", {'is-active': activeVisualization && activeVisualization.id === id})}>\n      {\n        title ?\n        <h5 className=\"block-title\">{title}</h5>\n        : null\n      }\n      <div className={cx(\"secondary\", {'has-colors': colors && colors.length > 0})}>\n        {\n          legend ?\n          <p className=\"block-legend\">\n            {legend}\n          </p>\n          : null\n        }\n        <ColorLegend \n          colorPalette={colors} \n          colorScaleType={colorScaleType} \n          colorVariable={colorVariable}\n          colorLabels={colorLabels}\n        />\n      </div>\n      \n    </div>\n  )\n})\n\nexport default VisBlock;","import VisBlock from './VisBlock';\n\nexport default VisBlock;","import React, {useContext, useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {v4 as genId} from 'uuid';\nimport {VisualizationControlContext, PresentationContext} from '../../contexts'\nimport {buildGraphCode} from '../../helpers/misc';\n\nimport VisBlock from '../VisBlock';\n\n\nconst GraphBlock = (inputProps) => {\n  const ref = useRef(null);\n\n  const {\n    onVisualizationUpdate, \n    focusedVisualizationId, \n    onRegisterVisualization,\n    onUnregisterVisualization,\n    setFocusedVisualizationId,\n    visualizationParams\n  } = useContext(VisualizationControlContext);\n  const {\n    presentationMode\n  } = useContext(PresentationContext);\n  const [id, setId] = useState(null);\n  const [copied, setCopied] = useState(false);\n\n  const handleVisualizationUpdate = () => {\n    onVisualizationUpdate(inputProps);\n  }\n  \n\n  useEffect(() => {\n    const newId = genId();\n    setTimeout(() => {\n      let payload = {...inputProps};\n      if (presentationMode) {\n        payload = {\n          ...payload,\n          visType: 'networkGraph',\n          ref,\n          id: newId\n        }\n      }\n      onRegisterVisualization(newId, {...payload})\n    })\n    setId(newId);\n    return onUnregisterVisualization(id);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [/*id, inputProps, onRegisterVisualization, onUnregisterVisualization*/])\n\n  const isFocused = focusedVisualizationId === id;\n\n  const handleClick = () => {\n    onVisualizationUpdate(inputProps);\n    setTimeout(() => setFocusedVisualizationId(id));\n  }\n\n  const props = isFocused ? visualizationParams : inputProps;\n\n  const handleCopy = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigator.clipboard.writeText(buildGraphCode(props));\n    setCopied(true);\n    setTimeout(() => setCopied(false), 1000);\n  }\n  return presentationMode ? (\n    <VisBlock  ref={ref} {...props} id={id}  />\n  )\n  : (\n    <div id={id} ref={ref} onClick={handleClick} className={cx(\"VisualizationBlock GraphBlock\", {'is-focused': isFocused})}>\n      {\n        props.title ?\n        <h2 className=\"block-title\">{props.title}</h2>\n        : null\n      }\n      <pre>\n        <code>\n          {buildGraphCode(props)}\n        </code>\n      </pre>\n      <div className=\"buttons-container\">\n        <button onClick={handleVisualizationUpdate}>\n          Rinitialiser sur les paramtres du fichier\n        </button>\n        <button onClick={handleCopy}>\n        {copied ? 'Copi dans le presse-papier !' : 'Copier le code actuel'}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default GraphBlock;","import GraphBlock from './GraphBlock';\n\nexport default GraphBlock;"],"sourceRoot":""}