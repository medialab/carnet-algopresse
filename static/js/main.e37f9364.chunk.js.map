{"version":3,"sources":["components/GraphBlock/GraphBlock.js","components/GraphBlock/index.js","helpers/misc.js","contexts.js","contents/fr/footer.mdx","contents/en/footer.mdx","contents/fr/chapo.mdx","contents/en/headline.mdx","contents/fr/00_home.mdx","contents/fr/01_couverture_media.mdx","contents/fr/02_detectcritic.mdx","contents/fr/03_graphclusters.mdx","contents/fr/04_timelineclusters.mdx","contents/fr/05_toporobotalgo.mdx","contents/fr/06_explore_entities.mdx","contents/fr/07_IssueVERB.mdx","contents/fr/08_NERdate.mdx","contents/en/00_home.mdx","contents/en/01_couverture_media.mdx","contents/en/02_detectcritic.mdx","contents/en/03_graphclusters.mdx","contents/en/04_timelineclusters.mdx","contents/en/05_toporobotalgo.mdx","contents/en/06_explore_entities.mdx","contents/en/07_IssueVERB.mdx","contents/en/08_NERdate.mdx","components/IceCreamBlock/IceCreamBlock.js","components/IceCreamBlock/index.js","components/LinearGraphBlock/LinearGraphBlock.js","components/LinearGraphBlock/index.js","../ /^/.//.*$/ groupOptions: {} namespace object","components/Loader/index.js","components/Loader/Loader.js","components/DataLoader/index.js","components/DataLoader/DataLoader.js","components/Nav/index.js","components/Nav/Nav.js","contents/fr/metadata.js","contents/en/metadata.js","components/GraphAnnotation/hooks.js","components/ControlButton/index.js","components/ControlButton/ControlButton.js","components/FiltersEditor/index.js","components/FiltersEditor/FiltersEditor.js","components/VariablesEditor/index.js","components/VariablesEditor/VariablesEditor.js","components/ColorLegend/ColorLegend.js","components/ColorLegend/index.js","components/GraphAnnotation/GraphControls.js","components/GraphAnnotation/reducers.js","helpers/palettes.js","components/DebouncedInput/index.js","components/DebouncedInput/DebouncedInput.js","components/GraphAnnotation/GraphContainer.js","components/Header/Header.js","components/Header/index.js","components/Footer/index.js","components/Footer/Footer.js","components/LinearGraphAnnotation/LinearGraphControls.js","components/LinearGraphAnnotation/LinearGraphContainer.js","components/IceCreamAnnotation/IceCreamControls.js","components/IceCreamAnnotation/IceCreamContainer.js","components/VisualizationController/VisualizationController.js","components/VisualizationController/index.js","components/FooterNav/index.js","components/FooterNav/FooterNav.js","components/GraphAnnotation/GraphAnnotation.js","components/GraphAnnotation/index.js","components/IceCreamAnnotation/index.js","components/IceCreamAnnotation/IceCreamAnnotation.js","components/LinearGraphAnnotation/index.js","components/LinearGraphAnnotation/LinearGraphAnnotation.js","components/PlainPage/index.js","components/PlainPage/PlainPage.js","summary.js","components/PresentationWrapper/PresentationWrapper.js","components/PresentationWrapper/index.js","App.js","reportWebVitals.js","index.js","components/VisBlock/VisBlock.js","components/VisBlock/index.js"],"names":["GraphBlock","inputProps","ref","useRef","useContext","VisualizationControlContext","onVisualizationUpdate","focusedVisualizationId","onRegisterVisualization","onUnregisterVisualization","setFocusedVisualizationId","visualizationParams","presentationMode","PresentationContext","useState","id","setId","copied","setCopied","useEffect","newId","genId","setTimeout","payload","visType","isFocused","props","VisBlock","onClick","className","cx","title","buildGraphCode","e","preventDefault","stopPropagation","navigator","clipboard","writeText","buildComponentCode","componentName","Object","entries","filter","val","undefined","Array","isArray","length","map","key","JSON","stringify","serializeValue","join","trim","buildIceCreamScatterPlotCode","buildLinearGraphCode","computeFiltersOptions","type","args","computeTableOptions","computeGraphFiltersOptions","data","columns","reduce","res","options","uniq","d","find","o","isNaN","Number","isInteger","includes","min","max","graph","gexfData","attrs","DOMParser","parseFromString","querySelectorAll","categories","FORBIDDEN_ATTRS","forEach","attr","getAttribute","push","Set","forEachNode","_node","cat","has","add","evalIfNodeMatches","attributes","filters","filtersModeAnd","attribute","value","cartesianToPolar","x","y","distance","Math","sqrt","radians","atan2","degrees","PI","radiansToDegrees","polarToCartesian","degreesToRadians","cos","sin","transformGeometry","rotate","translate","finalDegrees","newX","newY","React","createContext","LanguageContext","readingTime","layoutProps","MDXContent","components","mdxType","target","rel","href","src","alt","parentName","isMDXComponent","tableOfContents","frontMatter","graphType","xVariable","xLabelVariable","yVariable","colorVariable","legend","level","children","colorPalette","normalizeY","ratio","displayAllLabels","nodeColorVariable","nodeLabelVariable","labelDensity","reverseY","sizeVariable","labelVariable","rotateMode","colorScaleType","reverseFlickering","IceCreamBlock","LinearGraphBlock","webpackAsyncContext","req","__webpack_require__","Promise","resolve","then","Error","code","ids","all","slice","keys","module","exports","Loader","percentsLoaded","style","width","DataLoader","url","setData","loadingFraction","setLoadingFraction","axios","get","onDownloadProgress","progressEvent","status","loaded","total","inputData","split","pop","csvParse","tsvParse","Nav","lang","routes","onRouteNav","isDeployed","activeSectionIndex","route","routeIndex","metadata","usePrevious","current","ControlButton","FiltersEditor","onToggleFiltersModeAnd","filtersOptions","onFiltersChange","isOpen","setIsOpen","newFilterAttribute","setNewFilterAttribute","newFilterOptions","option","index","newFilters","f","i","onChange","sort","a","b","VariablesEditor","variables","isNotAllDefault","v","localOptions","activeOptions","getOptions","label","newVal","ColorItemHandler","modality","color","isEdited","setEdited","editedColor","setEditedColor","debouncedOnChange","debounce","background","newColor","hex","ColorLegend","SLIDER_MARKS","DebouncedSlider","defaultValue","setValue","step","newValue","marks","GraphControls","rescale","zoomIn","zoomOut","searchString","onSearchStringChange","nodeSizeVariable","onNodeSizeVariableChange","onNodeColorVariableChange","onNodeLabelVariableChange","onLabelDensityChange","onColorPaletteChange","onDisplayAllLabelsChange","isMinified","setIsMinified","onSubmit","placeholder","DEFAULT_NODE_COLOR","DEFAULT_NODE_SIZE_RANGE","DEFAULT_COLOR_SPACE","cmin","cmax","lmin","lmax","SINGLE_COLOR_PALETTE","generatePalette","name","count","iwanthue","colorSpace","seed","clustering","DebouncedInput","propsValue","propsOnChange","rest","propagateChange","useMemo","handleChange","renderer","getCamera","animatedReset","animatedZoom","animatedUnzoom","GraphContainer","height","extents","onCameraUpdate","cameraPosition","updateTimestamp","onTitleChange","onLegendChange","CELL_HEIGHT_RANGE","CELL_WIDTH_RANGE","cellHeightScale","scaleLinear","domain","range","cellWidthScale","nodeSize","values","from","nodeColor","colors","size","palette","edgesMap","m","Map","_source","_target","sourceAttributes","targetAttributes","edge","_edgeAttributes","set","sourceNode","targetNode","previousNodeColor","previousNodeSize","previousNodeLabelVariable","previousLabelDensity","previousSearchString","previousFilters","previousColorPalette","previousFiltersModeAnd","previousDisplayAllLabels","nodeReducer","nodeLabel","nodeSizeFactor","nodeSizeScale","renderedNode","hidden","createNodeReducer","edgeReducer","el1","el2","renderedEdge","biggerNode","Color","lighten","rgb","string","createEdgeReducer","container","setRenderer","animate","needToRefresh","settings","actualLabelDensity","cellWidth","cellHeight","labelGrid","cell","displayedLabels","highlightedNodes","displayedLabel","highlightNode","unhighlightNode","toLowerCase","refresh","setContainer","useCallback","node","kill","newRenderer","WebGLRenderer","labelSize","labelFont","camera","getState","on","state","bind","GraphContainerWithDimensions","dimensions","GraphWrapper","setCameraPosition","gexf","parse","Graph","sizes","sizeExtent","extent","pos","LanguageToggler","to","Header","isVisible","graphData","onScrollToTop","onScrollToFirstSection","meta","frMetadata","enMetadata","description","creators","generalAuthor","publicationDate","Helmet","charSet","content","schema","group","people","total2","homepage","itemProp","property","role","person","onScroll","preventScroll","Footer","LinearGraphControls","useRelativeScale","onToggleUseRelativeScale","onGraphTypeChange","onXVariableChange","onXLabelVariableChange","onYVariableChange","onColorVariableChange","onNormalizeYChange","LinearGraphContainer","getX","getY","reverseX","inputColorPalette","onSizeVariableChange","onLabelVariableChange","onToggleReverseX","onToggleReverseY","WIDTH","HEIGHT","MARGIN","xRange","yRange","xLabelMap","dict","datum","dataGroups","_id","ys","sum","filteredY","xValue","xMap","res2","transformedValue","xValues","yPropToFilter","xExtent","nice","uniqBy","item","filtersAffectingColor","colorValue","newValues","highlightedIndex","getYHisto","getColor","reverse","prev","yDisplace","sumFiltered","maxStacked","transform","ticks","tick","textAnchor","x1","y1","x2","y2","stroke","strokeDasharray","firstX","firstY","path","fill","cy","r","index2","LinearGraphContainerWithDimensions","IceCreamControls","labelsOnTheSide","onToggleRotateMode","onToggleLabelsOnTheSide","onColorScaleTypeChange","onReverseFlickeringChange","IceCreamContainer","zoomedIndex","setZoomedIndex","enableZoom","setEnableZoom","updateActive","existing","found","smallestDimension","parseInt","MIN_AREA","MAX_AREA","continuousColorScale","getSize","colorRange","rotateTransform","transf","point1X","point1Y","point2X","point2Y","point3X","point3Y","point4X","point4Y","points","onMouseEnter","onMouseLeave","radius","xForXAxis","yForXAxis","xForYAxis","yForYAxis","labelX","labelY","pointerStartCoords","opacity","isMatching","isZoomed","fontSize","IceCreamContainerWithDimensions","buildImprint","VisualizationController","activeImprint","datasets","visualizations","activeVisualization","firstInstanceOfEachVisualization","groupBy","imprint","firstInstance","renderVisualization","vis","defaultVisualization","FooterNav","prevPage","nextPage","messages","next","fr","en","GraphAnnotation","Content","contentsURL","helpVisible","setHelpVisible","setSearchString","setFiltersModeAnd","Date","getTime","setUpdateTimeStamp","setFilters","setNodeColorVariable","setColorPalette","setNodeSizeVariable","setNodeLabelVariable","setLabelDensity","setTitle","setLegend","setDisplayAllLabels","hasLoadedFirstVis","setHasLoadedFirstVis","registeredVisualizations","setRegisteredVisualizations","newSearchString","newFiltersModeAnd","newNodeColorVariable","newColorPalette","newTitle","newLegend","newDisplayAllLabels","thatId","Provider","copyOfRegistered","fallback","str","IceCreamAnnotation","setXVariable","setYVariable","setReverseX","setReverseY","setSizeVariable","setColorVariable","setLabelVariable","setLabelsOnTheSide","setColorScaleType","setReverseFlickering","setRotateMode","thatXVariable","thatYVariable","thatReverseX","thatReverseY","thatSizeVariable","thatColorVariable","thatLabelVariable","thatLabelsOnTheSide","thatColorScaleType","thatRotateMode","thatSearchString","thatColorPalette","theseFilters","theseFiltersModeAnd","thisTitle","thisLegend","thatReverseFlickering","LinearGraphAnnotation","setXLabelVariable","setGraphType","setUseRelativeScale","setNormalizeY","thatXLabelVariable","thatGraphType","thatUseRelativeScale","thatNormalizeY","finalPalette","PlainPage","contents","contentsCompiled","Component","buildRouteId","_index","encodeURIComponent","Sections","setVisualizations","sectionsRef","params","finalParams","sectionIndex","omit","PresentationWrapper","match","sectionId","visualizationIndex","createRef","setActiveVisualization","activeVisualizationIndex","setActiveVisualizationIndex","activeSection","setActiveSection","setActiveSectionIndex","setDatasets","history","useHistory","inHeader","setInHeader","inFooter","setInFooter","useReducer","newState","scrollRef","scrollY","useScrollYPosition","newSection","newSectionIndex","relevantVisualization","relevantVisualizations","t","visY","getBoundingClientRect","document","body","top","window","scrollTo","left","innerHeight","el","sectionY","pathname","cur","reject","process","globalFraction","loadedData","catch","newDatasets","console","log","newActiveRouteIndex","newActiveVisualizationIndex","newActiveRoute","newActiveVisualization","DISPLACE_Y","initialSectionY","handleRouteNav","behavior","onBlockClick","LANGUAGES","App","setLang","renderRoute","ThatComponent","onLangChange","ln","otherLang","pathOtherLang","location","routeItem","component","inputRoute","lazy","repository","PresentationContainer","exact","Wrapper","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","filterColorPalette","forwardRef"],"mappings":"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","file":"static/js/main.e37f9364.chunk.js","sourcesContent":["import React, {useContext, useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {v4 as genId} from 'uuid';\nimport {VisualizationControlContext, PresentationContext} from '../../contexts'\nimport {buildGraphCode} from '../../helpers/misc';\n\nimport VisBlock from '../VisBlock';\n\n\nconst GraphBlock = (inputProps) => {\n  const ref = useRef(null);\n\n  const {\n    onVisualizationUpdate, \n    focusedVisualizationId, \n    onRegisterVisualization,\n    onUnregisterVisualization,\n    setFocusedVisualizationId,\n    visualizationParams\n  } = useContext(VisualizationControlContext);\n  const {\n    presentationMode\n  } = useContext(PresentationContext);\n  const [id, setId] = useState(null);\n  const [copied, setCopied] = useState(false);\n\n  const handleVisualizationUpdate = () => {\n    onVisualizationUpdate(inputProps);\n  }\n  \n\n  useEffect(() => {\n    const newId = genId();\n    setTimeout(() => {\n      let payload = {...inputProps};\n      if (presentationMode) {\n        payload = {\n          ...payload,\n          visType: 'networkGraph',\n          ref,\n          id: newId\n        }\n      }\n      onRegisterVisualization(newId, {...payload})\n    })\n    setId(newId);\n    return onUnregisterVisualization(id);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [/*id, inputProps, onRegisterVisualization, onUnregisterVisualization*/])\n\n  const isFocused = focusedVisualizationId === id;\n\n  const handleClick = () => {\n    onVisualizationUpdate(inputProps);\n    setTimeout(() => setFocusedVisualizationId(id));\n  }\n\n  const props = isFocused ? visualizationParams : inputProps;\n\n  const handleCopy = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigator.clipboard.writeText(buildGraphCode(props));\n    setCopied(true);\n    setTimeout(() => setCopied(false), 1000);\n  }\n  return presentationMode ? (\n    <VisBlock  ref={ref} {...props} id={id}  />\n  )\n  : (\n    <div id={id} ref={ref} onClick={handleClick} className={cx(\"VisualizationBlock GraphBlock\", {'is-focused': isFocused})}>\n      {\n        props.title ?\n        <h2 className=\"block-title\">{props.title}</h2>\n        : null\n      }\n      <pre>\n        <code>\n          {buildGraphCode(props)}\n        </code>\n      </pre>\n      <div className=\"buttons-container\">\n        <button onClick={handleVisualizationUpdate}>\n          Rinitialiser sur les paramtres du fichier\n        </button>\n        <button onClick={handleCopy}>\n        {copied ? 'Copi dans le presse-papier !' : 'Copier le code actuel'}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default GraphBlock;","import GraphBlock from './GraphBlock';\n\nexport default GraphBlock;","import { uniq } from \"lodash\";\nimport { min, max } from 'd3-array';\n\nconst serializeValue = val => {\n  if (typeof val === 'string')\n    return `'${val}'`;\n  else if (typeof val === 'object')\n    return JSON.stringify(val);\n  else return val;\n}\n\nconst buildComponentCode = (componentName, props) => `<${componentName} \n  ${Object.entries(props)\n    .filter(([_key, val]) => {\n      return !(val === undefined || val === false || val === '' || (Array.isArray(val) && !val.length))\n    })\n    .map(([key, val]) => `${key}={${serializeValue(val)}}`)\n    .join(' \\n  ')\n    .trim()\n  }\n/>`\n\nexport const buildGraphCode = props => buildComponentCode('GraphBlock', props)\n\nexport const buildIceCreamScatterPlotCode = props => buildComponentCode('IceCreamBlock', props)\nexport const buildLinearGraphCode = props => buildComponentCode('LinearGraphBlock', props)\n\nexport const computeFiltersOptions = (type, ...args) => {\n  switch (type) {\n    case 'table':\n      return computeTableOptions(...args);\n    case 'graph':\n    default:\n      return computeGraphFiltersOptions(...args);\n  }\n}\n\nconst computeTableOptions = data => {\n  return data.columns.reduce((res, key) => {\n    const options = uniq(data.map(d => d[key]))\n    let type = 'string';\n\n    // if number\n    if (!options.find(o => isNaN(+o))) {\n      if (!options.find(o => !Number.isInteger(+o))) {\n        type = 'integer';\n      } else {\n        type = 'float'\n      }\n    }\n    const props = {\n      id: key,\n      title: key,\n      type,\n      options\n    }\n    if (['float', 'integer'].includes(type)) {\n      props.options = props.options.map(o => +o);\n      props.min = min(props.options);\n      props.max = max(props.options);\n    }\n    return {\n      ...res,\n      [key]: props\n    }\n  }, {})\n}\nexport const computeGraphFiltersOptions = (graph, gexfData) => {\n  const domparser = new DOMParser()\n  const doc = domparser.parseFromString(gexfData, 'application/xml')\n  const attrs = doc.querySelectorAll('attributes.node attribute');\n  const categories = [];\n\n  const FORBIDDEN_ATTRS = ['weight'];\n\n  attrs.forEach(attr => {\n    const id = attr.getAttribute('id');\n    if (FORBIDDEN_ATTRS.includes(id)) return;\n\n    const title = attr.getAttribute('title');\n    const type = attr.getAttribute('type');\n    categories.push({\n      id,\n      title,\n      type,\n      options: new Set()\n    })\n  })\n  graph.forEachNode((_node, props) => {\n    categories.forEach(cat => {\n      if (!cat.options.has(props[cat.id]))\n        cat.options.add(props[cat.id])\n    })\n  })\n  return categories.reduce((res, cat) => ({ ...res, [cat.id]: cat }), {});\n}\n\nexport const evalIfNodeMatches = (attributes, filters, filtersModeAnd) => {\n  if (!filters.length) {\n    return true;\n  }\n  if (filtersModeAnd) {\n    const oneFilterDoesNotMatch = filters.find(({ attribute, value }) => attributes[attribute] !== '' + value) !== undefined;\n    return !oneFilterDoesNotMatch;\n  } else {\n    const oneFilterMatches = filters.find(({ attribute, value }) => attributes[attribute] === '' + value) !== undefined;\n    return oneFilterMatches;\n  }\n}\n\nconst radiansToDegrees = radians => radians * (180 / Math.PI);\nexport const degreesToRadians = degrees => degrees * (Math.PI / 180);\n\nexport const cartesianToPolar = (x, y) => {\n  const distance = Math.sqrt(x * x + y * y);\n  const radians = Math.atan2(y, x);\n  const degrees = radiansToDegrees(radians);\n  return { distance, radians, degrees }\n}\n\nexport const polarToCartesian = (distance, degrees) => {\n  const radians = degreesToRadians(degrees);\n  return {\n    x: distance * Math.cos(radians),\n    y: distance * Math.sin(radians)\n  }\n}\n\nexport const transformGeometry = ({ x, y }, { rotate, translate }) => {\n  const { degrees, distance } = cartesianToPolar(x, y);\n  let finalDegrees = degrees;\n  if (rotate) {\n    finalDegrees += rotate;\n  }\n  let { x: newX, y: newY } = polarToCartesian(distance, finalDegrees);\n  if (translate) {\n    if (translate.x) {\n      newX += translate.x;\n    }\n    if (translate.y) {\n      newY += translate.y;\n    }\n  }\n  return { x: newX, y: newY }\n}\n\nexport function parseQuery(queryString) {\n  const pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n  return pairs.filter((k) => k.length)\n  .reduce((res, input) => {\n    const pair = input.split('=');\n    return {\n      ...res,\n      [decodeURIComponent(pair[0])]: decodeURIComponent(pair[1] || '')\n    };\n  }, {})\n}\n","import React from 'react';\n\nexport const VisualizationControlContext = React.createContext({\n\n})\n\nexport const LanguageContext = React.createContext({\n\n})\n\nexport const PresentationContext = React.createContext({\n\n})","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.69,\"time\":41400,\"words\":138}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <div className=\"column\">\nCes travaux de recherche ont t raliss dans le cadre de la Chaire Good In Tech : repenser linnovation et les technologies comme moteurs dun monde meilleur pour et par lhumain  place sous lgide de la Fondation du Risque en partenariat avec lInstitut Mines-Tlcom et Sciences Po.\n      <div className=\"logos-container\">\n  <a target=\"blank\" rel=\"noopener\" href=\"https://www.goodintech.org/?lng=fr\">\n    <img src=\"https://www.goodintech.org/uploads/1580497528960-Logo.png\" alt=\"logo good in tech\" />\n  </a>\n  <a target=\"blank\" rel=\"noopener\" href=\"https://www.imt.fr/\">\n    <img src=\"https://upload.wikimedia.org/wikipedia/commons/b/b0/IMT_logo_2017.png\" alt=\"logo institut mines tlcom\" />\n  </a>\n  <a target=\"blank\" rel=\"noopener\" href=\"https://www.medialab.sciencespo.fr\">\n    <img src=\"https://medialab.sciencespo.fr/img/cover-twitter.png\" alt=\"logo mdialab\" />\n  </a>\n      </div>\n    </div>\n    <div className=\"column\">\n      <p>{`Projet `}<strong parentName=\"p\">{`Algoglitch - mdialab Sciences Po`}</strong></p>\n      <p>{`Auteurs `}<strong parentName=\"p\">{`Maxime Crpel, Dominique Cardon`}</strong></p>\n      <p>{`Traitement de donnes `}<strong parentName=\"p\">{`Yannis Bouachera, Salom Do, Jean-Philippe Cointet`}</strong></p>\n      <p>{`Visualisation `}<strong parentName=\"p\">{`Donato Ricci, Robin De Mourat`}</strong></p>\n      <p>{`Les contenus de ce site sont partags sous la license `}<a parentName=\"p\" {...{\n          \"href\": \"https://creativecommons.org/licenses/by-nc-sa/4.0/\"\n        }}>{`Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) `}</a></p>\n      <p><strong parentName=\"p\"><a parentName=\"strong\" {...{\n            \"href\": \"https://github.com/medialab/carnet-algopresse\"\n          }}>{`Code source de ce site`}</a></strong></p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.69,\"time\":41400,\"words\":138}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <div className=\"column\">\nCes travaux de recherche ont t raliss dans le cadre de la Chaire Good In Tech : repenser linnovation et les technologies comme moteurs dun monde meilleur pour et par lhumain  place sous lgide de la Fondation du Risque en partenariat avec lInstitut Mines-Tlcom et Sciences Po.\n      <div className=\"logos-container\">\n  <a target=\"blank\" rel=\"noopener\" href=\"https://www.goodintech.org/?lng=fr\">\n    <img src=\"https://www.goodintech.org/uploads/1580497528960-Logo.png\" alt=\"logo good in tech\" />\n  </a>\n  <a target=\"blank\" rel=\"noopener\" href=\"https://www.imt.fr/\">\n    <img src=\"https://upload.wikimedia.org/wikipedia/commons/b/b0/IMT_logo_2017.png\" alt=\"logo institut mines tlcom\" />\n  </a>\n  <a target=\"blank\" rel=\"noopener\" href=\"https://www.medialab.sciencespo.fr\">\n    <img src=\"https://medialab.sciencespo.fr/img/cover-twitter.png\" alt=\"logo mdialab\" />\n  </a>\n      </div>\n    </div>\n    <div className=\"column\">\n      <p>{`Projet `}<strong parentName=\"p\">{`Algoglitch - mdialab Sciences Po`}</strong></p>\n      <p>{`Auteurs `}<strong parentName=\"p\">{`Maxime Crpel, Dominique Cardon`}</strong></p>\n      <p>{`Traitement de donnes `}<strong parentName=\"p\">{`Yannis Bouachera, Salom Do, Jean-Philippe Cointet`}</strong></p>\n      <p>{`Visualisation `}<strong parentName=\"p\">{`Donato Ricci, Robin De Mourat`}</strong></p>\n      <p>{`Les contenus de ce site sont partags sous la license `}<a parentName=\"p\" {...{\n          \"href\": \"https://creativecommons.org/licenses/by-nc-sa/4.0/\"\n        }}>{`Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) `}</a></p>\n      <p><strong parentName=\"p\"><a parentName=\"strong\" {...{\n            \"href\": \"https://github.com/medialab/carnet-algopresse\"\n          }}>{`Code source de ce site`}</a></strong></p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.645,\"time\":38700,\"words\":129}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`Ce site prsente une partie des rsultats de travaux raliss dans le cadre du projet  `}<a parentName=\"p\" {...{\n        \"href\": \"https://medialab.sciencespo.fr/activites/algoglitch/\"\n      }}>{`Algoglitch`}</a>{` au mdialab de Sciences Po. Il articule des analyses descriptives et des visualisations de donnes, portant sur un corpus darticles de presse sur le thme de lIA et des algorithmes couvrant une priode de 5 annes aux tats-Unis et au Royaume-Uni. A partir de mthode de traitement automatique du langage sur un corpus de presse, cette recherche vise  explorer les discours critiques sur lIA dans la sphre mdiatique. `}</p>\n    <p>{`Citer cette recherche : `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Crpel, M., Cardon D. (2021). Criticism and prophecy in media coverage of AI. Annual Meeting of the Society for Social Studies of Science (4S), Toronto, Canada.`}</p>\n    </blockquote>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Crpel, M., Cardon D. (2021). Critique de lIA dans la presse. `}<a parentName=\"p\" {...{\n          \"href\": \"https://medialab.github.io/carnet-algopresse/#/publication/fr/introduction\"\n        }}>{`https://medialab.github.io/carnet-algopresse/#/publication/fr/introduction`}</a></p>\n    </blockquote>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.02,\"time\":1200,\"words\":4}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`Headline here (1 paragraph)`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"3 min read\",\"minutes\":2.275,\"time\":136500,\"words\":455}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`En rendant visible les dbats des experts et des chercheurs autour des enjeux thiques (Jobin et al, 2019,  Mittelstadt, 2019) mais aussi en mdiatisant les controverses qui mergent parfois au sein des communauts dutilisateurs sur les effets ngatifs des technologies de calcul, les mdias contribuent  forger les reprsentations et  dfinir les formes dacceptabilit de lIA dans nos socits. Des travaux ont montr une visibilit croissante du sujet de lIA dans la couverture mdiatique ces dernires annes (Brennen et al, 2018), se concentrant principalement sur les avances technologiques et sur les dveloppements potentiels dans les secteurs du commerce et de lindustrie. Pourtant, les questions thiques et les problmes sociaux, tels que les risques de discrimination, les biais, la vie prive sont des thmatiques galement prsentes au sein de la sphre mdiatique bien que sous-reprsentes.`}</p>\n    <p>{`Notre recherche vise  explorer les discours critiques sur lIA dans la sphre mdiatique : Quelles sont les controverses produites par ces technologies qui sont mdiatises dans la presse ? De quoi est constitu le discours mdiatique critique sur ces technologies ? Quels types dagents techniques et humains sont impliqus dans ces controverses ? Quels troubles sont-ils accuss de produire dans la socit ?`}</p>\n    <p>{`A partir de mthode de traitement automatique du langage sur un corpus de presse, nous montrons que le thme de lIA occupe un espace de plus en plus important dans la presse depuis 5 ans et que deux rgimes de critique cohabitent au sein de lespace mdiatique, lun fond sur les injustices produites par les algorithmes et lautre portant sur les peurs de lautonomie de lIA et des robots. `}</p>\n    <p>{`Lespace mdiatique se structure de manire thmatique autour de diffrentes technologies de calcul et domaines dapplications et peut tre divis en deux sous-ensembles smantiques. Lanalyse compare de ces deux espaces smantiques rend compte de deux rgimes de critique dominants, mobilisant une varit dentits techniques et humaines, ainsi que des temporalits et des enjeux diffrents. Dune part, les algorithmes faonnant nos environnements de calcul quotidiens sont associs  un discours critique portant sur les biais, les discriminations, la surveillance et la censure dont des populations spcifiques sont victimes. Dautre part, les robots et lIA, en tant quentits techniques autonomes, incarnes et indpendantes, sont associs  un discours prophtique, alertant sur notre capacit  contrler ces agents simulant ou dpassant nos capacits physiques et cognitives, mettant ainsi en pril notre scurit physique, notre modle conomique et menaant ainsi lhumanit tout entire.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Ces travaux de recherche ont t raliss dans le cadre de la Chaire Good In Tech : repenser linnovation et les technologies comme moteurs dun monde meilleur pour et par lhumain  place sous lgide de la Fondation du Risque en partenariat avec lInstitut Mines-Tlcom et Sciences Po`}</p>\n    </blockquote>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  \n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.18,\"time\":190800,\"words\":636}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"quelle-est-la-couverture-mdiatique-de-lia-\"\n    }}>{`Quelle est la couverture mdiatique de lIA ?`}</h2>\n    <p>{`Notre recherche a consist  extraire un large corpus de 29 342 darticles de presse portant sur  lIA et les algorithmes sur une priode de 5 annes, ralise sur lagrgateur de presse Factiva sur un ensemble de 47 sources de presse gnraliste aux tats unis et au Royaume Uni (27 sources pour USA et 20 sources pour UK).`}</p>\n    <LinearGraphBlock graphType={'histogram'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'default'} title={'Distribution du nombre  d\\'articles sur la requte IA (2015-2019)'} legend={'nombre d\\'articles par mois'} mdxType=\"LinearGraphBlock\" />\n    <p>{`Aujourdhui, le terme dIA est largement utilis pour dsigner des dispositifs de calcul allant de simples algorithmes  des systmes plus complexes bass sur du des technologies de deep learning. Afin de donner une dfinition large et oprationnelle de lIA nous dfinissons ce terme comme un agent de calcul, en considrant toutes les techniques qui, par le biais dun calcul automatis, produisent un rsultat  partir de nimporte quel type de donnes. Cette dfinition large nous permet de comprendre comment les acteurs eux-mmes dfinissent ces technologies et les relient  une pluralit dactivits et dentits socio-techniques sans juger (Seaver, 2017)`}</p>\n    <p>{`La distribution temporelle des donnes fait apparatre une augmentation du volume darticles portant sur lIA - telle que dfinie par notre requte (voir section mthode) - sur la priode dobservation. Cette augmentation atteste de la place de plus en plus importante du thme des algorithmes et de lIA dans lespace mdiatique ces dernires annes. Afin de contrler cette augmentation au sein de notre corpus, nous avons compar avec dautres requtes effectues sur la mme priode et des sources identiques, pour lesquelles on attend une distribution stable. Lobservation du volume darticles extraits  partir de notre requte montre une augmentation significative de 163% entre 2015 et 2019 des publications portant sur lIA et les algorithmes alors que les articles consacrs  lart (-9%), la culture (+2%), lconomie (+0%) ou la technologie (+14%) restent relativement stables. `}</p>\n    <p>{`Ce constat dune augmentation de la visibilit croissante du thme de lIA a t observ dans dautres travaux  partir danalyses statistiques portants sur diffrentes sources informationnelles (Perrault et al, 2019). Tout dabord dans presse anglophone,  lchelle mondiale,  partir danalyses statistiques produites par le projet GDELT, on observe une croissance du thme de lIA et des termes associs tels que Deep learning, Machine Learning entre 2017 et 2019. Cette augmentation de la prsence du terme de lIA est aussi largement visible  partir des statistiques de requtes effectues sur le moteur de recherche Google aux USA et analysables via le service Google trends sur la priode allant de 2015  2019. Enfin, le mme constat est galement fait dune augmentation entre 2017 et 2019 de la frquence dapparition des termes AI et Machine Learning dans diffrents corpus de documents issus par exemple dorganisations gouvernementales aux USA, au Canada, et au Royaume Uni, mais galement dans les appels de fonds des entreprises amricaines.`}</p>\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-extraction-de-corpus\">Mthode : Extraction de corpus</h2>\n      <p><strong>Requte utilise sur Factiva</strong> : &quot;artificial intelligence&quot; OR &quot;AI&quot; OR &quot;algorithm<em>&quot; OR &quot;machine learning&quot; OR &quot;deep learning&quot; OR &quot;neural network</em>&quot; -&quot;amnesty international&quot; -&quot;weiwei&quot; -&quot;air india&quot; \n        <strong>Priode d&#39;extraction</strong> : du 01/01/2015 au 31/12/2019 \n        <strong>Volume d&#39;articles extraits</strong> : 29 342 articles</p>\n      <p><strong>Sources UK (n=20)</strong> : Daily Mail, Daily Record, Daily star, Economist, Evening Standard, Evening Times, Express, Guardian, Independent, Mail online, Morning Star, Observer, Sunday Mall, Telegraph, The Mirror, The Sunday Mirror, The Sun, The Sunday Times, The Times, Which</p>\n      <p><strong>Sources USA (n=27)</strong> : ABCNEWS, Barron&#39;s, Business Insider, CBS News, Chicago Tribune, CNN, Dailynews, Forbes, Fox News , Los Angeles Times, MSNBC News, New York Newsday, New York Post, New York Times, Newsweek, Politico, Rochester Democrat Chronicle, Slate, The Huffington Post, The Verge, Time Magazine, USA Today, Vice News, Wall Street Journal Online, Wall Street Journal, Washington Post, Washington Times</p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"quelle-est-la-couverture-mdiatique-de-lia-\",\n    level: 2,\n    title: \"Quelle est la couverture mdiatique de lIA ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.72,\"time\":223200,\"words\":744}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-dtecter-le-discours-critique-dans-les-mdias-\"\n    }}>{`Comment dtecter le discours critique dans les mdias ?`}</h2>\n    <p>{`En sappuyant sur des outils dannotations par apprentissage supervis, un sous corpus darticles produisant un discours critique des algorithmes et de lIA a t constitu. `}</p>\n    <p>{`Dans un premier temps,  partir de lannotation manuelle de 2000 titres darticles de presse jugs critiques, nous avons construit un modle dapprentissage automatique. Ensuite, en ralisant plusieurs itrations incluant des phases de contrle des rsultats afin doptimiser le modle de dtection des articles critiques, le modle a t optimis progressivement (voir section mthode). Tous les titres darticles comportant des arguments ou lments smantiques ngatifs portant explicitement sur une forme de calculateur (algorithme, IA, robot, etc.) ont t annots comme critiques.  linverse ont t annots comme non critiques ou ignors les titres darticles aux noncs neutres, positifs, ambigus ou nvoquant pas directement un calculateur. Par exemple les titres Robocops to replace british bobbies on the streets, police force reveals ou Growth of ai could boost cybercrime and security threats , report warns  ont t annots comme critiques, alors que AI to create more than 7m jobs ou Google so advanced stores will pack your products before youve thought of ordering them ont t annots non critiques. `}</p>\n    <LinearGraphBlock graphType={'histogram'} xVariable={'index'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'type'} colorPalette={{\n      \"not critic\": \"#c5c9c9\",\n      \"critic\": \"#e60c26\"\n    }} filtersModeAnd={true} title={'Distribution du taux d\\'articles critiques et non critiques (2015-2019) '} legend={'Frquence en % des articles critiques et non critiques dtects par le modle valids manuellement'} normalizeY={true} mdxType=\"LinearGraphBlock\" />\n    <p>{`tant donn le travail de sourcing manuel du corpus de dpart et lusage de mthode dannotation par apprentissage supervis, ce corpus ne prtend pas  une quelconque exhaustivit ou reprsentativit. Notre dmarche permet en revanche dapprhender avec la plus large diversit possible les thmes associs  la critique de lIA et des algorithmes. `}</p>\n    <p>{`A partir de ce protocole de catgorisation, un sous corpus de 2 091 articles de presse catgoriss comme critiques a t constitu. Le taux darticles annots comme critiques est de 7,1% en moyenne sur lensemble du corpus et prsente une assez forte stabilit durant la priode observe (cart type de +/- 2,2%). Des travaux portant sur lanalyse de la couverture mdiatique du thme de lIA en Grande Bretagne ont montr quune trs large majorit des publications portaient sur les avances technologiques et les dveloppements dans le secteur conomique, les questions thiques associes au dploiement de ces technologies sont sous reprsents dans la presse (Brennen et al, 2018). `}</p>\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-d-tection-du-discours-critique-par-apprentissage-supervis-\">Mthode : Dtection du discours critique par apprentissage supervis</h2>\n  <p><strong>Modle utilis pour la dtection du discours critique :</strong> FastText - <a href=\"https://fasttext.cc\">https://fasttext.cc</a></p>\n  <p><strong>Corpus d&#39;apprentissage :</strong> 2000 articles annots manuellement via prodigy - <a href=\"https://prodi.gy\">https://prodi.gy</a></p>\n  <p><strong>Rgles de codage des articles :</strong> </p>\n  <ul>\n  <li>Critique : noncs critiques ou rponse  une critique  (champ smantique ou arguments critiques), vocation dun calculateur ( algorithme, IA, robot, etc.). Exemple :  Robots put jobs at risk , \n   Robot lawyers: how humans can fight back </li>\n  <li>Non critique : noncs neutres ou positifs, pas dvocation dun calculateur. Exemple :  AI to &#39;create more than 7m jobs , \n   In the 2020s, artificial intelligence will transform the work of lawyers </li>\n  <li>Ignore : noncs ambigus, pas dvocation dun calculateur. Exemple :  Restaurants are now employing robots  should chefs be worried? ,  Need a lawyer? There&#39;s an algorithm for that </li>\n  </ul>\n  <p><strong>Comparaison des modles de dtection de la critique :</strong> \n  Afin de sassurer de la varit et de la prcision des articles diffrents modles dannotation ont t compars et amliors par itrations successives et un contrle manuel systmatique des rsultats produits par ces modles ont t effectus. C&#39;est finalement le modle FastText qui a produit la dtection la plus prcise des articles critiques</p>\n  <p><strong>Rsultats du modle FasText de dtection de la critique : </strong> \n <ul>\n <li>Precision : 0,94</li>\n <li>Recall : 0,79</li>\n <li>F1-score : 0,86</li>\n </ul>\n    \n  Cette approche mthodologique a permis de traiter une large base de donnes qui aurait t difficilement catgorisable manuellement. En revanche, les outils mobiliss de catgorisation automatique par apprentissage supervis comportent un risque potentiel de ne pas dtecter certains articles critiques dans le corpus. Pourtant, les itrations successives rduisent ce biais car les rsultats obtenus  chaque itration montrent un puisement des capacits du modle  dtecter de nouveaux articles critiques. Par ailleurs, des oprations de contrle manuel systmatique de lensemble des rsultats produits par lalgorithme ont permis de sassurer que le sous corpus darticles catgoriss comme critiques ne contenait pas de faux positifs. </p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-dtecter-le-discours-critique-dans-les-mdias-\",\n    level: 2,\n    title: \"Comment dtecter le discours critique dans les mdias ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"9 min read\",\"minutes\":8.27,\"time\":496200,\"words\":1654}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"quels-sont-les-thmes-sur-lesquels-porte-la-critique-\"\n    }}>{`Quels sont les thmes sur lesquels porte la critique ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'2991 noeuds, 54062 liens de cooccurrences, couleurs relatives aux clusters, taille des relative frquence des termes dans le corpus '} mdxType=\"GraphBlock\" />\n    <p>{`A partir dune extraction des termes les plus reprsents au sein du contenu des 2 091articles annots comme critiques, on produit un rseau smantique constitu de 2 991 termes (ou suites de termes) relis entre eux par 54 062 liens de cooccurrences. La spatialisation est base sur une variante de lalgorithme Fruchterman Reingold. La position des nuds est optimise par leur appartenance aux clusters dtects automatiquement par lalgorithme de Louvain. La couleur des nuds est relative  chacun des clusters ainsi dtects et leur taille est relative  leur frquence dans le corpus. `}</p>\n    <p>{` partir des termes les plus reprsents au sein de chacun des clusters on peut interprter et nommer les thmes qui structurent lespace smantique de ce corpus darticles critiques de lIA et des algorithmes. La cartographie est constitue de 23 clusters thmatiques de tailles varies qui reprsentent des types de calculateurs ou des domaines dapplication diffrents. Chaque terme est associ  un unique cluster, mme sil peut entretenir des liens de cooccurrence avec dautres termes appartenant  des clusters diffrents. De la mme manire,  chaque article du corpus, en fonction des termes quil contient, lui est associ un cluster. Une premire lecture du rseau consiste  dcrire les thmes les plus prsents au sein du corpus en nombre darticles et den proposer une illustration succincte  partir dexemples de titres prototypiques qui leurs sont associs.`}</p>\n    <p>{`Les deux plus importants clusters du graphe en nombre darticles forment deux ples opposs. `}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Web_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Future_of_AI\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={0.25} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtrage de clusters sur le rseau smantique du contenu des articles critiques sur lIA'} legend={'Clusters Future_of_AI, Web_Algorithms'} mdxType=\"GraphBlock\" />\n    <p>{`Le plus important nomm `}<strong parentName=\"p\">{`Web Algorithms\"`}</strong>{`, reprsentant 22% des articles du corpus critique, comporte des articles qui traitent des troubles produits par les algorithmes du web tels que les techniques de classement du newsfeed de Facebook (`}<em parentName=\"p\">{`Facebook accused of censoring conservatives, report says`}</em>{` - The Guardian - 10/05/16), les recommandations de vidos sur Youtube (`}<em parentName=\"p\">{`YouTube, the Great Radicalizer`}</em>{` - The New York Times - 11/03/18) ou encore les moteurs de recherche comme Google (`}<em parentName=\"p\">{`Google results claim that the Holocaust didnt happen, and company wont change it`}</em>{` - Independent Online - 15/12/16). `}</p>\n    <p>{` lextrmit oppose du rseau, on trouve le second plus important cluster nomm `}<strong parentName=\"p\">{`Future of AI`}</strong>{` qui reprsente 18% des articles du corpus, voquant les risques de lmergence dintelligences artificielles et de machines autonomes imitant ou surpassant les capacits humaines (`}<em parentName=\"p\">{`AI will create useless class of human, predicts bestselling historian`}</em>{` - The Guardian - 20/05/16) ou menaant lhumanit dextinction (`}<em parentName=\"p\">{`End of Humanity ? Artificial Intelligence could destroy us within decades warns expert`}</em>{` - express.co.uk - 15/04/16).`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Facial_Recognition\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Job_Automation\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Killer_Robots\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={0.25} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtrage de clusters sur le rseau smantique du contenu des articles critiques sur lIA'} legend={'Clusters Job_Automation, Facial_Recognition, Killer_Robots'} mdxType=\"GraphBlock\" />\n    <p>{`Parmi les plus importants clusters, on trouve trois autres thmes largement reprsents dans le corpus. `}</p>\n    <p>{`Le cluster `}<strong parentName=\"p\">{`Job automation`}</strong>{` (14% des articles) contient des articles alertant sur les risques de mutation du march de lemploi face  la robotisation et au dploiement de lIA dans le monde du travail (`}<em parentName=\"p\">{`Robots and AI are threatening close to a third of UK jobs, study reveals`}</em>{` - Independent Online - 24/03/17). `}</p>\n    <p>{`Le cluster `}<strong parentName=\"p\">{`Killer robots`}</strong>{` (11% des articles) est constitu darticles sur les risques du dploiement de lIA et de machines autonomes dans le cadre de conflits arms (`}<em parentName=\"p\">{`Top scientists call for ban on killer robots to prevent apocalyptic war`}</em>{` - dailystar.co.uk - 20/08/17). `}</p>\n    <p>{`Enfin, le cluster `}<strong parentName=\"p\">{`Facial recognition`}</strong>{`, qui reprsente 10% des articles du corpus, porte sur diffrents dveloppements des technologies de reconnaissance faciale dans lespace public, dans des logiciels ou sur les plateformes du Web (`}<em parentName=\"p\">{`China is now using facial recognition cameras to monitor Uighur Muslims across the country, report claims`}</em>{` - Mail Online - 15/04/19). `}</p>\n    <p>{`Lensemble de ces 5 plus grands clusters thmatiques domine largement lespace mdiatique car ces derniers constituent 75,6% du total des articles du corpus critique (1581 articles) et reprsentent 46,4% des termes du rseau smantique (1389 termes).`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Autonomous_Cars\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Voice_Assistant\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Sex_Robots\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Health_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Deepfake\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Predictive_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Chatbot\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Game_&_Education\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Profiling_Algorthms\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtrage de clusters sur le rseau smantique du contenu des articles critiques sur lIA'} legend={'Clusters associs entre 1% et 4% des articles du corpus'} mdxType=\"GraphBlock\" />\n    <p>{`Un second ensemble, bien que trs htrogne du point de vue des thmatiques dployes et de leur position au sein du rseau, est constitu de 9 clusters qui reprsentent respectivement entre 1% et 4% du nombre darticles du corpus. Lensemble de ces thmes reprsente 21,6% des articles du corpus (452 articles) et 38 % des termes du rseau smantique (1136 termes). Dans ce sous-ensemble se trouvent les clusters :`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Voice Assistant`}</strong>{` : `}<em parentName=\"li\">{`Googles Nest microphone intensifies privacy concerns`}</em>{` -  `}<em parentName=\"li\">{`The Washington Post`}</em>{` - 25/02/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Autonomous Cars`}</strong>{` : `}<em parentName=\"li\">{`Self-driving cars will need to be programmed to kill their owners, academics warn, and people will have to choose who will die`}</em>{` - Independent Online - 27/10/15`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Sex Robots`}</strong>{` : `}<em parentName=\"li\">{`Sex robots could lead to population crisis as men opt for virtual girlfriends`}</em>{` - Mirror.co.uk - 27/01/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Health_Algorithms`}</strong>{` : `}<em parentName=\"li\">{`Racial bias in a medical algorithm favors white patients over sicker black patients`}</em>{` - `}<em parentName=\"li\">{`The Washington Post`}</em>{`  - 25/10/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Deepfake`}</strong>{` : `}<em parentName=\"li\">{`You thought fake news was bad? Deep fakes are where truth goes to die`}</em>{` -  `}<em parentName=\"li\">{`The Guardian`}</em>{`  - 2/11/18`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Predictive Algorithms`}</strong>{` : `}<em parentName=\"li\">{`Criminal justice software algorithm used across the US is biased against black inmates, study finds`}</em>{` - Independent Online - 27/06/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Chatbot`}</strong>{` : `}<em parentName=\"li\">{`Microsoft deeply sorry after AI becomes Hitler-loving sex robot`}</em>{` - The Telegraph Online - 26/03/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Game and Education`}</strong>{` : `}<em parentName=\"li\">{`Korean Go master quits the game because AI 'cannot be defeated`}</em>{` - CNN Wire - 28/11/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Profiling Algorithms`}</strong>{` : `}<em parentName=\"li\">{`Artificial intelligence can identify gay faces from a picture, study claims`}</em>{` - Independent Online - 08/09/17`}</li>\n    </ul>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Robo-Advisers\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"DeepDream_Nightmares\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Deep_Voice\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Scientific_Research\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Market_&_Prices\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Image_Search\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Email\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Music\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Consumer_&_Copyright\"\n    }]} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Filtrage de clusters sur le rseau smantique du contenu des articles critiques sur lIA'} legend={'Clusters associs entre 0,1% et 0,8% des articles du corpus'} mdxType=\"GraphBlock\" />\n    <p>{`Enfin, le graphe se compose de 9 autres clusters de taille trs rduite, entre 0,8% et 0,1% des articles pour chaque cluster (58 articles au total). Les termes extraits de ces articles reprsentent pourtant 15,6% (466 termes au total) de la totalit des termes du graphe. Ces thmatiques peuvent sapparenter  des signaux faibles dun discours critique sur les algorithmes et lIA dtects par notre mthode dextraction de termes, pourtant sous reprsents en volume darticles. Ces clusters se centrent autour de thmatiques trs spcifiques, voquant parfois des types de calculateurs mais le plus souvent des domaines dapplication :`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Robot-Advisers`}</strong>{` : `}<em parentName=\"li\">{`Mortgage algorithms found to have racial bias`}</em>{` - The Washington Post - 15/11/18`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`DeepDream Nightmares`}</strong>{` : `}<em parentName=\"li\">{`The AI 'nightmare machine: Spooky Google algorithm transforms famous sights into horror scenes`}</em>{` - Mail Online - 25/10/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Deep Voice`}</strong>{` : `}<em parentName=\"li\">{`Creepy AI can clone anyones voice with just one minute of audio`}</em>{` - Mail Online - 25/04/17`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Scientific Research`}</strong>{` : `}<em parentName=\"li\">{`Facebook shuts down chatbot experiment after AIs spontaneously develop their own language`}</em>{` - London Evening Std Online - 01/08/17`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Market and Prices`}</strong>{` : `}<em parentName=\"li\">{`Artificial Intelligence - Beware Algorithms That Could Collude To Unfairly Raise Prices`}</em>{` - The Wall Street Journal - 02/04/19`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Image Search`}</strong>{` : `}<em parentName=\"li\">{`Three black teenagers: anger as Google image search shows police mugshots`}</em>{` - The Guardian - 10/06/16`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Email`}</strong>{` : `}<em parentName=\"li\">{`Google expands creepy Gmail AI that can automatically reply to emails for you`}</em>{` - Mail Online - 31/08/18`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Music`}</strong>{` : `}<em parentName=\"li\">{`Why random shuffle feels far from random`}</em>{` - Independent Online - 24/02/15`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Consumer and Copyright`}</strong>{` : `}<em parentName=\"li\">{`Apple is forced to change its App Store search algorithm after it emerged its own products were being ranked significantly higher`}</em>{` - Mail Online - 09/09/19`}</li>\n    </ul>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} displayAllLabels={true} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'2991 noeuds, 54062 liens de cooccurrences, couleur relative aux clusters, taille des relative frquence des termes dans le corpus '} mdxType=\"GraphBlock\" />\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-extraction-et-visualisation-du-graphe-de-termes\">Mthode : Extraction et visualisation du graphe de termes</h2>\n      <p><strong>Extraction de termes du corpus : </strong>\nLanalyse smantique du corpus critique a t ralise  partir du logiciel Cortext - <a href=\"https://www.cortext.net\">https://www.cortext.net</a> en effectuant une extraction de termes sur le texte complet des articles (titre, lead paragraph et texte) puis un nettoyage des listes de termes extraites par suppression de stopwords (balises des fichiers vido ou lments de timecode non nettoys dans Factiva). \nLextraction de termes a t ralise  partir de la mthode pigeon holes (favorisant la spcificit des termes et leur occurrence par document) au niveau des phrases. 6000 termes incluant des monogrammes ainsi que les bigrammes et trigrammes ont t extraits. S'il peut paraitre trange que certains termes assez proches ont t conservs, par exemple toutes les variantes de facial recognition, nous avons fait le choix de conserver cette htrognit afin de rendre compte de la diversit des manires de dfinir les agents calculateurs au sein des articles.\n      </p>\n      <p><strong>Spatialisation du rseau smantique et clustering : </strong>\nA partir dune extraction des termes les plus reprsents au sein du contenu des 2 091 articles annots comme critiques, on produit un rseau smantique constitu de 2 991 termes (ou suites de termes) relis entre eux par 54 062 liens de cooccurrences. La spatialisation est base sur une variante de lalgorithme Fruchterman Reingold. La position des nuds est optimise par leur appartenance aux clusters dtects automatiquement par lalgorithme de Louvain. La couleur des nuds est relative  chacun des clusters ainsi dtects et leur taille est relative  leur frquence dans le corpus.</p>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"quels-sont-les-thmes-sur-lesquels-porte-la-critique-\",\n    level: 2,\n    title: \"Quels sont les thmes sur lesquels porte la critique ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"3 min read\",\"minutes\":2.62,\"time\":157200,\"words\":524}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-volue-lagenda-mdiatique-\"\n    }}>{`Comment volue lagenda mdiatique ?`}</h2>\n    <LinearGraphBlock graphType={'linegraph'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'topic'} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} filters={[{\n      \"attribute\": \"topic\",\n      \"value\": \"Web_Algorithms\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Future_of_AI\"\n    }]} title={'Distribution du nombre d\\'articles critiques par clusters (2015-2019)'} legend={'Clusters Web_Algorithms, Future_of_AI'} mdxType=\"LinearGraphBlock\" />\n    <p>{`Lanalyse de la distribution temporelle du nombre darticles des dix plus importants clusters sur la priode de 5 annes que couvre le corpus critique laisse apparatre trois profils distincts. On observe une distribution assez stable sur la priode de la rpartition des articles des deux plus grands clusters structurants de la cartographie que sont les Web Algortihms et Future of AI. La distribution de ces deux plus grands clusters montre quil existe une production rgulire darticles critiques sur les troubles lis aux algorithmes du web et aux craintes relatives aux dveloppements futurs de lintelligence artificielle et des robots. Ces thmes concentrent le plus grand nombre darticles et forment deux ples sur lesquels stablit de faon rcurrente un discours critique. `}</p>\n    <LinearGraphBlock graphType={'linegraph'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'topic'} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} filters={[{\n      \"attribute\": \"topic\",\n      \"value\": \"Deepfake\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Facial_Recognition\"\n    }]} title={'Distribution du nombre d\\'articles critiques par clusters (2015-2019)'} legend={'Clusters Deepfake, Facial_Recognition'} mdxType=\"LinearGraphBlock\" />\n    <p>{`Un second profil de distribution concerne les clusters Facial recognition et Deepfake qui connaissent une hausse importante du volume darticles publis sur lanne 2019.`}</p>\n    <p>{`Enfin le troisime profil de distribution montre une hausse du nombre darticles qui se concentrent sur les annes 2017 et 2018 et une baisse significative sur lanne 2019. Ce type de distribution concerne les clusters Job Automation, Killer Robots, Autonomous Cars, Sex Robots, Voice Assistant, Predictive Algorithms.`}</p>\n    <LinearGraphBlock graphType={'linegraph'} xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'topic'} colorPalette={{\n      \"Future_of_AI\": \"#f17325\",\n      \"Profiling_Algorthms\": \"#2cab57\",\n      \"Job_Automation\": \"#f5253e\",\n      \"Market_&_Prices\": \"#6bc06c\",\n      \"Predictive_Algorithms\": \"#adcd24\",\n      \"Web_Algorithms\": \"#d8dd0d\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#106f88\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#e9c33f\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#32968a\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#19d2d4\",\n      \"Sex_Robots\": \"#e94d6c\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#2ea2b3\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} filters={[{\n      \"attribute\": \"topic\",\n      \"value\": \"Killer_Robots\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Job_Automation\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Voice_Assistant\"\n    }, {\n      \"attribute\": \"topic\",\n      \"value\": \"Sex_Robots\"\n    }]} title={'Distribution du nombre d\\'articles critiques par clusters (2015-2019)'} legend={'Clusters Job_Automation, Killer_Robots, Sex_Robots, Voice_Assistant'} mdxType=\"LinearGraphBlock\" />\n    <p>{`Il est plus difficile dinterprter ces distributions irrgulires tant donn la mthode dannotation du corpus utilise, mais elles semblent montrer la manire dont la presse, en focalisant son attention sur certaines technologies plutt que dautres, constitue un agenda mdiatique sur lequel se dploie galement un discours critique. Afin de vrifier cette hypothse dune distribution concentre sur des priodes spcifiques, focalisant lattention mdiatique sur certaines technologies, indpendamment de la production dun discours critique, nous avons tent dobserver les distributions de certains termes constitutifs de ces clusters au sein du corpus darticles tiquets comme non-critique. Ces distributions montrent une rpartition similaire  celle observe pour les clusters du corpus critique. Ainsi les termes relatifs aux deepkakes connaissent une frquence dapparition croissante au sein des articles non critiques entre 2018 et 2019. La mme distribution est observable galement pour le terme facial recognition qui crot progressivement jusquen 2019. Lensemble des termes associs aux robots sexuels prsents dans le corpus tiquet comme non critique connaissent leur plus forte frquence sur les annes 2017 et 2018 avant de diminuer en 2019, on observe galement le mme phnomne de concentration de la frquence dapparition des termes relatifs aux voitures autonomes sur les annes 2017 et 2018, ou encore pour les termes relatifs aux assistants vocaux dont la plus forte distribution se concentre sur la mme priode. `}</p>\n    <p>{`Cette analyse comparative entre la distribution des articles critiques et non critiques ncessite dtre approfondie mais elle semble renforcer lide dun agenda mdiatique, indpendant de la production dun discours critique, se focalisant sur des technologies qui gagnent en visibilit pendant certaines priodes. `}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-volue-lagenda-mdiatique-\",\n    level: 2,\n    title: \"Comment volue lagenda mdiatique ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"5 min read\",\"minutes\":4.295,\"time\":257700,\"words\":859}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"que-nous-apprend-la-topologie-du-rseau-\"\n    }}>{`Que nous apprend la topologie du rseau ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={1} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'2991 noeuds, 54062 liens de cooccurrences, couleurs relatives aux meta-clusters, taille des relative frquence des termes dans le corpus '} mdxType=\"GraphBlock\" />\n    <p>{`La dispersion des clusters dans lespace topologique laisse apparatre une opposition entre deux principaux types de calculateurs. On observe ainsi un dplacement entre la partie droite du graphe qui comporte des articles mettant en scne des techniques de calcul algorithmique incorpores dans lenvironnement de lutilisateur pour guider, orienter ou calculer ses comportements, vers la partie gauche qui comporte des articles qui se caractrisent par la personnification de lIA dans une entit incarne et autonome  lgard des humains.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={1} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'Filtrage par meta-cluster \"algorithmes\"'} mdxType=\"GraphBlock\" />\n    <p>{`La premire zone  droite concerne exclusivement des algorithmes, quils sagissent des algorithmes du Web comme le fil dactualit de Facebook, la section trending topic de Twitter, les algorithmes de recherche dimages et de sites web de Google. La plupart de ces agents algorithmiques constituent les couches techniques de services dploys dans nos environnements numriques quotidiens. Dautres reprsentent des technologies plus mergentes qui font lobjet de dveloppements et dexprimentations plus localises et rgules tels les algorithmes de police ou de justice prdictive, de dtection des images dans les systmes de reconnaissance faciale ou les deepfakes.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={1} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'Filtrage par meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`Dans la partie la plus  gauche,  loppos du rseau, les clusters se concentrent autour dagents calculateurs qui sont davantage incarns sous forme de machines ou de robots. Les entits qui peuplent cette zone sont personnifies dans des dispositifs physiques spars de nos quipements numriques habituels que sont nos ordinateurs et nos smartphones. Ces dispositifs sont quips dune capacit dagir autonome via de systmes de calcul bass sur lIA. En simulant  la fois le corps et les capacits cognitives des humains, ils sont en mesure de produire certaines actions sans intervention humaine dans diffrents domaines telles que le transport avec les voitures autonomes, la dfense avec les robots tueurs et les drones, le travail avec lautomatisation des tches ou encore les relations physiques avec les robots sexuels.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Intermed\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={1} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\",\n      \"Intermed\": \"#a39f9f\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'Filtrage par meta-cluster \"intermdiaire\"'} mdxType=\"GraphBlock\" />\n    <p>{`Entre ces deux ples, il existe une zone intermdiaire plus difficilement identifiable, constitue de dispositifs  mi-chemin entre les machines autonomes et les algorithmes de nos environnements numriques quotidiens. Parmi les agents calculateurs prsents dans cet espace on retrouve par exemple les assistants vocaux pouvant tre embarqus dans nos smartphone ou dans des dispositifs du type enceinte connectes, les chatbots du Web, les robo-advisors qui sont les algorithmes effectuant des oprations dans le domaine de la finance ou encore des technologies de deep learning comme le dispositif Deep Dream de Google. Ces technologies bien quassez accessibles au grand public sont souvent encore mergentes. Elles ont la capacit de grer un certain nombre de tches parfois basiques de manire autonome mais ne sont pas toujours incarnes dans des dispositifs physiques, elles sont encore le plus souvent implmentes et accessibles via nos ordinateurs et smartphones.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} nodeColorVariable={'algo_robot'} nodeLabelVariable={'cluster_label'} labelDensity={1} displayAllLabels={true} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'Filtrage par meta-cluster'} mdxType=\"GraphBlock\" />\n    <p>{`La tendance du graphe  sparer des dispositifs de calcul aux proprits diffrencies, nous amne  explorer ces dimensions de manire plus approfondie. Afin de raliser une analyse comparative entre les deux ples qui se dgagent de lanalyse topologique, le choix a t fait de dcouper le rseau en deux sous-ensembles comparables en volume darticles, de clusters et de termes. Ainsi, lespace intitul Robots compte 52% des articles du corpus, 9 clusters principaux (de taille suprieure  1%) et 1790 termes. Lespace intitul  Algorithmes  reprsente quant  lui 48% articles, 8 clusters principaux et 1201 termes. Par une approche comparative, ce dcoupage en deux sous-ensembles quivalents permet dexplorer les diffrents attributs qui peuplent ces deux espaces smantiques.`}</p>\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-division-du-graphe-et-du-corpus-selon-la-topologie\">Mthode : Division du graphe et du corpus selon la topologie</h2>\n  <p>Pour faciliter une analyse comparative entre l&#39;espace smantique interprt comme li aux &quot;robots&quot; et l&#39;espace li aux &quot;algorithmes&quot; chaque cluster a t associ  l&#39;une ou l&#39;autre de ces catgories. Les deux sous-ensembles sont comparables en volume darticles, de clusters et de termes. </p>\n  <p>L&#39;espace intitul robots compte : </p>\n  <ul>\n  <li>9 clusters principaux (de taille suprieure  1% du corpus d&#39;articles)</li>\n  <li>52% des articles du corpus (chaque article tant associ  un unique cluster)</li>\n  <li>1790 termes au sein du rseau (chaque terme tant associ  un unique cluster). </li>\n  </ul>\n  <p>Lespace intitul algorithmes compte : </p>\n  <ul>\n  <li>8 clusters principaux (de taille suprieure  1% du corpus d&#39;articles)</li>\n  <li>48% articles (chaque article tant associ  un unique cluster)</li>\n  <li>1201 termes au sein du rseau (chaque terme tant associ  un unique cluster).</li>\n  </ul>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"que-nous-apprend-la-topologie-du-rseau-\",\n    level: 2,\n    title: \"Que nous apprend la topologie du rseau ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"9 min read\",\"minutes\":8.97,\"time\":538200,\"words\":1794}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"quelles-entits-peuplent-le-rseau-smantique-\"\n    }}>{`Quelles entits peuplent le rseau smantique ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} displayAllLabels={true} nodeColorVariable={'algo_robot'} nodeLabelVariable={'cluster_label'} labelDensity={1} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'2991 noeuds, 54062 liens de cooccurrences, couleurs relatives aux meta-clusters, taille des relative frquence des termes dans le corpus '} mdxType=\"GraphBlock\" />\n    <p>{`Pour mettre en vidence les caractristiques de ces deux espaces de critique, nous avons entrepris didentifier systmatiquement la manire dont sont dsignes les entits techniques, la socit qui les abrite et la faon dont les premiers ont des effets sur la seconde. Tous ces discours critiques cherchent  qualifier la manire dont des Agents produisent des Victimes en exerant un type particulier dopration, ces dernires sont constitutives dun ensemble de troubles rvlant autant de dfis ou denjeux produits par le dploiement des techniques dIA dans nos socits (Cardon, Crpel, 2019).`}</p>\n    <p>{`Afin de diffrencier ces entits au sein du rseau, la plupart des termes, ne souffrants pas trop dambigut (66% des termes du graphe), ont t annots manuellement en dix catgories distinctes. Parmi ces catgories, notre analyse consiste  comparer trois dentre elles qui apparaissent particulirement pertinentes pour diffrencier les deux espaces. La catgorie Technical renvoie  ce que nous avons dsign comme agents calculateurs, elle concerne tous les termes relatifs aux entits techniques tels que les algorithmes, les machines, les fonctionnalits ou services techniques, les terminaux mais galement les technologies issues de startup, parfois difficiles  diffrencier des entits conomiques. La seconde catgorie relative aux agents humains, nomme People, concerne tous les termes dsignant des personnes ou groupes de personnes non nominatives ( la diffrence des catgories Person pour les noms propres et Institutions pour les groupes ou structures ayant une existence juridique). Enfin, la troisime catgorie, nomme Issues, permet didentifier les termes qui dsignent des enjeux, des difficults ou des problmes extraits au sein des articles. `}</p>\n    <h2 {...{\n      \"id\": \"quelles-sont-les-entits-techniques-\"\n    }}>{`Quelles sont les entits techniques ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} labelDensity={0.98} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"techinal\"'} mdxType=\"GraphBlock\" />\n    <p>{`Si lon compare les termes les plus frquents catgoriss en tant quentits techniques, ce qui caractrise la zone  Robots  de notre cartographie est le trs haut degr dintelligence et dautonomie des IA, ainsi que leur capacit  tre incarnes sous la forme de machines. Que ce soit pour la conduite automobile, le sexe, la guerre ou la production industrielle, ces entits techniques sont dotes de capacit dinitiatives autonomes. `}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.98} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"techinal\" et meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`On observe que dans lespace  Robots  les calculateurs renvoient le plus souvent  des dispositifs incarns tels que les `}<em parentName=\"p\">{`robots`}</em>{`, `}<em parentName=\"p\">{`machines`}</em>{`, `}<em parentName=\"p\">{`computers`}</em>{`, `}<em parentName=\"p\">{`cars`}</em>{`, `}<em parentName=\"p\">{`weapons`}</em>{`, `}<em parentName=\"p\">{`drones`}</em>{` ou `}<em parentName=\"p\">{`dolls`}</em>{`. Dautres entits techniques se distinguent car elles renvoient  une dfinition trs abstraite et gnrique des calculateurs qui sont dsigns en tant que `}<em parentName=\"p\">{`system`}</em>{`, `}<em parentName=\"p\">{`artificial intelligence`}</em>{` ou encore comme `}<em parentName=\"p\">{`automation`}</em>{` ou `}<em parentName=\"p\">{`model`}</em>{`.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.98} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"techinal\" et meta-cluster \"algortihmes\"'} mdxType=\"GraphBlock\" />\n    <p>{`En revanche, les entits techniques de la zone  Algorithmes  de notre cartographie sont davantage dfinies comme des parties ou des lments de systmes socio-techniques distribus dans des environnements numriques. Dans cet espace, on retrouve des dnominations abstraites mais ces entits ne constituent pas systmatiquement des objets autonomes (`}<em parentName=\"p\">{`algorithm`}</em>{`, `}<em parentName=\"p\">{`devices`}</em>{`, `}<em parentName=\"p\">{`program`}</em>{`, `}<em parentName=\"p\">{`bot`}</em>{` ou `}<em parentName=\"p\">{`phone`}</em>{`). La majorit des termes se distingue par le fait quelle relve de technologies beaucoup plus spcifiques, renvoyant le plus souvent  des dispositifs technologiques prcis tels que `}<em parentName=\"p\">{`facial recognition`}</em>{`, `}<em parentName=\"p\">{`deepfake`}</em>{`, `}<em parentName=\"p\">{`social network`}</em>{`, `}<em parentName=\"p\">{`chatbot`}</em>{`, `}<em parentName=\"p\">{`criminal justice algortihm`}</em>{` et de manire encore plus spcifique  des fonctionnalits de certains services embarqus dans nos terminaux mobiles ou sur le web, parfois associs  des marques, tels que `}<em parentName=\"p\">{`Siri`}</em>{`, `}<em parentName=\"p\">{`Search engine`}</em>{`, `}<em parentName=\"p\">{`Trending topics`}</em>{`, `}<em parentName=\"p\">{`Google assistant`}</em>{`, `}<em parentName=\"p\">{`Iphone`}</em>{`, `}<em parentName=\"p\">{`recommendation algorithm`}</em>{`, `}<em parentName=\"p\">{`Facebook messenger`}</em>{`, `}<em parentName=\"p\">{`Google images`}</em>{`, `}<em parentName=\"p\">{`image search`}</em>{`. Ces qualifications nisolent pas les IA mais les incorporent dans un environnement sociotechnique dans lequel le calcul joue un rle de plus en plus intense pour assister, trouver de linformation, guider ou prvenir un comportement.`}</p>\n    <h2 {...{\n      \"id\": \"qui-sont-les-agents-humains-\"\n    }}>{`Qui sont les agents humains ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"People\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} labelDensity={0.92} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"people\"'} mdxType=\"GraphBlock\" />\n    <p>{`La catgorie People  partir de laquelle ont t annots les termes dsignant des agents humains, personnes ou groupes de personnes permet dobserver la manire dont est compos le monde social dans lequel les IA ont t introduites. Elle fait apparatre une autre diffrence entre les deux espaces smantiques. `}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"People\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.95} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"people\" et meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`Du ct de lespace  Robots  on observe parmi les termes les plus frquents une forte prsence de rfrences  lhumanit, telles que `}<em parentName=\"p\">{`humans`}</em>{`, `}<em parentName=\"p\">{`humankind`}</em>{`, `}<em parentName=\"p\">{`human civilisation`}</em>{`, `}<em parentName=\"p\">{`human driver`}</em>{`, `}<em parentName=\"p\">{`human supervisor`}</em>{`.  la lecture du contenu de certains articles associs  cet espace, on constate que face aux agents calculateurs incarns par des machines, la notion dhumanit est en fait une expression trs gnrique de la socit humaine tout entire sur laquelle ces agents font peser une menace. Dautres termes assez gnriques sont galement prsents dans cet espace mais relvent dune dfinition plus centre sur des domaines dans lesquels les technologies robotiques sont amenes  se dployer, tels que la finance, le march du travail, la dfense et les transports. On retrouve ainsi des termes tels que `}<em parentName=\"p\">{`workers`}</em>{`, `}<em parentName=\"p\">{`customers`}</em>{`, `}<em parentName=\"p\">{`employees`}</em>{`, `}<em parentName=\"p\">{`drivers`}</em>{`, `}<em parentName=\"p\">{`retailers`}</em>{`, `}<em parentName=\"p\">{`soldiers`}</em>{`, `}<em parentName=\"p\">{`passengers`}</em>{`, `}<em parentName=\"p\">{`brokers`}</em>{`, `}<em parentName=\"p\">{`traders`}</em>{`, `}<em parentName=\"p\">{`farmers`}</em>{`.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"People\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.92} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"people\" et meta-cluster \"algorithmes\"'} mdxType=\"GraphBlock\" />\n    <p>{`Lespace associ aux  Algorithmes  est quant  lui peupl de termes beaucoup moins gnriques que dans lespace  Robots . Les agents humains sont ici dsigns de manire beaucoup plus prcise et font rfrence  des personnes mieux identifies. On retrouve ainsi, parmi les termes frquents, des entits faisant rfrence aux plateformes numriques `}<em parentName=\"p\">{`users`}</em>{`, `}<em parentName=\"p\">{`accounts`}</em>{`, `}<em parentName=\"p\">{`Facebook users`}</em>{`, `}<em parentName=\"p\">{`Youtube users`}</em>{`. Les termes qui dsignent ces entits humaines permettent dans la grande majorit des cas de les qualifier en fonction de proprits comme lge (`}<em parentName=\"p\">{`children, child, kids, parents`}</em>{`), le genre (`}<em parentName=\"p\">{`women, men`}</em>{`) lappartenance thique (`}<em parentName=\"p\">{`black people, black patients, african-americans`}</em>{`), lorientation politique (`}<em parentName=\"p\">{`white supremacists, black defendants, illuminati`}</em>{`) ou sexuelle (`}<em parentName=\"p\">{`gays, lesbian, trans people`}</em>{`).`}</p>\n    <p>{`Lanalyse topologique des clusters faisant apparatre une opposition entre les machines ou intelligences autonomes et les environnements numriques algorithmiques, est renforce par cette analyse plus spcifique des termes les plus frquents qui peuplent ces deux espaces. En effet, on observe dans lespace smantique intitul  Robots  une forme dabstraction et dincarnation des agents techniques et une gnricit dans la manire de dsigner les agents humains qui apparaissent comme les victimes des troubles potentiels tels quils sont dnoncs dans les articles critiques.  linverse, dans lespace li aux  Algorithmes , les agents techniques sont davantage spcifis et renvoient le plus souvent  des services ou des fonctionnalits techniques trs prcises qui sont mises en cause dans les articles. Les agents humains associs  ces entits techniques algorithmiques ne rfrent pas  des catgories gnriques comme lhumanit mais sont qualifis par une varit dattributs qui permettent de les identifier de manire beaucoup plus prcise.  `}</p>\n    <h2 {...{\n      \"id\": \"quelles-sont-les-difficults-causes-par-ces-entits-techniques-\"\n    }}>{`Quelles sont les difficults causes par ces entits techniques ?`}</h2>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Issue\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} labelDensity={0.90} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"issues\"'} mdxType=\"GraphBlock\" />\n    <p>{`La catgorie intitule Issues permet une lecture compare des termes relatifs aux troubles et aux enjeux qui sont associs aux agents techniques sur lesquels porte la critique. `}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Issue\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.90} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"issues\" et meta-cluster \"robots\"'} mdxType=\"GraphBlock\" />\n    <p>{`Du ct de lespace smantique  Robots , cest laffrontement entre les humains et les IA qui est constamment appel comme enjeu. On observe la prsence de termes tels que `}<em parentName=\"p\">{`attack`}</em>{`, `}<em parentName=\"p\">{`safety`}</em>{`, `}<em parentName=\"p\">{`arms race`}</em>{`, `}<em parentName=\"p\">{`Cold war`}</em>{`, `}<em parentName=\"p\">{`human extinction`}</em>{`, `}<em parentName=\"p\">{`extinction`}</em>{`, `}<em parentName=\"p\">{`natural disasters`}</em>{`, `}<em parentName=\"p\">{`AI-powered horror`}</em>{`, `}<em parentName=\"p\">{`mass extinction`}</em>{`, `}<em parentName=\"p\">{`physical damage`}</em>{`, qui renvoient le plus souvent au registre de la guerre ou de la destruction  lchelle plantaire, faisant peser un risque existentiel sur lavenir de lhumanit (Singler, 2019). Ces menaces font merger des enjeux de contrle de ces technologies autonomes, tels que `}<em parentName=\"p\">{`ban`}</em>{`, `}<em parentName=\"p\">{`petition`}</em>{`, `}<em parentName=\"p\">{`human oversight`}</em>{`, `}<em parentName=\"p\">{`lack of accountability`}</em>{`, `}<em parentName=\"p\">{`superintelligence control problem`}</em>{`, `}<em parentName=\"p\">{`control problem`}</em>{`. Dautres termes relvent de troubles assez visibles dans cet espace smantique associs au remplacement, au dpassement et  une perte de contrle de lhomme par les machines, notamment dans le domaine de lconomie, avec des termes tels que `}<em parentName=\"p\">{`job losses`}</em>{`, `}<em parentName=\"p\">{`surge pricing`}</em>{`, `}<em parentName=\"p\">{`pay gap`}</em>{`.`}</p>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.8} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Issue\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot'} nodeLabelVariable={'label_copy'} filtersModeAnd={true} labelDensity={0.90} colorPalette={{\n      \"Robot\": \"#fa1633\",\n      \"Algo\": \"#992ef6\"\n    }} title={'Rseau smantique du contenu des articles critiques sur lIA'} legend={'filtrage par tag \"issues\" et meta-cluster \"algorithmes\"'} mdxType=\"GraphBlock\" />\n    <p>{`Les termes relatifs aux troubles et enjeux constitutifs du sous-ensemble nomm  Algorithmes  laissent apparatre dautres formes de discours de critique davantage imprgnes de rfrences juridiques et lgales. En effet, on trouve dans cette partie du rseau parmi les termes frquents un champ smantique constitu de rfrences juridiques telles que `}<em parentName=\"p\">{`crime`}</em>{`, `}<em parentName=\"p\">{`law enforcement`}</em>{`, `}<em parentName=\"p\">{`Human Rights`}</em>{`, `}<em parentName=\"p\">{`lawsuit`}</em>{`, `}<em parentName=\"p\">{`Civil Liberties`}</em>{`, `}<em parentName=\"p\">{`prejudice`}</em>{`, `}<em parentName=\"p\">{`fraud`}</em>{`, `}<em parentName=\"p\">{`public interest`}</em>{`. Les troubles produits par les agents techniques dnoncs au sein des articles associs  cet espace concernent les discriminations (`}<em parentName=\"p\">{`bias`}</em>{`, `}<em parentName=\"p\">{`biases`}</em>{`, `}<em parentName=\"p\">{`discrimination`}</em>{`, `}<em parentName=\"p\">{`antisemitic`}</em>{`, `}<em parentName=\"p\">{`race or gender`}</em>{`, `}<em parentName=\"p\">{`fair use`}</em>{`, `}<em parentName=\"p\">{`risk score`}</em>{`, `}<em parentName=\"p\">{`liberal bias`}</em>{`), les enjeux de privacy (`}<em parentName=\"p\">{`privacy`}</em>{`, `}<em parentName=\"p\">{`surveillance`}</em>{`, `}<em parentName=\"p\">{`Big Brother`}</em>{`, `}<em parentName=\"p\">{`privacy issues`}</em>{`), les difficults de filtrage ou dexposition  de contenus inappropris (`}<em parentName=\"p\">{`violence`}</em>{`, `}<em parentName=\"p\">{`inappropriate content`}</em>{`, `}<em parentName=\"p\">{`nudity`}</em>{`, `}<em parentName=\"p\">{`age restriction`}</em>{`, `}<em parentName=\"p\">{`violent crime`}</em>{`) et frauduleux (`}<em parentName=\"p\">{`fake news`}</em>{`, `}<em parentName=\"p\">{`misinformaton`}</em>{`, `}<em parentName=\"p\">{`conspiracy theories`}</em>{`, `}<em parentName=\"p\">{`revenge porn`}</em>{`, `}<em parentName=\"p\">{`filter bubble`}</em>{`), ou encore de censure et de libert dexpression (`}<em parentName=\"p\">{`free expression`}</em>{`)`}</p>\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-tagging-des-entit-s-du-graphe\">Mthode : Tagging des entits du graphe</h2>\n      <p>Pour chacun des 2991 termes du rseau une catgorisation manuelle a t ralise  pour diffrencier le type dentits, de sorte que 66% des termes du rseaux ont t catgoriss  partir de 10 catgories distinctes : </p>\n      <ul>\n        <li>Technical (15%) : calculateur, machine, fonctionnalit, device, service technique, dispositifs techniques de startup difficiles  diffrencier de l&#39;entit conomique</li>\n        <li>Company (5%) : entreprises, start-up, domaine d&#39;entreprise</li>\n        <li>Fiction (1%): personnages, films, jeux vido</li>\n        <li>Person (6%) : personnalits politique, mdiatique, recherche, noms propres</li>\n        <li>People (8%) :  personne ou groupe de personnes non nomme</li>\n        <li>Institution (4%) : agence gouvernementale, ONG, association, universit, textes juridiques</li>\n        <li>Locality (1%) : lieux</li>\n        <li>Data_inout (10%) : donnes, traces    </li>\n        <li>Topic (10%) : domaine, thmes</li>\n        <li>Issues (7%) :  enjeux et problmes</li>\n      </ul>\n      <p>Une 11me catgorie rassemble les termes difficilement interprtables et non catgorisables</p>\n      <ul>\n        <li>NC terms (34%) : termes non classs car trop ambigus ou non pertinents </li>\n      </ul>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"quelles-entits-peuplent-le-rseau-smantique-\",\n    level: 2,\n    title: \"Quelles entits peuplent le rseau smantique ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"quelles-sont-les-entits-techniques-\",\n    level: 2,\n    title: \"Quelles sont les entits techniques ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"qui-sont-les-agents-humains-\",\n    level: 2,\n    title: \"Qui sont les agents humains ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"quelles-sont-les-difficults-causes-par-ces-entits-techniques-\",\n    level: 2,\n    title: \"Quelles sont les difficults causes par ces entits techniques ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.38,\"time\":202800,\"words\":676}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport IceCreamBlock from '../../components/IceCreamBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-sont-exprims-les-troubles-produits-par-ces-technologies-\"\n    }}>{`Comment sont exprims les troubles produits par ces technologies ?`}</h2>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} mdxType=\"IceCreamBlock\" />\n    <p>{`Une autre manire de poursuivre cette analyse comparative des troubles et des formes dagentivit associs aux calculateurs consiste en lexploration dune autre entit smantique au sein du corpus darticles que sont les verbes. Aprs avoir ralis une extraction dune liste de verbes interprtables comme tant potentiellement de bons candidats aux troubles produits par les dispositifs techniques, nous avons calcul et compar leur score tf-idf au sein des deux sous-ensembles darticles constitutifs des deux ples mis en vidence par la topologie du rseau.`}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"robot\"\n    }]} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"robots\"'} mdxType=\"IceCreamBlock\" />\n    <p>{`Les verbes dont les scores tf-idf sont les plus importants dans les articles qui composent lespace smantique  Robots  viennent conforter lanalyse des troubles effectue  partir des termes catgoriss comme Issues au sein du graphe. En effet, on observe une plus forte reprsentation de verbes exprimant une menace de la part des machines et intelligences autonomes relevant dun discours prophtique, voire apocalyptique. Parmi les verbes slectionns comme bons candidats  lexpression de troubles ayant les plus importants scores tf-idf, on trouve des verbes qui expriment des notions de destruction (`}<em parentName=\"p\">{`doom`}</em>{`, `}<em parentName=\"p\">{`destroy`}</em>{`, `}<em parentName=\"p\">{`eradicate`}</em>{`, `}<em parentName=\"p\">{`kill`}</em>{`, `}<em parentName=\"p\">{`eliminate`}</em>{`) et de domination des machines sur lhomme (`}<em parentName=\"p\">{`enslave`}</em>{`, `}<em parentName=\"p\">{`dominate`}</em>{`), mais galement de dpassement ou de remplacement des hommes par les ces agents techniques (`}<em parentName=\"p\">{`overtake`}</em>{`, `}<em parentName=\"p\">{`surpass`}</em>{`, `}<em parentName=\"p\">{`replace`}</em>{`, `}<em parentName=\"p\">{`defeat`}</em>{`). Dautres verbes davantage reprsents dans le sous ensemble  Robots  renvoient  des notions de transformation et de changement (`}<em parentName=\"p\">{`reshape`}</em>{`, `}<em parentName=\"p\">{`transform`}</em>{`, `}<em parentName=\"p\">{`disrupt`}</em>{`) ou aux capacits de ces agents techniques  imiter ou simuler les comportements humains (`}<em parentName=\"p\">{`ressemble`}</em>{`, `}<em parentName=\"p\">{`simulate`}</em>{`, `}<em parentName=\"p\">{`reproduce`}</em>{`, `}<em parentName=\"p\">{`mimic`}</em>{`).`}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"algo\"\n    }]} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"algorithmes'} reverseFlickering={true} mdxType=\"IceCreamBlock\" />\n    <p>{`Dans le sous-ensemble darticles associs aux  Algorithmes  on retrouve galement des verbes qui viennent conforter les analyses prcdentes ralises  partir de la catgories Issues dans le rseau de termes. En effet, les verbes qui prsentent les plus hauts scores de tf-idf dans cette partie du corpus renvoient aux questions de filtrage et de censure de linformation (`}<em parentName=\"p\">{`filter`}</em>{`, `}<em parentName=\"p\">{`delete`}</em>{`, `}<em parentName=\"p\">{`supress`}</em>{`, `}<em parentName=\"p\">{`censor`}</em>{`), aux problmes de surveillance et de privacy (`}<em parentName=\"p\">{`profile`}</em>{`, `}<em parentName=\"p\">{`suspect`}</em>{`, `}<em parentName=\"p\">{`spy`}</em>{`, `}<em parentName=\"p\">{`target`}</em>{`, `}<em parentName=\"p\">{`track`}</em>{`),  la dnonciation des formes de discrimination (`}<em parentName=\"p\">{`bias`}</em>{`, `}<em parentName=\"p\">{`discriminate`}</em>{`) ou encore aux phnomnes de propagation et damplification de contenus frauduleux (`}<em parentName=\"p\">{`promote`}</em>{`, `}<em parentName=\"p\">{`amplify`}</em>{`, `}<em parentName=\"p\">{`spread`}</em>{`).`}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des verbes de troubles dans les articles selon les mta-clusters'} mdxType=\"IceCreamBlock\" />\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-extraction-des-verbes-de-troubles-et-calcul-des-tf-idf-sur-le-corpus\">Mthode : Extraction des verbes de troubles et calcul des TF-IDF sur le corpus</h2>\n      <p>Lanalyse des verbes de troubles a t ralise en effectuant une premire extraction de 1000 verbes sur le texte complet des articles critiques du corpus en employant la mthode pigeon holes via le logiciel Cortext (identique  la mthode d'extraction des termes du graphe). La liste de verbes produite a dabord t manuellement annote afin dextraire une liste de verbes pouvant tre interprts comme des problmes, des difficults ou des troubles. Une liste restreinte de 66 verbes explicitement interprtables comme troubles a t slectionne.\n  \nLe score Tf-idf des verbes est calcul sur les articles des 17 plus importants clusters (suprieur  1% des articles du corpus), composant les deux grands sous-ensembles  Robots  et  Algorithmes  dfinis en suivant la topologie. Il est obtenu  partir du module TfidfTransformer <a href=\"https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfTransformer.html\">https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfTransformer.html</a> en conservant les options par dfaut (intgrant la fonction smooth_idf=True, la constante &quot;1&quot; est ajoute au numrateur et au dnominateur de l&#39;idf comme si l&#39;on voyait un document supplmentaire contenant chaque terme de la collection exactement une fois, ce qui vite les divisions par zro : </p>\n      <blockquote>\n        <p>idf(t) = log [ (1 + n) / (1 + df(t)) ] + 1.</p>\n      </blockquote>\n    </div>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-sont-exprims-les-troubles-produits-par-ces-technologies-\",\n    level: 2,\n    title: \"Comment sont exprims les troubles produits par ces technologies ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"6 min read\",\"minutes\":5.67,\"time\":340200,\"words\":1134}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport IceCreamBlock from '../../components/IceCreamBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-est-exprime-la-temporalit-\"\n    }}>{`Comment est exprime la temporalit ?`}</h2>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} mdxType=\"IceCreamBlock\" />\n    <p>{`Des travaux portant sur les formes argumentatives en sociologie des controverses nous invitent  nous intresser  la manire dont sont dployes les chelles temporelles et les rgimes dnonciation du futur qui leur sont associs (Chateauraynaud, 2013, 2019). Les preuves de cohrence et de crdibilit dans les controverses ncessitent de dfinir des chelles temporelles qui vont venir modifier les jugements. Cest en mobilisant des marqueurs temporels qui articulent des rfrences au pass et une projection  plus ou moins long terme dans le temps que les acteurs sont en mesure de constituer des prises sur le futur qui vont venir moduler le type daction  entreprendre et lurgence  agir pour faire face  une situation. `}</p>\n    <p>{`A partir de notre corpus, nous avons extrait 1000 entits nommes qui sont des marqueurs temporels prsents au sein des articles. De la mme manire que pour les verbes, nous avons calcul leur score tf-idf sur lensemble des articles constituant les deux sous-ensembles intituls  Robots  et  Algorithmes . La liste des entits extraite a t filtre manuellement afin de ne conserver que les marqueurs temporels interprtables en dehors de leur contexte dnonciation. Lanalyse comparative de la distribution entre les deux sous-ensembles des scores tf-idf des marqueurs temporels laisse apparatre deux rgimes distincts de rfrence au temps au sein des deux sous-ensembles darticles. `}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"robots\"'} mdxType=\"IceCreamBlock\" />\n    <p>{`Du ct des articles associs au sous-ensemble  Robots  les marqueurs de temps relvent dune temporalit sur le long terme, quils fassent rfrence au pass ou au futur. Ainsi la grande majorit des marqueurs se structurent autour dexpressions sur le futur qui mobilisent la figure the next associ  des temporalits qui se comptent souvent en dizaines dannes ou centaines dannes (`}<em parentName=\"p\">{`the next 10 years, the next 30 years, the next 100 years, the next 1,000 years`}</em>{`). Dautre part, les noncs qui ont les plus importants scores dans cet espace ont comme particularit le plus souvent de ne pas dfinir prcisment les chances auxquelles ils renvoient (`}<em parentName=\"p\">{`the next decades, coming decades, next century, this century`}</em>{`). Dautres marqueurs galement prsents dans ce sous-ensemble ne font pas rfrence au futur mais au pass et ils sont caractriss par le fait de rfrer galement  une projection lointaine dans le temps pass (`}<em parentName=\"p\">{`30 years ago, 150 years ago, the last 20 years, the past 25 years, the past 15 years`}</em>{`). Les entits dans ce sous-ensemble ont donc comme particularit de majoritairement exprimer un futur lointain et souvent peu prcis et lorsque les entits font rfrence au pass, elles sont galement projetes dans une temporalit lointaine.`}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} legend={'Filtrage du meta-cluster \"algortihmes\"'} reverseFlickering={true} mdxType=\"IceCreamBlock\" />\n    <p>{`Au sein du sous-ensemble darticles associs aux  Algorithmes  les marqueurs temporels extraits ayant les scores tf-idf les plus importants se distinguent des prcdents car ils renvoient majoritairement au prsent (`}<em parentName=\"p\">{`this day, these days, that year`}</em>{`),  un pass proche souvent exprim en jour, semaine ou mois (`}<em parentName=\"p\">{`recent days, just last week, a few weeks ago, just a month, six months ago, the end of last year`}</em>{`), mais galement  un futur trs proche en comparaison du premier sous-ensemble (`}<em parentName=\"p\">{`the next day, the next few weeks, the coming weeks, the coming months, the following two years`}</em>{`).`}</p>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"From\": \"#fa1633\",\n      \"To\": \"#992ef6\"\n    }} colorScaleType={'continuous'} title={'Scores TF-IDF des marqueurs de temps \"Date\" dans les articles selon les mta-clusters'} mdxType=\"IceCreamBlock\" />\n    <p>{`Lopposition entre les deux espaces smantiques semble donc dessiner deux rgimes dnonciation distincts qui cohabitent au sein de lespace mdiatique et qui expriment des temporalits diffrentes. Le premier exprime les peurs projetes dans le futur face  des technologies autonomes focalisant la critique sur leur capacit  simuler, dpasser, remplacer ou exterminer  terme lespce humaine et reprsentant une menace quil serait ncessaire de contrler. Lautre rgime est davantage ancr dans une critique sociale plus actuelle, mobilisant le rpertoire du droit et des injustices (censure, discrimination, surveillance) envers des populations spcifiques ou relve denjeux de rgulation quant  la manire de grer la diffusion de linformation (exposition, amplification).`}</p>\n    <div className=\"methodo-container\">\n  <h2 id=\"m-thode-extraction-des-marqueurs-de-temps-et-calcul-des-tf-idf-sur-le-corpus\">Mthode : Extraction des marqueurs de temps et calcul des TF-IDF sur le corpus</h2>\n      <p>En suivant la mme procdure que pour le calcul des scores tf-idf sur les verbes (voir section mthode prcdente), un travail de comparaison dentits nommes Date a t ralis. Afin de lister ces marqueurs de temps, une premire extraction de 1000 entits nommes \"Date\" via le modle Spacy ralise sur Cortext a t effectue, puis un nettoyage de cette liste afin de conserver les entits les plus interprtables permettant de qualifier une dimension temporelle sans ambigut. Nous avons supprim les entits produisant des ambiguts et moins interprtables comme les dates spcifiques ou chiffres, les dures (ex: several years, winter), les frquences (ex : everyday, weekly), les priodes (the late 1980s) les vnements spcifiques (ex : Christmas). Pour cette liste de 112 entits Date un score de tf-idf a t calcul en suivant la mme procdure que pour les entits verbes, soit une sparation du corpus darticles en deux grands ensembles quivalent suivant la topologie du graphe telle que dcrite prcdemment et un calcul du score tf-idf pour chaque entit  partir du module TfidfTransformer.</p>\n    </div>\n    <h2 {...{\n      \"id\": \"rfrences\"\n    }}>{`Rfrences`}</h2>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`J Scott Brennen. An industry-led debate: How uk media cover artificial intelligence. 2018.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Dominique Cardon, Maxime Crpel, Renuka George. Algorithms and Territorial Regulation. Gouverner la ville numrique, Collge de France; Presses Universitaires de France, 2019, 9782130815259`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Francis Chateauraynaud. Regard analytique sur lactivit visionnaire. Du risque  la menace. Penser la catastrophe, Paris, PUF, pages 309389, 2013.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Francis Chateauraynaud and Josquin Debaz. Agir avant et aprs la fin du monde, dans linfinit des milieux en interaction. Multitudes, (3):126132, 2019.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Anna Jobin, Marcello Ienca, and Effy Vayena. The global landscape of ai ethics guidelines. Nature Machine Intelligence, 1(9):389399, 2019. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Brent Mittelstadt. Principles alone cannot guarantee ethical ai. Nature Machine Intelligence, 1(11):501507, 2019. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Raymond Perrault, Yoav Shoham, Erik Brynjolfsson, Jack Clark, John Etchemendy, Barbara Grosz, Terah Lyons, James Manyika, Saurabh Mishra, and Juan Carlos Niebles. The ai index 2019 annual report. AI Index Steering Committee, Human-Centered AI Institute, Stanford University, Stanford, CA, 2019. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Nick Seaver. Algorithms as culture: Some tactics for the ethnography of algorithmic systems. Big Data & Society, 4(2):2053951717738104, 2017.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Beth Singler. Existential hope and existential despair in AI apocalypticism and transhumanism, Zygon, 54 (1), 156176, 2019.`}</p>\n      </li>\n    </ul>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-est-exprime-la-temporalit-\",\n    level: 2,\n    title: \"Comment est exprime la temporalit ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"rfrences\",\n    level: 2,\n    title: \"Rfrences\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"3 min read\",\"minutes\":2.81,\"time\":168600,\"words\":562}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"critique-de-lia-dans-la-presse\"\n    }}>{`Critique de lIA dans la presse`}</h1>\n    <blockquote>\n      <p parentName=\"blockquote\">{`IMAGE DE FOND CLUSTERS Graphe smantique des thmatiques des articles critiques full`}</p>\n    </blockquote>\n    <p><strong parentName=\"p\">{`Projet :`}</strong>{` Algoglitch - mdialab Sciences Po`}</p>\n    <p><strong parentName=\"p\">{`Auteurs :`}</strong>{` Maxime Crpel, Dominique Cardon`}</p>\n    <p><strong parentName=\"p\">{`Traitement de donnes :`}</strong>{` Yannis Bouachera, Salom Do, Jean-Philippe Cointet `}</p>\n    <p><strong parentName=\"p\">{`Visualisation :`}</strong>{` Donato Ricci, Robin De Mourat `}</p>\n    <p><strong parentName=\"p\">{`Citer cette recherche :`}</strong>{` `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Site\nPapers`}</p>\n    </blockquote>\n    <h2 {...{\n      \"id\": \"quel-est-le-discours-critique-de-lia-et-des-algorithmes-dans-la-presse-\"\n    }}>{`Quel est le discours critique de lIA et des algorithmes dans la presse ?`}</h2>\n    <p>{`Ce site, en articulant analyses et visualisations de donnes, prsente les rsultats de travaux raliss dans le cadre du projet Algoglitch au mdialab, portant sur un corpus darticles de presse sur le thme de lIA et des algorithmes couvrant une priode de 5 ans aux tats-unis et au Royaume-Uni. `}</p>\n    <p>{`En rendant visible les dbats des experts et chercheurs et en mdiatisant les controverses qui mergent parfois au sein des communauts dutilisateurs sur les effets ngatifs de ces technologies, les mdias contribuent  forger les reprsentations et  dfinir les formes dacceptabilit de lIA dans nos socits. Des travaux ont montr une visibilit croissante du sujet de lIA dans la couverture mdiatique ces dernires annes, se concentrant principalement sur les avances technologiques dans le domaine et sur les dveloppements potentiels dans les secteurs du commerce et de lindustrie. Pourtant, les questions thiques et les problmes sociaux tels que les risques de discrimination, les biais, la vie prive sont des thmatiques galement prsentes au sein de la sphre mdiatique mais y sont sous-reprsents (Brennen et al, 2018). `}</p>\n    <p>{`Notre recherche vise  analyser les discours critiques sur lIA dans la sphre mdiatique : Quelles sont les controverses produites par ces technologies qui sont mdiatises dans la presse ? De quoi est constitu le discours mdiatique critique de ces technologies ? Quels types dagents techniques et humains sont impliqus dans ces controverses ? Quels troubles sont-ils accuss de produire dans la socit ? `}</p>\n    <p>{`A partir de mthode de TAL sur un large corpus de presse, nous montrons quil existe deux rgimes dominants de critique, lun fond sur les injustices produites par les algorithmes et lautre portant sur les peurs de lautonomie de lIA et des robots. Les rsultats montrent que le thme des algorithmes et de lIA occupe un espace de plus en plus important dans la sphre mdiatique depuis 5 ans. Lespace mdiatique se structure de manire thmatique autour de diffrents types de calculateurs et domaines dapplications se divisant en deux sous-ensembles smantiques lun portant sur les algorithmes et lautre sur les robots. `}</p>\n    <p>{`Lanalyse compare de ces deux espaces smantiques dominants rend compte de deux rgimes discursifs, mobilisant des agents. Dune part, les algorithmes qui faonnent nos environnements de calcul quotidiens sont associs  un discours critique portant sur les biais, les discriminations, la surveillance, la censure et les phnomnes damplification dans la diffusion de contenus inappropris. Dautre part, les robots et lIA, qui mettent en scne des entits autonomes, incarnes et indpendantes sont associs  un discours prophtique alertant sur notre capacit  contrler ces agents simulant ou dpassant nos capacits physiques et cognitives et mettant ainsi en pril notre scurit physique ou notre modle conomique.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Ces travaux de recherche ont t raliss dans le cadre de la Chaire Good In Tech : repenser linnovation et les technologies comme moteurs dun monde meilleur pour et par lhumain  place sous lgide de la Fondation du Risque en partenariat avec lInstitut Mines-Tlcom et Sciences Po`}</p>\n    </blockquote>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"quel-est-le-discours-critique-de-lia-et-des-algorithmes-dans-la-presse-\",\n    level: 2,\n    title: \"Quel est le discours critique de lIA et des algorithmes dans la presse ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"3 min read\",\"minutes\":2.65,\"time\":159000,\"words\":530}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"quelle-est-la-couverture-mdiatique-de-lia-\"\n    }}>{`Quelle est la couverture mdiatique de lIA ?`}</h2>\n    <p>{`Notre recherche a consist  extraire un large corpus de 29342 darticles de presse portant sur  lIA et les algorithmes sur une priode de 5 annes, ralise sur lagrgateur de presse Factiva sur un ensemble de 47 sources de presse gnraliste aux tats unis et au Royaume Uni (27 sources pour USA et 20 sources pour UK).`}</p>\n    <p>{`Les donnes rcoltes font apparatre une augmentation du volume darticles portant sur lIA - telle que dfinie par notre requte - sur la priode dobservation. Cette augmentation atteste de la place de plus en plus importante du thme des algorithmes et de lIA dans lespace mdiatique ces dernires annes. Afin de contrler cette augmentation au sein de notre corpus, nous avons compar avec dautres requtes effectues sur la mme priode et des sources identiques, pour lesquelles on attend une distribution stable. Lobservation du volume darticles extraits  partir de notre requte montre une augmentation significative de 163% entre 2015 et 2019 des publications portant sur lIA et les algorithmes alors que les articles consacrs  lart (-9%), la culture (+2%), lconomie (+0%) ou la technologie (+14%) restent relativement stables. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visuel Comparatif volume articles Les statistiques compares des diffrentes requtes intgrent les doublons prsents dans la base Factiva`}</p>\n    </blockquote>\n    <LinearGraphBlock xVariable={'month'} xLabelVariable={'fullName'} yVariable={'value'} mdxType=\"LinearGraphBlock\" />\n    <p>{`Ce constat dune augmentation de la visibilit croissante du thme de lIA a t observ dans dautres travaux  partir danalyses statistiques portants sur diffrentes sources informationnelles (Perrault et al, 2019). Tout dabord dans presse anglophone,  lchelle mondiale,  partir danalyses statistiques produites par le projet GDELT, sobserve une croissance du thme de lIA et des termes associs tels que Deep learning, Machine Learning entre 2017 et 2019. Cette augmentation de la prsence du terme de lIA est aussi largement visible  partir des statistiques de requtes effectues sur le moteur de recherche Google aux USA et analysables via le service Google trends sur la priode allant de 2015  2019. Enfin le mme constat est galement fait dune augmentation entre 2017 et 2019 de la frquence dapparition des termes AI et Machine Learning dans diffrents corpus de documents issus par exemple dorganisations gouvernementales aux USA, au Canada, et au Royaume Uni, mais galement dans les appels de fonds des entreprises amricaines.`}</p>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"mthode--extraction-de-corpus\"\n    }}>{`Mthode : Extraction de corpus`}</h2>\n    <p><strong parentName=\"p\">{`Requte utilise sur Factiva`}</strong>{` : artificial intelligence OR AI OR \"algorithm`}<em parentName=\"p\">{` OR \"machine learning OR deep learning OR \"neural network`}</em>{` -\"amnesty international -\"weiwei\" -\"air india\"\n`}<strong parentName=\"p\">{`Priode dextraction`}</strong>{` : du 01/01/2015 au 31/12/2019\n`}<strong parentName=\"p\">{`Volume darticles extraits`}</strong>{` : 29 342 articles`}</p>\n    <p><strong parentName=\"p\">{`Sources UK (n=20)`}</strong>{` : Daily Mail, Daily Record, Daily star, Economist, Evening Standard, Evening Times, Express, Guardian, Independent, Mail online, Morning Star, Observer, Sunday Mall, Telegraph, The Mirror, The Sunday Mirror, The Sun, The Sunday Times, The Times, Which`}</p>\n    <p><strong parentName=\"p\">{`Sources USA (n=27)`}</strong>{` : ABCNEWS, Barrons, Business Insider, CBS News, Chicago Tribune, CNN, Dailynews, Forbes, Fox News , Los Angeles Times, MSNBC News, New York Newsday, New York Post, New York Times, Newsweek, Politico, Rochester Democrat Chronicle, Slate, The Huffington Post, The Verge, Time Magazine, USA Today, Vice News, Wall Street Journal Online, Wall Street Journal, Washington Post, Washington Times`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"quelle-est-la-couverture-mdiatique-de-lia-\",\n    level: 2,\n    title: \"Quelle est la couverture mdiatique de lIA ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"mthode--extraction-de-corpus\",\n    level: 2,\n    title: \"Mthode : Extraction de corpus\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.76,\"time\":225600,\"words\":752}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-dtecter-le-discours-critique-dans-les-mdias-\"\n    }}>{`Comment dtecter le discours critique dans les mdias ?`}</h2>\n    <p>{`En sappuyant sur des outils dannotations par apprentissage supervis, un sous corpus darticles produisant un discours critique des algorithmes et de lIA a t constitu.  partir de lannotation manuelle de 2000 titres darticles de presse jugs critiques, nous avons construit un modle dapprentissage automatique en ralisant plusieurs itrations incluant des phases de contrle des rsultats afin doptimiser le modle de dtection des articles critiques. Tous les titres darticles comportant des arguments ou lments smantiques ngatifs portant explicitement sur une forme de calculateur (algorithme, IA, robot, etc.) ont t annots comme critiques.  linverse ont t annots comme non critiques ou ignors les titres darticles aux noncs neutres, positifs, ambigus ou nvoquant pas directement un calculateur. Par exemple les titres Robocops to replace british bobbies on the streets, police force reveals ou Growth of ai could boost cybercrime and security threats , report warns  ont t annots comme critiques, alors que AI to create more than 7m jobs ou Google so advanced stores will pack your products before youve thought of ordering them ont t annots non critiques. tant donn le travail de sourcing manuel du corpus de dpart et lusage de mthode dannotation par apprentissage supervis, ce corpus ne prtend pas  une quelconque exhaustivit ou reprsentativit. Notre dmarche permet en revanche dapprhender avec la plus large diversit possible les thmes associs  la critique de lIA et des algorithmes. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visuel taux sur la priode et nb articles critic non critic`}</p>\n    </blockquote>\n    <LinearGraphBlock xVariable={'index'} xLabelVariable={'fullName'} yVariable={'value'} colorVariable={'type'} colorPalette={{\n      \"not critic\": \"#c2873d\",\n      \"critic\": \"#c3897e\",\n      \"Total\": \"#ffab77\"\n    }} mdxType=\"LinearGraphBlock\" />\n    <p>{`A partir de ce protocole de catgorisation, un sous corpus de 2 091 articles de presse catgoriss comme critiques a t constitu. Le taux darticles annots comme critiques de la base initiale est de 7,1% en moyenne sur lensemble du corpus et prsente une assez forte stabilit durant la priode (cart type de +/- 2,2%). Si le volume darticles portant sur lIA et les algorithmes augmente significativement, le taux darticles dtects par le modle comme contenant un discours critique augmente simultanment durant la priode. Des travaux portant sur lanalyse de la couverture mdiatique du thme de lIA en Grande Bretagne ont montr quune trs large majorit des publications portaient sur les avances technologiques dans le domaine et sur les potentiels dveloppement que ces derniers permettent dans les secteurs du commerce et de lindustrie. Les questions thiques et les problmes sociaux tels que les risques de discrimination associs au dploiement de ces technologies sont sous reprsents au sein de lespace mdiatique (Brennen et al, 2018). `}</p>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"mthode--dtection-du-discours-critique-par-apprentissage-supervis\"\n    }}>{`Mthode : Dtection du discours critique par apprentissage supervis`}</h2>\n    <p><strong parentName=\"p\">{`Modle utilis pour la dtection du discours critique :`}</strong>{` fastText - `}<a parentName=\"p\" {...{\n        \"href\": \"https://fasttext.cc\"\n      }}>{`https://fasttext.cc`}</a></p>\n    <p><strong parentName=\"p\">{`Corpus dapprentissage :`}</strong>{` 2000 articles annots manuellement via prodigy - `}<a parentName=\"p\" {...{\n        \"href\": \"https://prodi.gy\"\n      }}>{`https://prodi.gy`}</a></p>\n    <p><strong parentName=\"p\">{`Rgles de codage des articles :`}</strong>{` `}</p>\n    <ul>\n      <li parentName=\"ul\">{`CRITIQUE : noncs critiques ou rponse  une critique  (champ smantique ou arguments critiques), vocation dun calculateur ( algorithme, IA, robot, etc.). Exemple :  Robots put jobs at risk ,\n Robot lawyers: how humans can fight back `}</li>\n      <li parentName=\"ul\">{`NON CRITIQUE : noncs neutres ou positifs, pas dvocation dun calculateur. Exemple :  AI to 'create more than 7m jobs ,\n In the 2020s, artificial intelligence will transform the work of lawyers `}</li>\n      <li parentName=\"ul\">{`IGNORE : noncs ambigus, pas dvocation dun calculateur. Exemple :  Restaurants are now employing robots  should chefs be worried? ,  Need a lawyer? Theres an algorithm for that `}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`Comparaison des modles de dtection de la critique :`}</strong>{`\nAfin de sassurer de la varit et de la prcision des articles diffrents modles dannotation ont t compars et amliors par itrations successives et un contrle manuel systmatique des rsultats produits par ces modles ont t effectus. Cest finalement le modle fastText qui a produit la dtection la plus prcise des articles critiques`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Tableau rsutats comparatifs`}</p>\n    </blockquote>\n    <p><strong parentName=\"p\">{`Contrle des rsultats du modle :`}</strong>{`\nCette approche mthodologique a permis de traiter une large base de donnes qui aurait t difficilement catgorisable manuellement. En revanche, les outils mobiliss de catgorisation automatique par apprentissage supervis comportent un risque potentiel de ne pas dtecter certains articles critiques dans le corpus. Pourtant, les itrations successives rduisent ce biais car les rsultats obtenus  chaque itration montrent un puisement des capacits du modle  dtecter de nouveaux articles critiques. Par ailleurs, des oprations de contrle manuel systmatique de lensemble des rsultats produits par lalgorithme ont permis de sassurer que le sous corpus darticles catgoriss comme critiques ne contenait pas de faux positifs. `}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-dtecter-le-discours-critique-dans-les-mdias-\",\n    level: 2,\n    title: \"Comment dtecter le discours critique dans les mdias ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"mthode--dtection-du-discours-critique-par-apprentissage-supervis\",\n    level: 2,\n    title: \"Mthode : Dtection du discours critique par apprentissage supervis\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"9 min read\",\"minutes\":8.595,\"time\":515700,\"words\":1719}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"quels-sont-les-thmes-sur-lesquels-porte-la-critique-\"\n    }}>{`Quels sont les thmes sur lesquels porte la critique ?`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Graphe smantique des thmatiques des articles critiques full\nRQ afficher label cluster ++ Probleme larger page `}</p>\n    </blockquote>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Future_of_AI\": \"#e97f3e\",\n      \"Profiling_Algorthms\": \"#53cb7b\",\n      \"Job_Automation\": \"#eb102b\",\n      \"Market_&_Prices\": \"#d08be8\",\n      \"Predictive_Algorithms\": \"#a3bf28\",\n      \"Web_Algorithms\": \"#e7eb2a\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#108cac\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#d3a715\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#1b90be\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#00c8cc\",\n      \"Sex_Robots\": \"#db7187\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#6deeff\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} mdxType=\"GraphBlock\" />\n    <p>{`Le rseau smantique obtenu  partir des 2 091 articles annots comme critiques repose sur une extraction de termes les plus reprsents au sein des articles. Il est constitu de 2 991 termes (ou suite de termes) relis entre eux par 54 062 liens de cooccurrences. La spatialisation  est base sur une variante de lalgorithme de spatialisation Fruchterman Reingold, incluant le poids des cooccurrences entre les termes du rseau ; la position est optimise par leur appartenance aux clusters dtects automatiquement par lalgorithme de Louvain. La couleur des nuds est relative  chacun des clusters ainsi dtects et leur taille est relative  la somme des cooccurrences. `}</p>\n    <p>{` partir des termes les plus reprsents au sein de chacun des clusters on peut interprter et nommer les thmes qui structurent lespace smantique de ce corpus darticles critiques de lIA et des algorithmes. La cartographie est constitue de 23 clusters thmatiques de tailles varies qui reprsentent des types de calculateurs ou des domaines dapplication diffrents. Pour chaque article, en fonction des termes mobiliss, il lui est assign un seul et unique cluster. De la mme manire chaque terme est associ  un unique cluster mme sil peut entretenir des liens de cooccurrence avec dautres termes appartenant  des clusters diffrents. Une premire lecture du rseau consiste  dcrire les thmes les plus prsents au sein du corpus en nombre darticles et den proposer une illustration succincte  partir dexemples de titres prototypiques qui leurs sont associs.`}</p>\n    <p>{`Le deux plus importants clusters du graphe en nombre darticles forment deux ples opposs. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`ZOOM ou filtre cluster Carte smantique des thmatiques des articles critiques - Cluster AlgoWeb & AI\nRQ les noms des termes filtrs restent affichs `}</p>\n    </blockquote>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Web_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Future_of_AI\"\n    }]} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Future_of_AI\": \"#e97f3e\",\n      \"Profiling_Algorthms\": \"#53cb7b\",\n      \"Job_Automation\": \"#eb102b\",\n      \"Market_&_Prices\": \"#d08be8\",\n      \"Predictive_Algorithms\": \"#a3bf28\",\n      \"Web_Algorithms\": \"#e7eb2a\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#108cac\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#d3a715\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#1b90be\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#00c8cc\",\n      \"Sex_Robots\": \"#db7187\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#6deeff\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} mdxType=\"GraphBlock\" />\n    <ul>\n      <li parentName=\"ul\">{`Le plus important nomm Web Algorithms\", reprsentant 22% des articles du corpus critique, comporte des articles qui traitent des troubles produits par les algorithmes du web tels que par exemple les techniques de classement du newsfeed de Facebook (`}<em parentName=\"li\">{`Facebook accused of censoring conservatives, report says`}</em>{` - The Guardian - 10/05/16), les recommandations des vidos sur Youtube (`}<em parentName=\"li\">{`YouTube, the Great Radicalizer`}</em>{` - The New York Times - 11/03/18) ou encore des moteurs de recherche comme Google (`}<em parentName=\"li\">{`Google results claim that the Holocaust didnt happen, and company wont change it`}</em>{` - Independent Online - 15/12/16). `}</li>\n      <li parentName=\"ul\">{` lextrmit oppose du graphe, on trouve le second plus important cluster nomm Future of AI qui reprsente 18% du corpus darticles, voquant les risques de lmergence dintelligences artificielles et de machines autonomes imitant ou surpassant les capacits humaines (`}<em parentName=\"li\">{`AI will create useless class of human, predicts bestselling historian`}</em>{` - The Guardian - 20/05/16) ou menaant lhumanit dextinction (`}<em parentName=\"li\">{`End of Humanity ? Artificial Intelligence could destroy us within decades warns expert`}</em>{` - express.co.uk - 15/04/16).`}</li>\n    </ul>\n    <blockquote>\n      <p parentName=\"blockquote\">{`ZOOM ou filtre cluster Carte smantique des thmatiques des articles critiques x 3 - Cluster Jobauto / Killerrobots / Facialreco / `}</p>\n    </blockquote>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Facial_Recognition\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Job_Automation\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Killer_Robots\"\n    }]} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Future_of_AI\": \"#e97f3e\",\n      \"Profiling_Algorthms\": \"#53cb7b\",\n      \"Job_Automation\": \"#eb102b\",\n      \"Market_&_Prices\": \"#d08be8\",\n      \"Predictive_Algorithms\": \"#a3bf28\",\n      \"Web_Algorithms\": \"#e7eb2a\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#108cac\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#d3a715\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#1b90be\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#00c8cc\",\n      \"Sex_Robots\": \"#db7187\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#6deeff\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} mdxType=\"GraphBlock\" />\n    <p>{`Parmi les plus importants clusters on trouve trois autres thmes largement reprsents dans le corpus. `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Le cluster Job automation (14% des articles) contient des articles alertant sur les risques de mutation du march de lemploi face  la robotisation et au dploiement de lIA dans le monde du travail (`}<em parentName=\"li\">{`Robots and AI are threatening close to a third of UK jobs, study reveals`}</em>{` - Independent Online - 24/03/17). `}</li>\n      <li parentName=\"ul\">{`Le cluster Killer robots (11% des articles) est constitu darticles sur les risques du dploiement de lIA et de machines autonomes dans le cadre de conflits arms (`}<em parentName=\"li\">{`Top scientists call for ban on killer robots to prevent apocalyptic war`}</em>{` - dailystar.co.uk - 20/08/17). `}</li>\n      <li parentName=\"ul\">{`Enfin, le cluster Facial recognition qui reprsente 10% des articles du corpus porte sur diffrents dveloppements des technologies de reconnaissance faciale dans lespace public, dans des logiciels ou sur les plateformes du Web (`}<em parentName=\"li\">{`China is now using facial recognition cameras to monitor Uighur Muslims across the country, report claims`}</em>{` - Mail Online - 15/04/19). `}</li>\n    </ul>\n    <p>{`Lensemble de ces 5 plus grands clusters thmatiques domine largement lespace mdiatique car ces derniers ne constituent pas moins de 75,6% du total des articles du corpus critique (1581 articles) et reprsentent sur le graphe 46,4% du rseau de termes extraits (1389 termes).`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`ZOOM ou filtre cluster Carte smantique des thmatiques des articles critiques x 9 clusters + de 1%\nRQ probleme overlaping / et nom des clusters absents ou nom des termes absents !! `}</p>\n    </blockquote>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Autonomous_Cars\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Voice_Assistant\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Sex_Robots\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Health_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Deepfake\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Predictive_Algorithms\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Chatbot\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Game_&_Education\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Profiling_Algorthms\"\n    }]} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Future_of_AI\": \"#e97f3e\",\n      \"Profiling_Algorthms\": \"#53cb7b\",\n      \"Job_Automation\": \"#eb102b\",\n      \"Market_&_Prices\": \"#d08be8\",\n      \"Predictive_Algorithms\": \"#a3bf28\",\n      \"Web_Algorithms\": \"#e7eb2a\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#108cac\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#d3a715\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#1b90be\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#00c8cc\",\n      \"Sex_Robots\": \"#db7187\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#6deeff\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} mdxType=\"GraphBlock\" />\n    <blockquote>\n      <p parentName=\"blockquote\">{`ZOOM ou filtre cluster Carte smantique des thmatiques des articles critiques x 9 clusters - de 1%\nRQ probleme overlaping / et nom des clusters absents ou nom des termes absents !! `}</p>\n    </blockquote>\n    <p>{`Un second ensemble, bien que trs htrogne du point de vue des thmatiques dployes et de leur position au sein du graphe, est constitu de 9 clusters qui reprsentent respectivement entre 1% et 4% du nombre darticles du corpus. Lensemble de ces thmes reprsente 21,6% des articles du corpus (452 articles) et 38 % des termes du graphe (1136 termes). Dans ce sous-ensemble se trouvent les clusters :`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Voice Assistant : `}<em parentName=\"li\">{`Googles Nest microphone intensifies privacy concerns`}</em>{` -  `}<em parentName=\"li\">{`The Washington Post`}</em>{` - 25/02/19`}</li>\n      <li parentName=\"ul\">{`Autonomous Cars : `}<em parentName=\"li\">{`Self-driving cars will need to be programmed to kill their owners, academics warn, and people will have to choose who will die`}</em>{` - Independent Online - 27/10/15`}</li>\n      <li parentName=\"ul\">{`Sex Robots : `}<em parentName=\"li\">{`Sex robots could lead to population crisis as men opt for virtual girlfriends`}</em>{` - Mirror.co.uk - 27/01/19`}</li>\n      <li parentName=\"ul\">{`Health`}<em parentName=\"li\">{`Algorithms : `}<em parentName=\"em\">{`Racial bias in a medical algorithm favors white patients over sicker black patients`}</em>{` - _The Washington Post`}</em>{`  - 25/10/19`}</li>\n      <li parentName=\"ul\">{`Deepfake : `}<em parentName=\"li\">{`You thought fake news was bad? Deep fakes are where truth goes to die`}</em>{` -  `}<em parentName=\"li\">{`The Guardian`}</em>{`  - 2/11/18`}</li>\n      <li parentName=\"ul\">{`Predictive Algorithms : `}<em parentName=\"li\">{`Criminal justice software algorithm used across the US is biased against black inmates, study finds`}</em>{` - Independent Online - 27/06/16`}</li>\n      <li parentName=\"ul\">{`Chatbot : `}<em parentName=\"li\">{`Microsoft deeply sorry after AI becomes Hitler-loving sex robot`}</em>{` - The Telegraph Online - 26/03/16`}</li>\n      <li parentName=\"ul\">{`Game and Education : `}<em parentName=\"li\">{`Korean Go master quits the game because AI 'cannot be defeated`}</em>{` - CNN Wire - 28/11/19`}</li>\n      <li parentName=\"ul\">{`Profiling Algorthms : `}<em parentName=\"li\">{`Artificial intelligence can identify gay faces from a picture, study claims`}</em>{` - Independent Online - 08/09/17`}</li>\n    </ul>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} filters={[{\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Robo-Advisers\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"DeepDream_Nightmares\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Deep_Voice\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Scientific_Research\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Market_&_Prices\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Image_Search\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Email\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Music\"\n    }, {\n      \"attribute\": \"cluster_rename\",\n      \"value\": \"Consumer_&_Copyright\"\n    }]} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Future_of_AI\": \"#e97f3e\",\n      \"Profiling_Algorthms\": \"#53cb7b\",\n      \"Job_Automation\": \"#eb102b\",\n      \"Market_&_Prices\": \"#d08be8\",\n      \"Predictive_Algorithms\": \"#a3bf28\",\n      \"Web_Algorithms\": \"#e7eb2a\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#108cac\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#d3a715\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#1b90be\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#00c8cc\",\n      \"Sex_Robots\": \"#db7187\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#6deeff\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} mdxType=\"GraphBlock\" />\n    <p>{`Enfin, le graphe se compose de 9 autres clusters de taille trs rduite, entre 0,8% et 0,1% des articles pour chaque cluster (58 articles au total). Les termes extraits de ces articles reprsentent pourtant 15,6% (466 termes au total) de la totalit des termes du graphe. Ces thmatiques peuvent sapparenter  des signaux faibles dun discours critique sur les algorithmes et lIA dtects par notre mthode dextraction de termes mais pourtant sous reprsents en volume darticles. Ces clusters se centrent autour de thmatiques trs spcifiques, voquant parfois des types de calculateurs mais le plus souvent des domaines dapplication :`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Robot-Advisers : `}<em parentName=\"li\">{`Mortgage algorithms found to have racial bias`}</em>{` - The Washington Post - 15/11/18`}</li>\n      <li parentName=\"ul\">{`DeepDream Nightmares : `}<em parentName=\"li\">{`The AI 'nightmare machine: Spooky Google algorithm transforms famous sights into horror scenes`}</em>{` - Mail Online - 25/10/16`}</li>\n      <li parentName=\"ul\">{`Deep Voice : `}<em parentName=\"li\">{`Creepy AI can clone anyones voice with just one minute of audio`}</em>{` - Mail Online - 25/04/17`}</li>\n      <li parentName=\"ul\">{`Scientific Research : `}<em parentName=\"li\">{`Facebook shuts down chatbot experiment after AIs spontaneously develop their own language`}</em>{` - London Evening Std Online - 01/08/17`}</li>\n      <li parentName=\"ul\">{`Market and Prices : `}<em parentName=\"li\">{`Artificial Intelligence - Beware Algorithms That Could Collude To Unfairly Raise Prices`}</em>{` - The Wall Street Journal - 02/04/19`}</li>\n      <li parentName=\"ul\">{`Image Search : `}<em parentName=\"li\">{`Three black teenagers: anger as Google image search shows police mugshots`}</em>{` - The Guardian - 10/06/16`}</li>\n      <li parentName=\"ul\">{`Email : `}<em parentName=\"li\">{`Google expands creepy Gmail AI that can automatically reply to emails for you`}</em>{` - Mail Online - 31/08/18`}</li>\n      <li parentName=\"ul\">{`Music : `}<em parentName=\"li\">{`Why random shuffle feels far from random`}</em>{` - Independent Online - 24/02/15`}</li>\n      <li parentName=\"ul\">{`Consumer and Copyright : `}<em parentName=\"li\">{`Apple is forced to change its App Store search algorithm after it emerged its own products were being ranked significantly higher`}</em>{` - Mail Online - 09/09/19`}</li>\n    </ul>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Graphe smantique des thmatiques des articles critiques full\nRQ probleme overlaping / et nom des clusters absents ou nom des termes absents !! `}</p>\n    </blockquote>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} nodeColorVariable={'cluster_rename'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Future_of_AI\": \"#e97f3e\",\n      \"Profiling_Algorthms\": \"#53cb7b\",\n      \"Job_Automation\": \"#eb102b\",\n      \"Market_&_Prices\": \"#d08be8\",\n      \"Predictive_Algorithms\": \"#a3bf28\",\n      \"Web_Algorithms\": \"#e7eb2a\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#108cac\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#d3a715\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#1b90be\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#00c8cc\",\n      \"Sex_Robots\": \"#db7187\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#6deeff\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} mdxType=\"GraphBlock\" />\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"mthode--extraction-et-visualisation-du-graphe-de-termes\"\n    }}>{`Mthode : Extraction et visualisation du graphe de termes`}</h2>\n    <p><strong parentName=\"p\">{`Extraction de termes dans le corpus :`}</strong>{`\nLanalyse smantique du corpus critique a t effectue  partir du logiciel Cortext en effectuant une extraction de termes sur le texte complet des articles (titre, lead paragraph et texte de larticle) puis un nettoyage des listes de termes extraites suppression de stopwords (balises des fichiers vido ou lment de timecode non nettoys dans factiva).\nLextraction de termes a t ralise  partir de la mthode pigeon holes (favorisant la spcificit des termes et leur occurrence par document) au niveau des phrases. 6000 noms incluant des monogrammes ainsi que les bigrammes et trigrammes. Sil peut paraitre trange que certains termes assez proches ont ts conservs, par exemple toutes les variantes de facial recognition, nous avons fait le choix de conserver cette htrognit afin de rendre compte de diversit des manires de dfinir les agents calculateurs.`}</p>\n    <p><strong parentName=\"p\">{`Production du rseau de cooccurrence et clustering :`}</strong>{`\nLanalyse du corpus a t ralise  partir dun graphe de 2 991 termes relis entre eux par 54 062 liens de cooccurrences. La spatialisation produite par le logiciel Cortext - `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.cortext.net\"\n      }}>{`https://www.cortext.net`}</a>{`, puis visualise dans le logiciel Gephi - `}<a parentName=\"p\" {...{\n        \"href\": \"https://gephi.org\"\n      }}>{`https://gephi.org`}</a>{`, est base sur une variante de lalgorithme de spatialisation Fruchterman Reingold dont la position des nuds est optimise par leur appartenance aux clusters dtects automatiquement par lalgorithme de Louvain. La couleur des nuds est relative  chacun des clusters ainsi dtects et leur taille est relative  la somme des occurrences du terme au sein du corpus. Chaque article du corpus est ainsi associ  un unique cluster dappartenance en fonction des termes quil contient. Les clusters ont t interprts qualitativement et nomms en fonction de leur cohrence thmatique, qualifiable  partir des termes les plus frquents au sein de chacun des clusters.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"quels-sont-les-thmes-sur-lesquels-porte-la-critique-\",\n    level: 2,\n    title: \"Quels sont les thmes sur lesquels porte la critique ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"mthode--extraction-et-visualisation-du-graphe-de-termes\",\n    level: 2,\n    title: \"Mthode : Extraction et visualisation du graphe de termes\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"3 min read\",\"minutes\":2.52,\"time\":151200,\"words\":504}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport LinearGraphBlock from '../../components/LinearGraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-volue-lagenda-mdiatique-\"\n    }}>{`Comment volue lagenda mdiatique ?`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Timeline clusters / nb articles 3 profils`}</p>\n    </blockquote>\n    <LinearGraphBlock graphType={'histogram'} xVariable={'month'} yVariable={'value'} xLabelVariable={'fullName'} colorVariable={'topic'} colorPalette={{\n      \"Future_of_AI\": \"#e97f3e\",\n      \"Profiling_Algorthms\": \"#53cb7b\",\n      \"Job_Automation\": \"#eb102b\",\n      \"Market_&_Prices\": \"#d08be8\",\n      \"Predictive_Algorithms\": \"#a3bf28\",\n      \"Web_Algorithms\": \"#e7eb2a\",\n      \"Facial_Recognition\": \"#54a5e8\",\n      \"Voice_Assistant\": \"#108cac\",\n      \"DeepDream_Nightmares\": \"#e1194a\",\n      \"Health_Algorithms\": \"#fa8566\",\n      \"Autonomous_Cars\": \"#d3a715\",\n      \"Game_&_Education\": \"#a1943c\",\n      \"Chatbot\": \"#1b90be\",\n      \"Consumer_&_Copyright\": \"#f49c57\",\n      \"Killer_Robots\": \"#4650ee\",\n      \"Robo-Advisers\": \"#00c8cc\",\n      \"Sex_Robots\": \"#db7187\",\n      \"Deepfake\": \"#4f990f\",\n      \"Image_Search\": \"#6deeff\",\n      \"Scientific_Research\": \"#cff157\",\n      \"Music\": \"#18a1bc\",\n      \"Email\": \"#ffb7e0\",\n      \"Deep_Voice\": \"#799c89\"\n    }} mdxType=\"LinearGraphBlock\" />\n    <LinearGraphBlock xVariable={'month'} yVariable={'value'} xLabelVariable={'fullName'} colorVariable={'topic'} mdxType=\"LinearGraphBlock\" />\n    <blockquote>\n      <p parentName=\"blockquote\">{`Timeline clusters / nb articles profils n1 stable future of ai et web algo `}</p>\n    </blockquote>\n    <p>{`Lanalyse de la distribution temporelle du nombre darticles des dix plus importants clusters sur la priode de 5 annes que couvre le corpus critique laisse apparatre trois profils distincts. On observe une distribution assez stable sur la priode de la rpartition des articles des deux plus grands clusters structurants de la cartographie que sont les Web Algortihms et Future of AI. La distribution de ces deux plus grands clusters montre quil existe une production rgulire darticles critiques sur les troubles lis aux algorithmes du web et aux craintes relatives aux dveloppements futurs de lintelligence artificielle et des robots. Ces thmes concentrent le plus grand nombre darticles et forment deux ples sur lesquels stablit de faon rcurrente un discours critique. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Timeline clusters / nb articles profils n1 hausse 2019 facial reco + Deepfake `}</p>\n    </blockquote>\n    <p>{`Un second profil de distribution concerne les clusters Facial recognition et Deepfake qui connaissent une hausse importante du volume darticles publis sur lanne 2019. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Timeline clusters / nb articles profils n1 hausse 2017/18 cf texte pour exemples `}</p>\n    </blockquote>\n    <p>{`Enfin le troisime profil de distribution montre une hausse du nombre darticles qui se concentrent sur les annes 2017 et 2018 et une baisse significative sur lanne 2019. Ce type de distribution concerne les clusters Job Automation, Killer Robots, Autonomous Cars, Sex Robots, Voice Assistant, Predictive Algorithms. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Timeline Termes related non critique clusters profils identique aux variation (voir si on intgre les requtes problme mesure cf JPC ou image dans le texte comparaison `}</p>\n    </blockquote>\n    <p>{`Il est plus difficile dinterprter ces distributions irrgulires tant donn la mthode dannotation du corpus utilise, mais elles semblent montrer la manire dont la presse, en focalisant son attention sur certaines technologies plutt que dautres, constitue un agenda mdiatique sur lequel se dploie galement un discours critique. Afin de vrifier cette hypothse dune distribution concentre sur des priodes spcifiques, focalisant lattention mdiatique sur certaines technologies, indpendamment de la production dun discours critique, nous avons tent dobserver les distributions de certains termes constitutifs de ces clusters au sein du corpus darticles tiquets comme non-critique. Ces distributions montrent une rpartition similaire  celle observe pour les clusters du corpus critique. Ainsi les deepkake connaissent une frquence dapparition croissante au sein des articles non critiques entre 2018 et 2019. La mme distribution est observable galement pour le terme facial recognition qui crot progressivement jusquen 2019. Lensemble des termes associs aux robots sexuels prsents dans le corpus tiquet comme non critique connaissent leur plus forte frquence sur les annes 2017 et 2018 avant de diminuer en 2019, on observe galement le mme phnomne de concentration de la frquence dapparition des termes relatifs aux voitures autonomes sur les annes 2017 et 2018, ou encore pour les termes relatifs aux assistants vocaux dont la plus forte distribution se concentre sur la mme priode.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-volue-lagenda-mdiatique-\",\n    level: 2,\n    title: \"Comment volue lagenda mdiatique ?\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"6 min read\",\"minutes\":5.98,\"time\":358800,\"words\":1196}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"quest-ce-que-la-topologie-du-rseau-nous-apprend-de-la-critique-mdiatique-\"\n    }}>{`Quest-ce que la topologie du rseau nous apprend de la critique mdiatique ?`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Clusters Name BICOLOR full algo robot intermed\nRQ probeme couleur choisies dans sigma ou gexf ? + Afficher label cluster (ou en surcouche plus les termes `}</p>\n    </blockquote>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Robot\": \"#eb2941\",\n      \"Algo\": \"#9e41f0\",\n      \"Intermed\": \"#9b9b9b\"\n    }} mdxType=\"GraphBlock\" />\n    <p>{`La dispersion des clusters dans lespace topologique laisse apparatre une opposition entre deux principaux types de calculateurs. On observe ainsi un dplacement entre la partie droite du graphe qui comporte des articles mettant en scne des techniques de calcul algorithmique incorpores dans lenvironnement de lutilisateur pour guider, orienter ou calculer ses comportements, vers la partie gauche qui comporte des articles qui se caractrisent par la personnification de lIA dans une entit incarne et autonome  lgard des humains.  `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Clusters Name BICOLOR droite web algo et al\nRQ : estce quon zoom ou pas pour eviter de perdre la lsibilit de la topologie ? `}</p>\n    </blockquote>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Robot\": \"#eb2941\",\n      \"Algo\": \"#9e41f0\",\n      \"Intermed\": \"#9b9b9b\"\n    }} mdxType=\"GraphBlock\" />\n    <ul>\n      <li parentName=\"ul\">{`La premire zone  droite concerne exclusivement des algorithmes, quils sagissent des algorithmes du Web comme le fil dactualit de Facebook, la section trending topic de Twitter, les algorithmes de recherche dimages et de sites web de Google. La plupart de ces agents algorithmiques constituent les couches techniques de services largement dploys dans nos environnements numriques quotidiens. Dautres reprsentent des technologies plus mergentes qui font lobjet de dveloppements et dexprimentations plus localises et plus rgules tels les algorithmes de police ou de justice prdictive, de dtection des images dans les systmes de reconnaissance faciale ou les deepfakes.`}</li>\n    </ul>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Clusters Name BICOLOR gauche AI robots\nRQ : idem `}</p>\n    </blockquote>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Robot\": \"#eb2941\",\n      \"Algo\": \"#9e41f0\",\n      \"Intermed\": \"#9b9b9b\"\n    }} mdxType=\"GraphBlock\" />\n    <ul>\n      <li parentName=\"ul\">{`Dans la partie la plus  gauche,  loppos du graphe, les clusters se concentrent autour dagents calculateurs qui sont davantage incarns sous forme de machines ou de robots. Les entits qui peuplent cette zone sont personnifies dans des dispositifs physiques spars de nos quipements numriques habituels que sont nos ordinateurs et nos smartphones. Ces dispositifs, en plus dtre incarns physiquement sont quips dune capacit dagir autonome via de systmes de calcul bass sur lIA. En simulant  la fois le corps et les capacits cognitives des humains ils sont en mesure de produire certaines actions sans intervention humaine dans diffrents domaines telles que le transport avec les voitures autonomes, la dfense avec les robots tueurs et les drones, le travail avec lautomatisation des tches professionnelles ou encore les relations physiques avec les robots sexuels.`}</li>\n    </ul>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Clusters Name BICOLOR centre zone grise ??? mettre en gris les zone intrmdiaire ??? ou possibilit dannotation\nRQ idem `}</p>\n    </blockquote>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} filters={[{\n      \"attribute\": \"algo_robot_intermed\",\n      \"value\": \"Intermed\"\n    }]} nodeColorVariable={'algo_robot_intermed'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Robot\": \"#eb2941\",\n      \"Algo\": \"#9e41f0\",\n      \"Intermed\": \"#9b9b9b\"\n    }} mdxType=\"GraphBlock\" />\n    <ul>\n      <li parentName=\"ul\">{`Entre ces deux ples existe une zone intermdiaire plus difficilement identifiable, constitue de dispositifs  mi-chemin entre les machines autonomes et les algorithmes de nos environnements numriques quotidiens. Parmi les agents calculateurs prsents dans cet espace on retrouve par exemple les assistants vocaux pouvant tre embarqus dans nos smartphone ou dans des dispositifs du type enceinte connectes, les chatbots du Web, les robo-advisors qui sont les algorithmes effectuant des oprations dans le domaine de la finance ou encore des technologies de deep learning comme le dispositif Deep Dream de Google. Ces technologies bien quassez accessibles au grand public sont souvent encore mergentes. Elles sont en capacit de grer un certain nombre de tches parfois basiques de manire autonome mais ne sont pas toujours incarnes dans des dispositifs physiques, elles sont encore le plus souvent implmentes et accessibles via nos ordinateurs et smartphones.`}</li>\n    </ul>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Clusters Name BICOLOR full\nProbleme couleur affichage label idem et taille du graphe zoom si on enleve les slides  droite coordonnes pas bonnes `}</p>\n    </blockquote>\n    <GraphBlock x={0.4588867805186573} y={0.5190807505798019} ratio={0.80} nodeColorVariable={'algo_robot'} nodeLabelVariable={'cluster_label'} labelDensity={1.5} colorPalette={{\n      \"Robot\": \"#eb2941\",\n      \"Algo\": \"#9e41f0\"\n    }} mdxType=\"GraphBlock\" />\n    <p>{`La tendance du graphe  sparer des dispositifs de calcul aux proprits diffrencies, nous amne  explorer ces dimensions de manire plus approfondie. Afin de raliser une analyse comparative entre les deux ples qui se dgagent de lanalyse topologique, le choix a t fait de dcouper le rseau en deux sous-ensembles comparables en volume darticles, de clusters et de termes. Ainsi, lespace intitul robots compte 52% des articles du corpus, 9 clusters principaux (de taille suprieure  1%) et 1790 termes. Lespace intitul algorithmes reprsente quant  lui 48% articles, 8 clusters principaux et 1201 termes. Par une approche comparative, ce dcoupage en deux sous-ensembles quivalents permet dexplorer les diffrents attributs qui peuplent ces deux espaces smantiques.`}</p>\n    <p>{`Les mthodes de traitement automatique du langage permettent une analyse des lments des discours critiques,  partir des termes saillants extraits au sein des articles, peuplant ces deux espaces smantiques. Pour mettre en vidence les caractristiques de ces deux espaces de critique, nous avons entrepris didentifier systmatiquement la manire dont sont dsignes les entits techniques, la socit qui les abrite et la faon dont les premiers ont des effets sur la seconde. Tous ces discours critiques cherchent  qualifier la manire dont des Agents produisent des Victimes en exerant un type particulier dopration ; ces dernires sont constitutives dun ensemble de troubles rvlant autant de nouveaux dfis, ou denjeux, produits par le dploiement des techniques dIA dans nos socits (Cardon, Crpel, 2019).`}</p>\n    <p>{`Afin de diffrencier ces entits au sein du graphe, la plupart des termes, ne souffrants pas trop dambigut (66% des termes du graphe), ont t annots manuellement en dix catgories distinctes. Parmi ces catgories, notre analyse consiste  comparer trois dentre elles qui apparaissent particulirement pertinentes pour diffrencier les deux espaces. La catgorie Technical renvoie  ce que nous avons dsign comme agents calculateurs, elle concerne toutes les termes relatifs aux entits techniques tels que les algorithmes, les machines, les fonctionnalits ou services techniques, les terminaux mais galement les produits ou services issus le plus souvent de startup qui sont parfois difficiles  diffrencier de lentit conomique qui les a produit. La seconde catgorie relative aux agents humains, nomme People, concerne tous les termes dsignant des personnes ou groupes de personnes non nommes ( la diffrence des catgories Person pour les noms propres et Institutions pour les groupes ou structures ayant une existence juridique). Enfin, la troisime catgorie que nous prsenterons par la suite, nomme Issues, permet didentifier les termes qui dsignent des enjeux, des difficults ou des problmes extraits au sein des articles. `}</p>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"mthode--division-du-graphe-et-du-corpus-selon-la-topologie\"\n    }}>{`Mthode : Division du graphe et du corpus selon la topologie`}</h2>\n    <p>{`Pour faciliter une analyse comparative entre lespace smantique interprt comme li aux robots et lespace li aux algorithmes chaque cluster a t associ  lune ou lautre de ces catgories. Les deux sous-ensembles sont comparables en volume darticles, de clusters et de termes. `}</p>\n    <p>{`Lespace intitul robots compte : `}</p>\n    <ul>\n      <li parentName=\"ul\">{`9 clusters principaux (de taille suprieure  1% du corpus darticles)`}</li>\n      <li parentName=\"ul\">{`52% des articles du corpus (chaque article tant associ  un unique cluster)`}</li>\n      <li parentName=\"ul\">{`1790 termes au sein du rseau (chaque terme tant associ  un unique cluster). `}</li>\n    </ul>\n    <p>{`Lespace intitul algorithmes compte `}</p>\n    <ul>\n      <li parentName=\"ul\">{`8 clusters principaux (de taille suprieure  1% du corpus darticles)`}</li>\n      <li parentName=\"ul\">{`48% articles (chaque article tant associ  un unique cluster)`}</li>\n      <li parentName=\"ul\">{`1201 termes au sein du rseau (chaque terme tant associ  un unique cluster).`}</li>\n    </ul>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"quest-ce-que-la-topologie-du-rseau-nous-apprend-de-la-critique-mdiatique-\",\n    level: 2,\n    title: \"Quest-ce que la topologie du rseau nous apprend de la critique mdiatique ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"mthode--division-du-graphe-et-du-corpus-selon-la-topologie\",\n    level: 2,\n    title: \"Mthode : Division du graphe et du corpus selon la topologie\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"8 min read\",\"minutes\":7.44,\"time\":446400,\"words\":1488}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport GraphBlock from '../../components/GraphBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"qui-sont-les-agents-calculateurs-\"\n    }}>{`Qui sont les agents calculateurs ?`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Technical Tag BICOLOR full\nprobleme affichage label des noeuds filtrs + couleurs idem et zoom ++ je ne sais pas si interessant de conserver la topologie 2 block color facon tagcloud ou liste serait surement plus efficace : ideal effet de retriage du graphe en grappe ou liste (enore plus vrai pour people et issue car peu peupl`}</p>\n    </blockquote>\n    <GraphBlock x={0.5105609811492162} y={0.4526993627339648} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }]} nodeColorVariable={'algo_robot'} mdxType=\"GraphBlock\" />\n    <p>{`La dcomposition des qualifications des Agents de lIA fait apparatre des entits techniques aux proprits trs diffrentes. Ce qui caractrise les Agents de la zone robots de notre cartographie est le trs haut degr dintelligence et dautonomie des IA, ainsi que leur capacit  tre incarn sous la forme de machines. Le terme de robot domine cet espace et que ce soit pour la conduite automobile, le sexe, la guerre ou la production industrielle, ces Agents sont dots de capacit dinitiatives autonomes. Les caractristiques qui leurs sont donnes contribuent  dtacher leur capacit de choisir, de dcider et dagir du systme socio-technique qui les a produits ou de lenvironnement dans lequel ils se dploient. En revanche, les agents de la zone algorithmes de notre cartographie nont pas cette autonomie et sont plutt dfinies comme des parties ou des lments de systmes sociotechniques distribus dans des environnements numriques.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Technical Tag BICOLOR gauche\nRQ : eviter le zoom pour evoter de perdre la topologie densemble mais lecture difficile`}</p>\n    </blockquote>\n    <GraphBlock x={0.5105609811492162} y={0.4526993627339648} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Robot\"\n    }]} nodeColorVariable={'algo_robot'} filtersModeAnd={true} mdxType=\"GraphBlock\" />\n    <p>{`Si lon compare les termes les plus frquents catgoriss en tant quentit technique, on observe que dans lespace Robots les calculateurs renvoient le plus souvent  des dispositifs incarns tels que les robots, les machines, les ordinateurs, les voitures, les armes, les drones, les weapons, les dolls. Dautres entits techniques se distinguent car elles renvoient  une dfinition trs abstraite et gnrique des calculateurs qui sont dsigns en tant que system, artificial intelligence ou encore comme automation ou model. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Technical Tag BICOLOR droite\nRQ : idem eviter le zoom pour evoter de perdre la topologie densemble mais lecture difficile`}</p>\n    </blockquote>\n    <GraphBlock x={0.5105609811492162} y={0.4526993627339648} ratio={1} filters={[{\n      \"attribute\": \"tag_entity\",\n      \"value\": \"Technical\"\n    }, {\n      \"attribute\": \"algo_robot\",\n      \"value\": \"Algo\"\n    }]} nodeColorVariable={'algo_robot'} filtersModeAnd={true} mdxType=\"GraphBlock\" />\n    <p>{`Dans lespace smantique intitul Algorithmes les entits techniques, mme sous des dnominations abstraites, ne constituent pas des objets autonomes (algorithm, devices, program, bot ou phone). La majorit des termes se distingue par le fait quelle relve de technologies beaucoup plus spcifiques, renvoyant le plus souvent  des dispositifs technologiques prcis tels que facial recognition, deepfake, social network, chatbot, criminal justice algortihm et de manire encore plus spcifique  des fonctionnalits de certains services embarqus dans nos terminaux mobiles ou sur le web, parfois associs  des marques, tels que Siri, Search engine, Trending topics, Google assistant, Iphone, recommendation algorithm, Facebook messenger, Google images, image search. Ces qualifications nisolent pas les IA mais les incorporent dans un environnement sociotechnique dans lequel le calcul joue un rle de plus en plus intense pour assister, trouver de linformation, guider ou prvenir un comportement. `}</p>\n    <h2 {...{\n      \"id\": \"qui-sont-les-agents-humains-\"\n    }}>{`Qui sont les agents humains ?`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation People Tag BICOLOR full`}</p>\n    </blockquote>\n    <p>{`La catgorie People  partir de laquelle ont t annots dans les termes dsignant des agents humains, personnes ou groupes de personnes non nommes ou nayant pas dexistence institutionnelle, permet dobserver la manire dont est compos le monde social dans lequel les IA ont t introduites. Elle fait apparatre une autre diffrence entre les deux espaces smantiques. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation People Tag BICOLOR gauche`}</p>\n    </blockquote>\n    <p>{`Du ct de lespace Robots on observe parmi les termes les plus frquents une forte prsence de rfrences  lhumanit, telles que humans, humankind, human civilisation, human driver, human supervisor.  la lecture du contenu de certains articles associs  cet espace, on constate que face aux agents calculateurs incarns par des machines, tels que dcrits prcdemment, la notion dhumanit est en fait une expression trs gnrique de la socit humaine tout entire sur laquelle ces agents font peser une menace. Dautres termes assez gnriques sont galement prsents dans cet espace mais relvent dune dfinition plus centre sur des domaines dans lesquels les technologies robotiques sont amenes  se dployer, tels que la finance, le march du travail, la dfense et les transports. On retrouve ainsi des termes tels que workers, customers, employees, drivers, retailers, soldiers, passengers, brokers, traders, farmers. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation People Tag BICOLOR droite`}</p>\n    </blockquote>\n    <p>{`Lespace associ aux Algorithmes est quant  lui peupl de termes beaucoup moins gnriques que dans lespace smantique des Robots. Les agents humains sont ici dsigns de manire beaucoup plus prcise et font rfrence  des personnes mieux identifies. On retrouve ainsi, parmi les termes frquents, des entits faisant rfrence aux plateformes numriques users, accounts, Facebook users, Youtube users. Les termes qui dsignent ces agents permettent dans la grande majorit de les qualifier en fonction de proprits comme lge (children, child, kids, parents), le genre (women, men) lappartenance thnique (black people, black patients, african-americans), lorientation politique (white supremacists, black defendants, illuminati) ou sexuelle (gays, lesbian, trans people).`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Full Tag BICOLOR /// ou liste reacpitulative cf papier LDK 2021 `}</p>\n    </blockquote>\n    <p>{`Lanalyse topologique des clusters faisant apparatre une opposition entre les machines ou intelligences autonomes et les environnements numriques algorithmiques, est renforce par une analyse plus spcifique des termes les plus frquents qui peuplent ces deux espaces. En effet, on observe dans lespace smantique intitul Robots une forme dabstraction et dincarnation des agents techniques et une gnricit dans la manire de dsigner les agents humains qui apparaissent comme les victimes des troubles potentiels tels quils sont dnoncs dans les articles critiques.  linverse, dans lespace li aux Algorithmes, les agents techniques sont davantage spcifis et renvoient le plus souvent  des services ou des fonctionnalits techniques trs prcises qui sont mis en cause dans les articles. Les agents humains associs  ces entits techniques algorithmiques ne rfrent pas  des catgories gnriques comme lhumanit toute entire mais sont qualifis par une varit dattributs qui permettent de les identifier de manire beaucoup plus prcise.  `}</p>\n    <h2 {...{\n      \"id\": \"quels-sont-les-troubles-produits-par-ces-agents-calculateurs-\"\n    }}>{`Quels sont les troubles produits par ces agents calculateurs ?`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Issue Tag BICOLOR full`}</p>\n    </blockquote>\n    <p>{`La catgorie intitule Issues permet une lecture compare des termes relatifs aux troubles et aux enjeux qui sont associs aux agents techniques sur lesquels porte la critique. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Issue Tag BICOLOR gauche`}</p>\n    </blockquote>\n    <p>{`Du ct de lespace smantique Robots, cest laffrontement entre les humains et les IA qui est constamment appel comme enjeu. On observe la prsence de termes tels que attack, safety, arms race, Cold war, human extinction, extinction, natural disasters, AI-powered horror, mass extinction, physical damage, qui renvoient le plus souvent au registre de la guerre ou de destruction  lchelle plantaire, faisant peser un risque existentiel sur lavenir de lhumanit. Ces menaces font merger des enjeux de contrle de ces technologies autonomes, tels que ban, petition, human oversight, lack of accountability, superintelligence control problem, control problem. Dautres termes relvent de troubles assez visibles dans cet espace smantique associs au remplacement, au dpassement et  une perte de contrle de lhomme par les machines, notamment dans le domaine de lconomie, avec des termes tels que job losses, surge pricing, pay gap.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Issue Tag BICOLOR droite`}</p>\n    </blockquote>\n    <p>{`Les termes relatifs aux troubles et enjeux constitutifs du sous-ensemble nomm Algorithmes laissent apparatre dautres formes de discours de critique davantage imprgnes de rfrences juridiques et lgales. En effet, on trouve dans cette partie du graphe parmi les termes frquents un champ smantique constitu de rfrences juridiques tels que crime, law enforcement, Human Rights, lawsuit, Civil Liberties, prejudice, fraud, public interest. Les troubles produits par les agents techniques dnoncs au sein des articles associs  cet espace concernent les discriminations (bias, biases, discrimination, antisemitic, race or gender, fair use, risk score, liberal bias), les enjeux de privacy (privacy, surveillance, Big Brother, privacy issues), les difficults de filtrage ou dexposition  de contenus innapropris (violence, inappropriate content, nudity, age restriction, violent crime) et frauduleux (fake news, misinformaton, conspiracy theories, revenge porn, filter bubble), ou encore de censure et de libert dexpression (free expression)`}</p>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"mthode--tagging-des-entits-du-graphe\"\n    }}>{`Mthode : Tagging des entits du graphe`}</h2>\n    <p>{`Pour chacun des 2991 termes du rseau une catgorisation manuelle a t ralise  pour diffrencier le type dentits, de sorte que 66% des termes du rseaux ont t catgoriss  partir de 10 catgories distinctes : `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Technical (15%) : Calculateur, Machine, Fonctionnalit, Devices, Service Technique, Dispositifs techniques de startup difficiles  diffrencier de lentit conomique`}</li>\n      <li parentName=\"ul\">{`Company (5%) : Entreprises, Start-up, Domaine dentreprise`}</li>\n      <li parentName=\"ul\">{`Fiction (1%): personnages, films, jeux vido`}</li>\n      <li parentName=\"ul\">{`Person (6%) : Personnalits politique, mdiatique, recherche, noms propres`}</li>\n      <li parentName=\"ul\">{`People (8%) :  personne ou groupe de personnes non nomme`}</li>\n      <li parentName=\"ul\">{`Institution (4%) : Agence gouvernementale, ONG, Association, Universit, Textes juridiques`}</li>\n      <li parentName=\"ul\">{`Locality (1%) : Lieux`}</li>\n      <li parentName=\"ul\">{`Data_inout (10%) : Donnes, traces\t`}</li>\n      <li parentName=\"ul\">{`Topic (10%) : Domaine, Thmes`}</li>\n      <li parentName=\"ul\">{`Issues (7%) :  Enjeux et problmes`}</li>\n    </ul>\n    <p>{`Une 11me catgorie rassemble les termes difficilement interprtables et non catgorisables`}</p>\n    <ul>\n      <li parentName=\"ul\">{`NC terms (34%) : Termes non classs car trop ambigus ou non pertinents `}</li>\n    </ul>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"qui-sont-les-agents-calculateurs-\",\n    level: 2,\n    title: \"Qui sont les agents calculateurs ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"qui-sont-les-agents-humains-\",\n    level: 2,\n    title: \"Qui sont les agents humains ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"quels-sont-les-troubles-produits-par-ces-agents-calculateurs-\",\n    level: 2,\n    title: \"Quels sont les troubles produits par ces agents calculateurs ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"mthode--tagging-des-entits-du-graphe\",\n    level: 2,\n    title: \"Mthode : Tagging des entits du graphe\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.645,\"time\":218700,\"words\":729}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport IceCreamBlock from '../../components/IceCreamBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-sont-exprims-les-verbes-de-troubles-\"\n    }}>{`Comment sont exprims les verbes de troubles ?`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Verbes troubles full`}</p>\n    </blockquote>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"from\": \"#eb2941\",\n      \"to\": \"#9e41f0\"\n    }} colorScaleType={'continuous'} mdxType=\"IceCreamBlock\" />\n    <p>{`Une autre manire de poursuivre cette analyse comparative des troubles et formes dagentivit associs aux calculateurs consiste en lexploration dune autre entit smantique au sein du corpus darticles que sont les verbes mais absente du rseau du fait de la procdure dextraction. Aprs avoir ralis une extraction dune liste de verbes interprtables comme tant potentiellement de bons candidats aux troubles produits par les dispositifs techniques, nous avons calcul et compar leur score tf-idf  au sein des deux sous-ensemble darticles constitutifs du rseau.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Verbes troubles robot`}</p>\n    </blockquote>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"robot\"\n    }]} mdxType=\"IceCreamBlock\" />\n    <p>{`Les verbes dont les scores tf-idf sont les plus importants dans les articles qui composent lespace smantique Robots viennent conforter lanalyse des troubles effectue  partir des termes catgoriss comme Issues au sein du graphe. En effet, on observe une plus forte reprsentation de verbes exprimant une menace de la part des machines et intelligences autonomes relevant dun discours prophtique, voire apocalyptique. Parmi les verbes slectionns comme bons candidats  lexpression de troubles ayant les plus importants scores, on trouve des verbes qui expriment des notions de destruction (doom, destroy, eradicate, kill, eliminate) et de domination des machines sur lhomme (enslave, dominate), mais galement de  dpassement ou de remplacement des hommes par les ces agents techniques (overtake, surpass, replace, defeat). Dautres verbes davantage reprsents dans le sous ensemble robots renvoient  des notions de transformation et de changement (reshape, transform, disrupt) ou aux capacits de ces agents techniques  imiter ou simuler les comportements humains (ressemble, simulate, reproduce, mimic).`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Verbes troubles algos`}</p>\n    </blockquote>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"algo\"\n    }]} mdxType=\"IceCreamBlock\" />\n    <p>{`Dans le sous-ensemble darticles associs aux Algorithmes on retrouve galement des verbes qui viennent conforter les analyses prcdentes ralises  partir de la catgories Issues. En effet, les verbes qui prsentent les plus hauts scores de tf-idf renvoient aux questions de filtrage et de censure de linformation (filter, delete, supress, censor), aux problmes de surveillance et de privacy (profile, suspect, spy, target, track),  la dnoncitation des formes de discrimination (bias, discriminate) ou encore aux phnomnes de propagation et damplification de contenus frauduleux (promote, amplify, spread). `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Verbes troubles full`}</p>\n    </blockquote>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"from\": \"#eb2941\",\n      \"to\": \"#9e41f0\"\n    }} colorScaleType={'continuous'} mdxType=\"IceCreamBlock\" />\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"mthode--extraction-des-verbes-de-troubles-et-calcul-des-tf-idf-sur-le-corpus\"\n    }}>{`Mthode : Extraction des verbes de troubles et calcul des TF-IDF sur le corpus`}</h2>\n    <p>{`Lanalyse des verbes de troubles a t ralise,  partir du logiciel Cortext, en effectuant une premire extraction de 1000 verbes sur le texte complet des articles critiques du corpus en employant la mthode pigeon holes via le logiciel Cortext (identique  la mthode dextraction des termes du graphe).\nLa liste de verbes ainsi produite a dabord t manuellement annote afin dextraire une sous liste de 431 verbes pouvant tre interprts comme des problmes, des difficults ou des troubles. En effectuant plusieurs itrations de visualisation matricielle via loutil clustergrammer `}<a parentName=\"p\" {...{\n        \"href\": \"https://maayanlab.cloud/clustergrammer/\"\n      }}>{`https://maayanlab.cloud/clustergrammer/`}</a>{` des scores de tf-idf pour chacun des verbes sur lensemble des articles associs aux 17 clusters principaux (suprieur  1% darticles du corpus) via loutil clustergrammer une liste plus restreinte de 66 verbes a t slectionne prsentant une plus forte saillance dans la matrice et tant plus explicitement interprtables comme troubles.\nLe calcul final du score tf-idf seffectue en produisant une matrice du nombre doccurrences brutes des verbes (en ligne) par documents dans chacun des 23 clusters (en colonne). On calcule la somme des occurrences suivant les deux grands sous ensembles dfinis en suivant la topologie sur laxe de lincarnation, produisant deux ensembles comparables en volume darticles (Robots : 52% articles - 9 clusters > 1% - 1790 termes ; Algorithmes : 48% articles - 8 clusters > 1% - 1201 termes).\nLa matrice finale compte 66 verbes en ligne et deux colonnes correspondant aux deux sous-ensembles algorithmes et robots. Le calcul du score tf-idf est obtenu  partir du module TfidfTransformer `}<a parentName=\"p\" {...{\n        \"href\": \"https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfTransformer.html\"\n      }}>{`https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfTransformer.html`}</a>{` en conservant les options par dfaut (intgrant la fonction smooth_idf=True, la constante 1 est ajoute au numrateur et au dnominateur de lidf comme si lon voyait un document supplmentaire contenant chaque terme de la collection exactement une fois, ce qui vite les divisions par zro : `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`idf(t) = log `}{`[ (1 + n) / (1 + df(t)) ]`}{` + 1.`}</p>\n    </blockquote>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-sont-exprims-les-verbes-de-troubles-\",\n    level: 2,\n    title: \"Comment sont exprims les verbes de troubles ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"mthode--extraction-des-verbes-de-troubles-et-calcul-des-tf-idf-sur-le-corpus\",\n    level: 2,\n    title: \"Mthode : Extraction des verbes de troubles et calcul des TF-IDF sur le corpus\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"6 min read\",\"minutes\":5.95,\"time\":357000,\"words\":1190}\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport IceCreamBlock from '../../components/IceCreamBlock';\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"comment-est-exprime-la-temporalit-\"\n    }}>{`Comment est exprime la temporalit ?`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Temporalit full`}</p>\n    </blockquote>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"from\": \"#eb2941\",\n      \"to\": \"#9e41f0\"\n    }} colorScaleType={'continuous'} mdxType=\"IceCreamBlock\" />\n    <p>{`Lopposition entre les deux espaces smantiques semble donc dessiner deux rgimes dnonciation distincts qui cohabitent au sein de lespace mdiatique. Le premier exprime les peurs face  des technologies autonomes focalisant la critique sur leur capacit  simuler, dpasser, remplacer ou exterminer  terme lespce humaine et reprsentant une menace quil serait ncessaire de contrler. Lautre rgime est davantage ancr dans le rpertoire habituel de la critique sociale, mobilisant le rpertoire du droit et des  injustices (censure, discrimination, surveillance) envers des populations spcifiques ou relve denjeux de rgulation quant  la manire de grer la diffusion de linformation (exposition, amplification).`}</p>\n    <p>{`Cette distinction entre lnonciation de la peur et de la critique sexprime galement  travers les marqueurs temporels. Lespace intitul Robots voque majoritairement un ensemble de technologies encore en cours de dveloppement au sein de laboratoires de recherche ou de start-ups qui les destinent  des applications dans des domaines trs spcialiss, le monde du travail job automation, la dfense pour les Killer Robots, les marchs financiers pour les Robo-advisors, la sexualit Sex Robots. On trouve aussi dans cette partie du graphe les clusters Scientific research et Future of AI qui portent tous deux sur des recherches plus fondamentales en lien avec les dploiements les plus rcents en intelligence artificielle et en robotisation. Lautre partie du graphe intitule Algorithmes se concentre davantage sur des systmes techniques largement dploys dans lenvironnement technologique quotidien et adoptes par les utilisateurs, tels que les algorithmes du Web, lautomatisation des emails, les algorithmes de moteurs de recherche dimage ou encore la synthse vocale. Dans cet espace smantique dautres technologies commencent  se diffuser auprs du grand public tels que les assistants vocaux, les Deepfake via des applications mobiles telles que Reface ou Faceswap. Enfin dautres dispositifs ne sont pas encore dmocratiss mais font pour la plupart lobjet dexprimentation plus ou moins importantes par des institutions et des socits tels que la reconnaissance faciale, les algorithmes prdictifs dans le domaine de la police et de la justice par exemple qui connaissent actuellement des dveloppement locaux,  lchelle dune institution ou dun territoire, tout en faisant lobjet dune attention particulire en terme de rgulation et quant aux risques quils font peser sur la socit dans leur dveloppement. `}</p>\n    <p>{`Mais plus que cette analyse de ladoption plus ou moins avance de ces diffrentes familles de technologies de calcul, il est intressant de comprendre la manire dont au sein du discours critique est exprime la temporalit. Des travaux portant sur les formes argumentatives en sociologie des controverses nous invitent  nous intresser  la manire dont sont dployes les chelles temporelles et les rgimes dnonciation du futur qui leur sont associs (Chateauraynaud, 2013, 2014 ; Chateauraynaud, Debaz, 2019). Les preuves de cohrence et de crdibilit dans les controverses ncessitent de dfinir des chelles temporelles qui vont venir modifier les jugements mais aussi les logiques daction qui y vont y tre associes. Cest en mobilisant des marqueurs temporels qui articulent des rfrences au pass et une projection  plus ou moins long terme dans le temps que les acteurs sont en mesure de constituer des prises sur le futur qui vont venir moduler le type daction  entreprendre et lurgence  agir pour faire face  une situation. `}</p>\n    <p>{`A partir de notre corpus, nous avons extrait 500 entits nommes qui sont des marqueurs temporels prsents au sein des articles et de la mme manire que pour les verbes, nous avons calcul de manire comparative leur score tf-idf sur lensemble des articles constituant les deux sous-ensembles intituls Robots et Algorithmes. La liste des entits extraite a t filtrer manuellement afin de ne conserver que les marqueurs temporels interprtables en dehors de leur contexte dnonciation . Lanalyse comparative de la distribution entre les deux sous-ensembles des scores tf-idf des marqueurs temporels laisse apparatre deux rgimes distincts de rfrence au temps au sein des articles. `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Temporalit robot`}</p>\n    </blockquote>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"robot\"\n    }]} mdxType=\"IceCreamBlock\" />\n    <p>{`Du ct des articles associs au sous-ensemble Robots les marqueurs de temps relvent dune temporalit sur le long terme, quils fassent rfrence au pass ou au futur. Ainsi la grande majorit des marqueurs se structurent autour dexpressions sur le futur qui mobilisent la figure the next associs  des temporalits qui se comptent souvent en dizaines dannes ou centaines dannes (the next 10 years, the next 30 years, the next 100 years, the next 1,000 years). Dautre part, les noncs qui ont les plus importants scores dans cet espace ont comme particularit le plus souvent de ne pas dfinir prcisment les chances auxquelles ils renvoient (the next decades, coming decades, next century, this century). Dautres marqueurs galement prsents dans ce sous-ensemble ne font pas rfrence au futur mais au pass et ils se caractrisent par le fait de rfrer galement  une projection lointaine dans le temps pass (30 years ago, 150 years ago, the last 20 years, the past 25 years, the past 15 years). Les entits dans ce sous-ensemble ont donc comme particularit de majoritairement exprimer un futur lointain et souvent peu prcis. Par ailleurs, lorsque les entits font rfrence au pass, elles sont galement projetes dans une temporalit lointaine.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Temporalit algo`}</p>\n    </blockquote>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorScaleType={'continuous'} filters={[{\n      \"attribute\": \"algo_robot\",\n      \"value\": \"algo\"\n    }]} mdxType=\"IceCreamBlock\" />\n    <p>{`Au sein du sous-ensemble darticles associs aux Algorithmes les marqueurs temporels extraits ayant les scores tf-idf les plus hauts se distinguent des premiers car ils renvoient majoritairement au prsent (this day, these days, that year),  un pass plus proche souvent exprim en jour, semaine ou mois (recent days, just last week, a few weeks ago, just a month, six months ago, the end of last year), mais galement  un futur trs proche en comparaison du premier sous-ensemble (the next day, the next few weeks, the coming weeks, the coming months, the following two years). `}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Visualisation Temporalit full`}</p>\n    </blockquote>\n    <IceCreamBlock xVariable={'algorithms'} yVariable={'robots'} reverseY={true} sizeVariable={'frequency'} colorVariable={'algorithms'} labelVariable={'entity'} rotateMode={true} colorPalette={{\n      \"from\": \"#eb2941\",\n      \"to\": \"#9e41f0\"\n    }} colorScaleType={'continuous'} mdxType=\"IceCreamBlock\" />\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"mthode--extraction-des-marqueurs-de-temps-et-calcul-des-tf-idf-sur-le-corpus\"\n    }}>{`Mthode : Extraction des marqueurs de temps et calcul des TF-IDF sur le corpus`}</h2>\n    <p>{`En suivant la mme procdure que pour le calcul des scores tf-idf sur les verbes, un travail de comparaison dentits nommes Date a t ralis. Afin de lister ces marqueurs de temps, une premire extraction de 500 entits nommes Date via le modle Spacy effectue sur Cortext a t effectue, puis un nettoyage de cette liste afin de conserver les entits les plus interprtables permettant de qualifier une dimension temporelle sans ambigut. On tait supprimes les entits produisant des ambiguts et moins interprtables comme les dates spcifique ou chiffre, les dures (ex: several years, winter), les frquences (ex : everyday, weekly), les priodes (the late 1980s) vnement spcifique (ex : Christmas). Pour cette liste de 112 entits Date un score de tf-df a t calcul en suivant la mme procdure que pour les entits, soit une sparation du corpus darticles en deux grand ensemble quivalent suivant la topologie du graphe telle que dcrite prcdemment et un calcul du score tf-idf pour chaque entit  partir du module TfidfTransformer.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"comment-est-exprime-la-temporalit-\",\n    level: 2,\n    title: \"Comment est exprime la temporalit ?\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"mthode--extraction-des-marqueurs-de-temps-et-calcul-des-tf-idf-sur-le-corpus\",\n    level: 2,\n    title: \"Mthode : Extraction des marqueurs de temps et calcul des TF-IDF sur le corpus\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n","import React, {useContext, useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {v4 as genId} from 'uuid';\nimport {VisualizationControlContext, PresentationContext} from '../../contexts'\nimport {buildIceCreamScatterPlotCode} from '../../helpers/misc';\n\nimport VisBlock from '../VisBlock';\n\nconst IceCreamBlock = (inputProps) => {\n  const ref = useRef(null);\n  const {\n    onVisualizationUpdate, \n    focusedVisualizationId, \n    onRegisterVisualization,\n    onUnregisterVisualization,\n    setFocusedVisualizationId,\n    visualizationParams\n  } = useContext(VisualizationControlContext);\n  const {\n    presentationMode\n  } = useContext(PresentationContext);\n  const [id, setId] = useState(null);\n  const [copied, setCopied] = useState(false);\n\n  const handleVisualizationUpdate = () => {\n    onVisualizationUpdate(inputProps);\n  }\n  \n\n  useEffect(() => {\n    const newId = genId();\n    setTimeout(() => {\n      let payload = {...inputProps};\n      if (presentationMode) {\n        payload = {\n          ...payload,\n          visType: 'icecreamGraph',\n          ref,\n          id: newId\n        }\n      }\n      onRegisterVisualization(newId, {...payload})\n    })\n    setId(newId);\n    return onUnregisterVisualization(id);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, ['id', 'inputProps', 'onRegisterVisualization', 'onUnregisterVisualization'])\n\n  const isFocused = focusedVisualizationId === id;\n\n  const handleClick = () => {\n    onVisualizationUpdate(inputProps);\n    setTimeout(() => setFocusedVisualizationId(id));\n  }\n\n  const props = isFocused ? visualizationParams : inputProps;\n\n  const handleCopy = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigator.clipboard.writeText(buildIceCreamScatterPlotCode(props));\n    setCopied(true);\n    setTimeout(() => setCopied(false), 1000);\n  }\n  return presentationMode ? (\n    <VisBlock ref={ref} {...props} id={id} />\n  )\n  : (\n    <div ref={ref} id={id} onClick={handleClick} className={cx(\"VisualizationBlock IcecreamBlock\", {'is-focused': isFocused})}>\n      {\n        props.title ?\n        <h2 className=\"block-title\">{props.title}</h2>\n        : null\n      }\n      <pre>\n        <code>\n          {buildIceCreamScatterPlotCode(props)}\n        </code>\n      </pre>\n      <div className=\"buttons-container\">\n        <button onClick={handleVisualizationUpdate}>\n          Rinitialiser sur les paramtres du fichier\n        </button>\n        <button onClick={handleCopy}>\n        {copied ? 'Copi dans le presse-papier !' : 'Copier le code actuel'}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default IceCreamBlock;","import IceCreamBlock from './IceCreamBlock';\n\nexport default IceCreamBlock;","import React, {useContext, useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {v4 as genId} from 'uuid';\n\nimport VisBlock from '../VisBlock';\n\n\nimport { VisualizationControlContext, PresentationContext } from '../../contexts';\nimport {buildLinearGraphCode} from '../../helpers/misc';;\n\nconst LinearGraphBlock = (inputProps) => {\n  const ref = useRef(null);\n  const {\n    onVisualizationUpdate, \n    focusedVisualizationId, \n    onRegisterVisualization,\n    onUnregisterVisualization,\n    setFocusedVisualizationId,\n    visualizationParams\n  } = useContext(VisualizationControlContext);\n  const {\n    presentationMode\n  } = useContext(PresentationContext);\n  const [id, setId] = useState(null);\n  const [copied, setCopied] = useState(false);\n\n  const handleVisualizationUpdate = () => {\n    onVisualizationUpdate(inputProps);\n  }\n  \n\n  useEffect(() => {\n    const newId = genId();\n    setTimeout(() => {\n      let payload = {...inputProps};\n      if (presentationMode) {\n        payload = {\n          ...payload,\n          visType: 'linearGraph',\n          ref,\n          id: newId\n        }\n      }\n      onRegisterVisualization(newId, {...payload})\n    })\n    setId(newId);\n    return onUnregisterVisualization(id);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, ['id', 'inputProps', 'onRegisterVisualization', 'onUnregisterVisualization'])\n\n  const isFocused = focusedVisualizationId === id;\n\n  const handleClick = () => {\n    onVisualizationUpdate(inputProps);\n    setTimeout(() => setFocusedVisualizationId(id));\n  }\n\n  const props = isFocused ? visualizationParams : inputProps;\n\n  const handleCopy = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    navigator.clipboard.writeText(buildLinearGraphCode(props));\n    setCopied(true);\n    setTimeout(() => setCopied(false), 1000);\n  }\n  return presentationMode ? (\n    <VisBlock ref={ref} {...props} id={id} />\n  )\n  : (\n    <div id={id} ref={ref} onClick={handleClick} className={cx(\"VisualizationBlock LinearGraphBlock\", {'is-focused': isFocused})}>\n      {\n        props.title ?\n        <h2 className=\"block-title\">{props.title}</h2>\n        : null\n      }\n      <pre>\n        <code>\n          {buildLinearGraphCode(props)}\n        </code>\n      </pre>\n      <div className=\"buttons-container\">\n        <button onClick={handleVisualizationUpdate}>\n          Rinitialiser sur les paramtres du fichier\n        </button>\n        <button onClick={handleCopy}>\n        {copied ? 'Copi dans le presse-papier !' : 'Copier le code actuel'}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default LinearGraphBlock;","import LinearGraphBlock from './LinearGraphBlock';\n\nexport default LinearGraphBlock;","var map = {\n\t\"./en/00_home.mdx\": [\n\t\t154\n\t],\n\t\"./en/01_couverture_media.mdx\": [\n\t\t155\n\t],\n\t\"./en/02_detectcritic.mdx\": [\n\t\t156\n\t],\n\t\"./en/03_graphclusters.mdx\": [\n\t\t157\n\t],\n\t\"./en/04_timelineclusters.mdx\": [\n\t\t158\n\t],\n\t\"./en/05_toporobotalgo.mdx\": [\n\t\t159\n\t],\n\t\"./en/06_explore_entities.mdx\": [\n\t\t160\n\t],\n\t\"./en/07_IssueVERB.mdx\": [\n\t\t161\n\t],\n\t\"./en/08_NERdate.mdx\": [\n\t\t162\n\t],\n\t\"./en/footer.mdx\": [\n\t\t142\n\t],\n\t\"./en/headline.mdx\": [\n\t\t144\n\t],\n\t\"./en/metadata\": [\n\t\t234,\n\t\t0\n\t],\n\t\"./en/metadata.js\": [\n\t\t234,\n\t\t0\n\t],\n\t\"./fr/00_home.mdx\": [\n\t\t145\n\t],\n\t\"./fr/01_couverture_media.mdx\": [\n\t\t146\n\t],\n\t\"./fr/02_detectcritic.mdx\": [\n\t\t147\n\t],\n\t\"./fr/03_graphclusters.mdx\": [\n\t\t148\n\t],\n\t\"./fr/04_timelineclusters.mdx\": [\n\t\t149\n\t],\n\t\"./fr/05_toporobotalgo.mdx\": [\n\t\t150\n\t],\n\t\"./fr/06_explore_entities.mdx\": [\n\t\t151\n\t],\n\t\"./fr/07_IssueVERB.mdx\": [\n\t\t152\n\t],\n\t\"./fr/08_NERdate.mdx\": [\n\t\t153\n\t],\n\t\"./fr/chapo.mdx\": [\n\t\t143\n\t],\n\t\"./fr/footer.mdx\": [\n\t\t141\n\t],\n\t\"./fr/metadata\": [\n\t\t235,\n\t\t1\n\t],\n\t\"./fr/metadata.js\": [\n\t\t235,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 447;\nmodule.exports = webpackAsyncContext;","import Loader from './Loader';\n\nexport default Loader;","const Loader = ({ percentsLoaded = 0 }) => {\n  return (\n    <div className=\"loader-container\">\n      <div className=\"loader\">\n        <div className=\"loading-bar\" style={{ width: percentsLoaded + '%' }} />\n      </div>\n    </div>\n  )\n}\n\nexport default Loader;","import DataLoader from './DataLoader'\n\nexport default DataLoader","import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport { csvParse, tsvParse } from 'd3-dsv';\nimport Loader from '../Loader';\n\nconst DataLoader = ({url, children}) => {\n  const [data, setData] = useState(null);\n  const [loadingFraction, setLoadingFraction] = useState(0);\n  useEffect(() => {\n    if (url) {\n      axios.get(url, {\n        onDownloadProgress: progressEvent => {\n          const status = progressEvent.loaded / progressEvent.total;\n          setLoadingFraction(status);\n        }\n      })\n      .then(({data: inputData}) => {\n        setTimeout(() => {\n          let data = inputData;\n          if (url.split('.').pop() === 'csv') {\n            data = csvParse(inputData);\n          } else if (url.split('.').pop() === 'tsv') {\n            data = tsvParse(inputData);\n          }\n          setData(data);\n        })\n      })\n    }\n  }, [url]);\n\n  if (!url) {\n    return children();\n  }\n\n  return data ? children(data)\n  : \n  <Loader percentsLoaded={loadingFraction * 100} />\n}\n\n\nexport default DataLoader;","import Nav from './Nav'\n\nexport default Nav;","import cx from 'classnames';\n\n\nconst Nav = ({\n  lang, \n  routes,\n  onRouteNav,\n  isDeployed,\n  activeSectionIndex\n}) => {\n  return (\n    <nav className={cx('Nav', {'is-deployed': isDeployed})}>\n      <ul>\n        {\n          routes.map((route, routeIndex) => {\n            const handleClick = () => {\n              onRouteNav(routeIndex);\n            }\n            return (\n              <li className={cx({'is-active': activeSectionIndex === routeIndex})} onClick={handleClick} key={routeIndex}>\n                <span className=\"item-number\">{routeIndex}</span>\n                <span className=\"item-label\">\n                  <span>{route.title[lang]}</span>\n                </span>\n              </li>\n            )\n          })\n        }\n      </ul>\n    </nav>\n  )\n}\n\nexport default Nav;","const metadata = {\n  \"generalAuthor\": \"mdialab Sciences Po |algoglitch\",\n  \"title\": \"Critique de lIA dans la presse\",\n  \"description\": \"Une publication numrique sur les critiques de l'IA dans la presse anglophone\",\n  \"publicationDate\": \"2021-06-30\",\n  \"creators\": [\n    {\n      \"role\": \"Auteurs\",\n      \"people\": [\"Maxime Crpel\", \"Dominique Cardon\"]\n    },\n    {\n      \"role\": \"Traitement de donnes\",\n      \"people\": [\"Yannis Bouachera\", \"Salom Do\", \"Jean-Philippe Cointet\"]\n    },\n    {\n      \"role\": \"Design d'information\",\n      \"people\": [\"Robin de Mourat\", \"Donato Ricci\"]\n    }\n  ]\n}\n\nexport default metadata;","const metadata = {\n  \"generalAuthor\": \"mdialab Sciences Po |algoglitch\",\n  \"title\": \"AI critiques in the press\",\n  \"description\": \"Une publication numrique sur les critiques de l'IA dans la presse anglophone\",\n  \"publicationDate\": \"2021-06-30\",\n  \"creators\": [\n    {\n      \"role\": \"Authors\",\n      \"people\": [\"Maxime Crpel\", \"Dominique Cardon\"]\n    },\n    {\n      \"role\": \"Data processing\",\n      \"people\": [\"Yannis Bouachera\", \"Salom Do\", \"Jean-Philippe Cointet\"]\n    },\n    {\n      \"role\": \"Publication and information design\",\n      \"people\": [\"Robin de Mourat\", \"Donato Ricci\"]\n    }\n  ]\n}\n\nexport default metadata;","import {useRef, useEffect} from 'react';\n// import Graph from 'graphology-types';\n\n\nexport function usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\n","import ControlButton from './ControlButton';\n\nexport default ControlButton;","import React from 'react';\n\nexport default function ControlButton({children, onClick}) {\n  return (\n    <button className=\"control-button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n}","import FiltersEditor from './FiltersEditor';\n\nexport default FiltersEditor;","\nimport React, {useState} from 'react';\n\nimport ControlButton from '../ControlButton';\n\nexport default function FiltersEditor ({\n  onToggleFiltersModeAnd,\n  filtersModeAnd,\n  filtersOptions,\n  onFiltersChange,\n  filters\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [newFilterAttribute, setNewFilterAttribute] = useState(undefined);\n\n  let newFilterOptions = [];\n  if (newFilterAttribute) {\n    filtersOptions[newFilterAttribute].options.forEach(option => newFilterOptions.push(option))\n  }\n\n  const handleNewFilterSubmit = (e) => {\n    const value = e.target.value;\n    onFiltersChange([\n      ...filters,\n      {\n        attribute: newFilterAttribute,\n        value\n      }\n    ])\n    setNewFilterAttribute(undefined);\n  }\n  const handleNewFilterChange = e => {\n    const val = e.target.value;\n    if (val.length)\n      setNewFilterAttribute(val)\n  }\n  return (\n    <div className=\"FiltersEditor\">\n      <div>\n        <button className={isOpen ? 'is-active' : ''} onClick={() => setIsOpen(!isOpen)}>\n          Filtres ...\n        </button>\n      </div>\n      {\n        isOpen &&\n        <div>\n          <ControlButton  onClick={onToggleFiltersModeAnd}>\n            Mode des filtres: {filtersModeAnd ? 'AND (intersection des filtres)' : 'OR (union des filtres)'}\n          </ControlButton>\n          {filters.length ?\n          <div>\n            <h6>Filtres existants</h6>\n            <ul className=\"existing-filters\">\n              {\n                filters.map(({attribute, value}, index) => {\n                  const handleDelete = () => {\n                    let newFilters = filters.filter((f, i) => i !== index);\n                    onFiltersChange(newFilters);\n                  }\n                  return (\n                    <li key={index}>\n                      <div>\n                        {attribute} : {value}\n                      </div>\n                      <div>\n                        <button onClick={handleDelete}>\n                        \n                        </button>\n                      </div>\n                    </li>\n                  )\n                })\n              }\n            </ul>\n          </div>\n          : null\n        }\n          <div>\n            <h6>Ajouter un nouveau filtre</h6>\n            <select value={newFilterAttribute || ''} onChange={handleNewFilterChange}>\n              {\n                Object.entries(filtersOptions).map(([id, {title}], index) => {\n                  return (\n                    <option value={id} key={index}>{title}</option>\n                  )\n                })\n              }\n              <option value=\"\">Selectionner</option>\n            </select>\n            {\n              newFilterAttribute !== undefined ?\n              <select value={''} onChange={handleNewFilterSubmit}>\n                {\n                  newFilterOptions\n                  .sort((a, b) => {\n                    if (a > b) {\n                      return 1;\n                    }\n                    return -1;\n                  })\n                  .map((id, index) => {\n                    return (\n                      <option value={id} key={index}>{id}</option>\n                    )\n                  })\n                }\n                <option value=\"\">Selectionner</option>\n              </select>\n              : null\n            }\n          </div>\n        </div>\n      }\n      \n    </div>\n  )\n}","import VariablesEditor from './VariablesEditor';\n\nexport default VariablesEditor;","import React, {useState} from 'react';\n\nexport default function VariablesEditor ({\n  options,\n  variables,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const isNotAllDefault = variables.find(v => v.value !== 'default' &&v.value !== undefined) !== undefined;\n  return (\n    <div className=\"FiltersEditor VariablesEditor\">\n      <div>\n        <button className={isOpen || isNotAllDefault ? 'is-active' : ''} onClick={() => setIsOpen(!isOpen)}>\n          Variables ...\n        </button>\n      </div>\n      {\n        (isOpen || isNotAllDefault) &&\n        <div>\n          {\n            variables.map(({title, value, onChange, type, localOptions}, index) => {\n              const getOptions = () => {\n                switch(type) {\n                  case 'color':\n                  case 'string':\n                    if (localOptions) {\n                      return localOptions;\n                    }\n                    return  Object.entries(options)\n                  case 'boolean':\n                    return [['true', {title: 'Oui'}], ['false', {title: 'Non'}]]\n                  case 'number':\n                  default:\n                    return Object.entries(options)\n                    .filter(([_id, option]) => ['integer', 'float'].includes(option.type))\n                }\n              }\n              const activeOptions = [\n                {\n                  value: 'default',\n                  title: 'Dfaut'\n                },\n                ...getOptions()\n                  .map(([id, option]) => ({\n                    label: option.title,\n                    value: id\n                  }))\n              ]\n\n              if (activeOptions.length <= 1) {\n                return null;\n              }\n              return (\n                <div key={index}>\n                  <h6>{title} </h6>\n                  <select value={value} onChange={e => {\n                      const newVal = e.target.value;\n                      if (type === 'boolean') {\n                        return onChange(newVal === 'true' ? true : false)\n                      }\n                      return onChange(newVal)\n                    }}>\n                    {\n                      activeOptions.map(({value, label}) => (\n                        <option key={value} value={value}>\n                          {label ||'Dfaut'}\n                        </option>\n                      ))\n                    }\n                  </select>\n                </div>\n              )\n            })\n          }\n        </div>\n      }\n      \n    </div>\n  )\n}","\nimport React, {useState, useEffect} from 'react';\nimport { SketchPicker } from 'react-color';\nimport debounce from 'lodash/debounce';\n\nconst ColorItemHandler = ({\n  modality,\n  onChange,\n  color\n}) => {\n  const [isEdited, setEdited] = useState(false);\n  const [editedColor, setEditedColor] = useState(color);\n  useEffect(() => {\n    setEditedColor(color)\n  }, [color]);\n  const debouncedOnChange = debounce(onChange, 300);\n  const handleChange = newColor => {\n    setEditedColor(newColor.hex);\n    debouncedOnChange(newColor.hex);\n  }\n  const handleClose = () => {\n    onChange(editedColor);\n    setEdited(false);\n  }\n  return (\n    <li>\n      <span onClick={() => setEdited(!isEdited)} className=\"legend-color\" style={{background: color}} />\n      <span className=\"legend-modality\">{modality}</span>\n      {\n        isEdited ?\n        <>\n          <div onClick={handleClose} className=\"color-picker-container\">\n            <div onClick={e => {e.stopPropagation()}}>\n              <h5>Choisir la couleur de la modalit \"{modality}\"</h5>\n              <SketchPicker onChange={handleChange} color={editedColor} />\n            </div>\n          </div>\n        </>\n        : null\n      }\n    </li>\n  )\n}\n\nexport default function ColorLegend ({\n  colorPalette,\n  onChange,\n}) {\n  if (!colorPalette) {\n    return null;\n  }\n  return (\n    <div className=\"ColorLegend\" >\n      <h6>Lgende</h6>\n      <ul>\n        {\n          Object.entries(colorPalette)\n          .map(([modality, color]) => {\n            const handleChange = newColor => {\n              onChange({\n                ...colorPalette,\n                [modality] : newColor\n              })\n            }\n            return (\n              <ColorItemHandler onChange={handleChange} key={modality} {...{modality, color}} />\n            )\n          })\n        }\n      </ul>\n    </div>\n  );\n}","import ColorLegend from './ColorLegend';\n\nexport default ColorLegend;","import React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport Slider from 'rc-slider';\nimport debounce from 'lodash/debounce';\n\nimport ControlButton from '../ControlButton';\nimport FiltersEditor from '../FiltersEditor';\nimport VariablesEditor from '../VariablesEditor';\nimport ColorLegend from '../ColorLegend';\n\nconst SLIDER_MARKS = {\n  '0.25': 'dfaut'\n};\n\nfunction DebouncedSlider({defaultValue, onChange}) {\n  const [value, setValue] = useState(defaultValue);\n\n  useEffect(() => {\n    setValue(defaultValue);\n  }, [defaultValue])\n\n  const onSliderChange = newValue => {\n    setValue(newValue);\n    onChange(newValue);\n  };\n\n  return (\n    <Slider\n      min={0}\n      max={1}\n      step={0.01}\n      defaultValue={defaultValue}\n      value={value}\n      onChange={onSliderChange}\n      marks={SLIDER_MARKS}\n    />\n  );\n}\n\n\nexport default function GraphControls({\n  rescale, \n  zoomIn, \n  zoomOut, \n  searchString = '',\n  onSearchStringChange,\n  filtersModeAnd,\n  onToggleFiltersModeAnd,\n  labelDensity,\n  displayAllLabels,\n\n  nodeSizeVariable,\n  nodeColorVariable,\n  nodeLabelVariable,\n\n  filtersOptions,\n  filters = [],\n  colorPalette,\n\n  onFiltersChange,\n  onNodeSizeVariableChange,\n  onNodeColorVariableChange,\n  onNodeLabelVariableChange,\n  onLabelDensityChange,\n  onColorPaletteChange,\n  onDisplayAllLabelsChange,\n}) {\n  const handleSearchChange = e => onSearchStringChange(e.target.value);\n  const [isMinified, setIsMinified] = useState(true)\n  return (\n    <>\n      <button onClick={() => setIsMinified(!isMinified)} className={cx('minify-button', {'is-active': !isMinified})}>\n        {'diter'}\n      </button>\n      <ul className={cx(\"VisControls GraphControls\", {'is-minified': isMinified})}>\n        \n        <li className=\"vis-controls-item camera\">\n        \n        <ControlButton onClick={zoomOut}>\n          -\n        </ControlButton>\n        <ControlButton onClick={zoomIn}>\n          +\n        </ControlButton>\n        <ControlButton onClick={rescale}>\n          Recentrer\n        </ControlButton>\n        </li>\n        <li className=\"vis-controls-item\">\n          <form onSubmit={e => e.preventDefault()}>\n            <input type=\"text\" onChange={handleSearchChange} placeholder=\"rechercher\" value={searchString} />\n          </form>\n        </li>\n        \n        <li className=\"vis-controls-item\">\n          <VariablesEditor\n            {\n              ...{\n                options: filtersOptions,\n                variables: [{\n                    title: 'Taille des noeuds',\n                    onChange: onNodeSizeVariableChange,\n                    value: nodeSizeVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Couleur des noeuds',\n                    value: nodeColorVariable,\n                    onChange: onNodeColorVariableChange,\n                    type: 'color'\n                  },\n                  {\n                    title: 'Label des noeuds',\n                    value: nodeLabelVariable,\n                    onChange: onNodeLabelVariableChange,\n                    type: 'string'\n                  },\n                  {\n                    title: 'Afficher tous les labels',\n                    onChange: () => onDisplayAllLabelsChange(!displayAllLabels),\n                    localOptions: [[\n                      false,\n                      {title: 'non'}\n                    ], [\n                      true,\n                      {title: 'oui'}\n                    ]],\n                    value: displayAllLabels,\n                    type: 'boolean'\n                  },\n                ],\n              }\n            }\n          />\n        </li>\n        \n        <li className=\"vis-controls-item\">\n        <FiltersEditor\n          {\n            ...{\n              onToggleFiltersModeAnd,\n              filtersModeAnd,\n              filtersOptions,\n              onFiltersChange,\n              filters\n            }\n          }\n        />\n        </li>\n        <li className=\"vis-controls-item slider-wrapper\">\n          <form onSubmit={e => e.preventDefault()}>\n            <h5>Densit des labels</h5>\n            <div className=\"slider-container\">\n                <DebouncedSlider\n                  defaultValue={labelDensity}\n                  onChange={debounce(onLabelDensityChange, 300)}\n                />\n              </div>\n          </form>\n        </li>\n        {\n            nodeColorVariable && nodeColorVariable !== 'default' ?\n            <ColorLegend\n              colorPalette={colorPalette}\n              onChange={onColorPaletteChange}\n            />\n            : null\n          }\n      </ul>\n    </>\n  );\n}","import Color from 'color';\nimport {scaleLinear} from 'd3-scale';\nimport {evalIfNodeMatches} from '../../helpers/misc';\n\n\n// Defaults\nconst DEFAULT_NODE_COLOR = '#999';\nconst DEFAULT_NODE_SIZE_RANGE = [2, 15];\n\nexport function createNodeReducer({\n  nodeColor,\n  nodeSize,\n  nodeLabel,\n  nodeSizeFactor = 1,\n  extents,\n  filters = [],\n  filtersModeAnd,\n  colorPalette,\n}) {\n  let nodeSizeScale = null;\n\n  // Creating scales\n  if (!nodeSize) {\n    nodeSizeScale = scaleLinear()\n      .domain([extents.nodeSize.min, extents.nodeSize.max])\n      .range(DEFAULT_NODE_SIZE_RANGE);\n  } else {\n    nodeSizeScale = scaleLinear()\n      .domain([nodeSize.min, nodeSize.max])\n      .range(DEFAULT_NODE_SIZE_RANGE);\n  }\n  // Creating actual reducer\n  const nodeReducer = function (key, attr) {\n    const renderedNode = {\n      x: attr.x,\n      y: attr.y\n    };\n\n    // Color\n    if (!nodeColor) {\n      renderedNode.color = attr.color || DEFAULT_NODE_COLOR;\n    } else if (colorPalette) {\n      renderedNode.color = colorPalette[attr[nodeColor.name]] ||DEFAULT_NODE_COLOR;\n    } else {\n      renderedNode.color =\n        nodeColor.palette[attr[nodeColor.name]] || DEFAULT_NODE_COLOR;\n    }\n    // Size\n    if (!nodeSize) {\n      let v = attr.size || 1;\n      renderedNode.size = nodeSizeScale(v);\n    } else {\n      let v = attr[nodeSize.name];\n      v = typeof v === 'number' ? v : 1;\n      renderedNode.size = nodeSizeScale(v);\n    }\n\n    renderedNode.size *= nodeSizeFactor;\n\n    // Label\n    if (!nodeLabel) {\n      renderedNode.label = attr.label || key;\n    } else {\n      renderedNode.label = nodeLabel === 'default' ? attr.label || key : attr[nodeLabel] || '';\n    }\n    // renderedNode.label = renderedNode.label === '' ? 'coucou': renderedNode.label;\n\n    // // hidden\n    if (filters.length && evalIfNodeMatches(attr, filters, filtersModeAnd) === false) {\n      renderedNode.hidden = true;\n      renderedNode.label = '';\n    } else {\n      renderedNode.hidden = false;\n    }\n\n    return renderedNode;\n  };\n\n  return nodeReducer;\n}\n\n\nexport function createEdgeReducer({\n  nodeColor,\n  nodeSize,\n  // nodeLabel,\n  // nodeSizeFactor = 1,\n  // extents,\n  // filters = [],\n  // filtersModeAnd,\n  edgesMap,\n  colorPalette,\n}) {\n\n  \n  // Creating actual reducer\n  const edgeReducer = function (key, attr, el1, el2) {\n    const {\n      sourceNode, \n      targetNode\n    } = edgesMap.get(key);\n    const renderedEdge = {};\n    // color with biggest node\n    const sourceNodeSize = nodeSize ? sourceNode[nodeSize.name] : sourceNode.size;\n    const targetNodeSize = nodeSize ? targetNode[nodeSize.name] : targetNode.size;\n    const biggerNode = sourceNodeSize > targetNodeSize ? sourceNode : targetNode;\n\n    // Color\n    if (biggerNode) {\n      if (!nodeColor) {\n        renderedEdge.color = biggerNode.color || DEFAULT_NODE_COLOR;\n      } else if (colorPalette) {\n        renderedEdge.color = colorPalette[biggerNode[nodeColor.name]] ||DEFAULT_NODE_COLOR;\n      }  else {\n        renderedEdge.color =\n          nodeColor.palette[biggerNode[nodeColor.name]] || DEFAULT_NODE_COLOR;\n      }\n      renderedEdge.color = Color(renderedEdge.color).lighten(0.4).rgb().string();\n    }\n    return renderedEdge;\n  };\n\n  return edgeReducer;\n}","import iwanthue from 'iwanthue';\n\nconst DEFAULT_COLOR_SPACE = {\n  cmin: 25.59,\n  cmax: 55.59,\n  lmin: 60.94,\n  lmax: 90.94\n};\n\nconst SINGLE_COLOR_PALETTE = ['#999'];\n\nexport function generatePalette(name, count) {\n  if (count === 1 || !count) return SINGLE_COLOR_PALETTE;\n  else if (count === 2) {\n    return ['#D77186', '#61A2DA']\n  }\n\n  return iwanthue(count, {\n    colorSpace: DEFAULT_COLOR_SPACE,\n    seed: name,\n    clustering: 'force-vector'\n  });\n}","import DebouncedInput from './DebouncedInput';\n\nexport default DebouncedInput;","\n\nimport debounce from 'lodash/debounce';\nimport {useState, useEffect, useMemo} from 'react';\nimport Textarea from 'react-textarea-autosize';\n\nexport default function DebouncedInput({\n  value: propsValue,\n  onChange: propsOnChange,\n  type = 'input',\n  ...rest\n}) {\n  const [value, setValue] = useState(propsValue);\n\n  useEffect(() => {\n    setValue(propsValue);\n  }, [propsValue]);\n\n  const propagateChange = useMemo(() => debounce(propsOnChange, 300), [propsOnChange]);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n    propagateChange(e.target.value);\n  }\n  if (type === 'input') {\n    return (\n      <input\n        value={value}\n        onChange={handleChange}\n        {...rest}\n      />\n    );\n  }\n  return (\n    <Textarea\n      value={value}\n      onChange={handleChange}\n      {...rest}\n    />\n  );\n}","import React, {useCallback, useRef, useState, useEffect, useMemo} from 'react';\n// import Graph from 'graphology';\nimport {WebGLRenderer} from 'sigma';\nimport {scaleLinear} from 'd3-scale';\n// import colorParse from 'parse-color';\nimport {min, max} from 'd3-array';\nimport ContainerDimensions from 'react-container-dimensions';\n\nimport {\n  usePrevious, \n} from './hooks';\nimport GraphControls from './GraphControls';\nimport {createNodeReducer, createEdgeReducer} from './reducers';\nimport {generatePalette} from '../../helpers/palettes';\nimport Input from '../DebouncedInput';\n\nimport './GraphContainer.css';\nimport { evalIfNodeMatches } from '../../helpers/misc';\n\n\n\n// Camera controls\nfunction rescale(renderer) {\n  const camera = renderer.getCamera();\n  camera.animatedReset(renderer);\n}\n\nfunction zoomIn(renderer) {\n  const camera = renderer.getCamera();\n  camera.animatedZoom(renderer);\n}\n\nfunction zoomOut(renderer) {\n  const camera = renderer.getCamera();\n  camera.animatedUnzoom(renderer);\n}\n\n\nexport function GraphContainer({\n  graph,\n  width = 500,\n  height = 500,\n  // nodeColor,\n  // nodeSize,\n  labelDensity,\n  displayAllLabels,\n  extents,\n\n  searchString = '',\n  onSearchStringChange,\n\n  filtersModeAnd,\n  onToggleFiltersModeAnd,\n\n  filtersOptions = {},\n  filters = [],\n  onFiltersChange,\n\n  onCameraUpdate,\n  presentationMode,\n\n  cameraPosition,\n\n  updateTimestamp,\n  title,\n  legend,\n\n  nodeSizeVariable,\n  nodeColorVariable,\n  colorPalette,\n  nodeLabelVariable,\n  onNodeSizeVariableChange,\n  onNodeColorVariableChange,\n  onNodeLabelVariableChange,\n  onLabelDensityChange,\n  onColorPaletteChange,\n  onTitleChange,\n  onLegendChange,\n  onDisplayAllLabelsChange,\n}) {\n  const CELL_HEIGHT_RANGE = [height / 5, 1];\n  const CELL_WIDTH_RANGE = [width / 5, 1];\n\n  // const CELL_HEIGHT_RANGE = [200, 10];\n  // const CELL_WIDTH_RANGE = [300, 30];\n\n  const cellHeightScale = scaleLinear().domain([0, 1]).range(CELL_HEIGHT_RANGE);\n  const cellWidthScale = scaleLinear().domain([0, 1]).range(CELL_WIDTH_RANGE);\n\n\n  const nodeSize = useMemo(() => {\n    if (nodeSizeVariable && nodeSizeVariable !== 'default' && filtersOptions[nodeSizeVariable]) {\n      const values = Array.from(filtersOptions[nodeSizeVariable].options)\n      return {\n        min: min(values),\n        max: max(values),\n        name: nodeSizeVariable\n      }\n    } else return undefined;\n  }, [nodeSizeVariable])\n\n  const nodeColor = useMemo(() => {\n    if (nodeColorVariable && nodeColorVariable !== 'default' && filtersOptions[nodeColorVariable]) {\n      const colors = generatePalette(nodeColorVariable, filtersOptions[nodeColorVariable].options.size);\n      let palette = {};\n      let i = 0;\n      filtersOptions[nodeColorVariable].options.forEach(option => {\n        palette[option] = colors[i];\n        i++;\n      });\n      return {\n        palette,\n        name: nodeColorVariable\n      }\n    } else if(nodeColorVariable && nodeColorVariable !== 'default' && colorPalette) {\n      return {\n        palette: colorPalette,\n        name: nodeColorVariable\n      }\n    } else return undefined;\n  }, [nodeColorVariable])\n\n  const edgesMap = useMemo(() => {\n    const m = new Map()\n    graph.forEach(\n      (_source, _target, sourceAttributes, targetAttributes, edge, _edgeAttributes) => {\n      m.set(edge, {sourceNode: sourceAttributes, targetNode: targetAttributes})\n    });\n    return m;\n  }, [graph])\n\n  const previousNodeColor = usePrevious(nodeColor);\n  const previousNodeSize = usePrevious(nodeSize);\n  const previousNodeLabelVariable = usePrevious(nodeLabelVariable);\n  const previousLabelDensity = usePrevious(labelDensity);\n  const previousSearchString = usePrevious(searchString);\n  const previousFilters = usePrevious(filters);\n  const previousColorPalette = usePrevious(colorPalette);\n  const previousFiltersModeAnd = usePrevious(filtersModeAnd);\n  const previousDisplayAllLabels = usePrevious(displayAllLabels);\n\n  const nodeReducer = createNodeReducer({\n    nodeColor,\n    nodeSize,\n    nodeLabel: nodeLabelVariable,\n    extents,\n    filters,\n    filtersModeAnd,\n    colorPalette,\n  });\n  \n  const edgeReducer = createEdgeReducer({\n    nodeColor,\n    colorPalette,\n    // nodeSize,\n    // nodeLabel,\n    // extents,\n    filters,\n    filtersModeAnd,\n    edgesMap,\n  });\n\n  const container = useRef(null);\n  const [renderer, setRenderer] = useState(null);\n\n\n  useEffect(() => {\n    if (cameraPosition && renderer) {\n        const camera = renderer.getCamera();\n        // console.log('animate camera', camera);\n        camera.animate(cameraPosition);     \n    }  \n  }, [updateTimestamp])\n\n  // Should we refresh?\n  if (renderer) {\n    let needToRefresh = false;\n\n    if (\n      previousNodeColor !== nodeColor ||\n      previousNodeSize !== nodeSize ||\n      previousNodeLabelVariable !== nodeLabelVariable ||\n      previousColorPalette !== colorPalette ||\n      // previousSearchString !== searchString ||\n      JSON.stringify(previousFilters) !== JSON.stringify(filters) ||\n      previousFiltersModeAnd !== filtersModeAnd\n    ) {\n      // console.log('Refreshing sigma');\n\n      // TODO: use upcoming #.setNodeReducer\n      renderer.settings.nodeReducer = nodeReducer;\n      renderer.settings.edgeReducer = edgeReducer;\n      needToRefresh = true;\n    }\n\n    if (previousLabelDensity !== labelDensity) {\n      let actualLabelDensity = labelDensity > 1 ? 1 : labelDensity;\n      const cellWidth = cellWidthScale(actualLabelDensity);\n      const cellHeight = cellHeightScale(actualLabelDensity);\n      renderer.settings.labelGrid.cell = {\n        width: cellWidth,\n        height: cellHeight\n      };\n\n      // TODO from nansi: we can improve sigma to handle this\n      renderer.displayedLabels = new Set();\n      needToRefresh = true;\n    }\n\n    // workaround for clusters titles display\n    // @todo replace this with a cleaner solution at some point\n    if ((\n      previousDisplayAllLabels !== displayAllLabels || !previousDisplayAllLabels || renderer.displayedLabels.size === 0\n      || previousNodeLabelVariable !== nodeLabelVariable || JSON.stringify(previousFilters) !== JSON.stringify(filters)\n      ) && displayAllLabels) {\n      graph.forEachNode((id, attributes) => {\n        const {label} = attributes;\n        \n        const displayedLabel = nodeLabelVariable && nodeLabelVariable !== 'default' ? attributes[nodeLabelVariable] : label;\n        if (evalIfNodeMatches(attributes, filters, filtersModeAnd) && displayedLabel && displayedLabel.trim().length > 0) {\n          renderer.highlightNode(id)\n        } else {\n          renderer.unhighlightNode(id);\n        }\n      })\n      needToRefresh = true;\n    } else if (previousDisplayAllLabels !== displayAllLabels && !displayAllLabels) {\n      renderer.highlightedNodes = new Set();\n      needToRefresh = true;\n    }\n\n    if (previousSearchString !== searchString) {\n      if (searchString.length >= 3) {\n        graph.forEachNode((id, attributes) => {\n          const {label} = attributes;\n          if (label.toLowerCase().includes(searchString.toLowerCase())) {\n            renderer.highlightNode(id)\n          } else renderer.unhighlightNode(id)\n        })\n      } else if (renderer.highlightedNodes.size > 0) {\n        renderer.highlightedNodes = new Set();\n      }\n      needToRefresh = true;\n    }\n\n    if (needToRefresh) {\n      renderer.refresh();\n    }\n  }\n\n  const setContainer = useCallback(\n    node => {\n      if (renderer && renderer.graph !== graph) {\n        renderer.kill();\n        setRenderer(null);\n      }\n\n      if (node && graph) {\n        setTimeout(() => {\n          const newRenderer = new WebGLRenderer(graph, node, {nodeReducer, edgeReducer});\n          let actualLabelDensity = labelDensity > 1 ? 1 : labelDensity;\n          const cellWidth = cellWidthScale(actualLabelDensity);\n          const cellHeight = cellHeightScale(actualLabelDensity);\n          newRenderer.settings.labelGrid.cell = {\n            width: cellWidth,\n            height: cellHeight\n          };\n          newRenderer.settings.labelSize = 12;\n          newRenderer.settings.labelFont = 'Fira Sans';\n          newRenderer.displayedLabels = new Set();\n          newRenderer.refresh();\n          setRenderer(newRenderer);\n          const camera = newRenderer.getCamera();\n          if (cameraPosition) {\n            onCameraUpdate({\n              ...camera.getState(),\n              ...cameraPosition\n            })\n          } else {\n            onCameraUpdate(camera.getState())\n          }\n          camera.on('updated', state => {\n            onCameraUpdate(state);\n          })\n        })\n       \n          \n        }\n\n        container.current = node;\n    },\n    [graph] /* eslint react-hooks/exhaustive-deps : 0 */\n  );\n  return (\n    <>\n\n      <div ref={setContainer} style={{width: '100%', height: '100%'}}></div>\n      {renderer && !presentationMode && (\n        <>\n          <GraphControls\n            rescale={rescale.bind(null, renderer)}\n            zoomIn={zoomIn.bind(null, renderer)}\n            zoomOut={zoomOut.bind(null, renderer)}\n            {\n              ...{\n                searchString,\n                onSearchStringChange,\n                filtersModeAnd,\n                onToggleFiltersModeAnd,\n                filtersOptions,\n                filters,\n                onFiltersChange,\n                nodeSizeVariable,\n                nodeColorVariable,\n                nodeLabelVariable,\n                labelDensity,\n                displayAllLabels,\n                onNodeSizeVariableChange,\n                onNodeColorVariableChange,\n                onNodeLabelVariableChange,\n                onColorPaletteChange,\n                onLabelDensityChange,\n                onDisplayAllLabelsChange,\n                colorPalette: colorPalette,\n              }\n            }\n          />\n          <form onSubmit={e => {e.preventDefault()}} className=\"caption-editor-container\">\n            <h1 className=\"caption-title-container\">\n              <Input\n                value={title || ''}\n                onChange={val => onTitleChange(val)}\n                placeholder=\"Titre de la visualisation\"\n              />\n            </h1>\n            <div className=\"caption-legend-container\">\n              <Input\n                value={legend || ''}\n                type=\"textarea\"\n                onChange={val => onLegendChange(val)}\n                placeholder=\"Lgende de la visualisation\"\n              />\n            </div>\n          </form>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default function GraphContainerWithDimensions(props) {\n  return (\n    <div className=\"VisContainer GraphContainer\">\n\n    <ContainerDimensions>\n      {\n        dimensions => <GraphContainer {...{...props, ...dimensions}} />\n      }\n    </ContainerDimensions>\n    </div>\n  )\n}","import React, {useMemo, useState, useEffect} from 'react';\nimport {NavLink} from 'react-router-dom';\nimport Helmet from 'react-helmet';\nimport Graph from 'graphology';\nimport gexf from 'graphology-gexf';\nimport {extent} from 'd3-array';\nimport cx from 'classnames';\n\nimport Loader from '../Loader';\nimport Nav from '../Nav';\n\nimport frMetadata from '../../contents/fr/metadata';\nimport enMetadata from '../../contents/en/metadata';\nimport {homepage} from '../../../package.json';\n\nimport {GraphContainer} from '../GraphAnnotation/GraphContainer'\n\nconst GraphWrapper = ({data, ...props}) => {\n  const [cameraPosition, setCameraPosition] = useState({x: props.x, y: props.y, ratio: props.ratio})\n  useEffect(() => {\n    setCameraPosition({\n      x: props.x, y: props.y, ratio: props.ratio\n    })\n  }, [props.x, props.y, props.ratio])\n  const graph = useMemo(() => {\n    return gexf.parse(Graph, data);\n  }, [data]);\n\n  const onCameraUpdate = (pos) => {\n    setCameraPosition(pos);\n  }\n  let sizes = [];\n  graph.forEachNode((node, attributes) => {\n    sizes.push(attributes.size);\n  })\n  const sizeExtent = extent(sizes);\n  return (\n    <div style={{width: props.width, height: props.height}}>\n    <GraphContainer\n      {...{\n        ...props,\n        graph,\n        extents: {\n          nodeSize: {\n            min: sizeExtent[0],\n            max: sizeExtent[1]\n          }\n        },\n        onCameraUpdate,\n        cameraPosition,\n      }\n      }\n    />\n    </div>\n  );\n}\n\nconst LanguageToggler = ({lang}) => {\n  return (\n    <ul className=\"LanguageToggler\">\n      <li>\n        <NavLink to=\"/publication/fr\">\n          fr\n        </NavLink>\n      </li>\n      <li>\n        <NavLink to=\"/publication/en\">\n          en\n        </NavLink>\n      </li>\n    </ul>\n  )\n}\n\nconst Header = ({\n  lang, \n  routes,\n  onRouteNav,\n  isVisible,\n  activeSectionIndex,\n  graphData,\n  loadingFraction,\n  onScrollToTop,\n  onScrollToFirstSection\n}) => {\n  const meta = lang === 'fr' ? frMetadata : enMetadata;\n  const {\n    title,\n    description,\n    creators,\n    generalAuthor,\n    publicationDate\n  } = meta;\n  const preventScroll = e => {\n    e.preventScroll();\n    e.stopPropagation();\n    e.preventDefault();\n  }\n  return (\n    <header className={cx(\"Header\", {'is-visible': isVisible})}>\n      <Helmet>\n        <html lang={lang} />\n        <meta charSet={ 'UTF-8' } />\n        <title>{title}</title>\n        {/*<!-- META DUBLIN CORE -->*/}\n        <meta\n          name={ 'DC.Title' }\n          lang={ 'fr' }\n          content={ title }\n        />\n        <meta\n          name={ 'DC.Date.created' }\n          schema={ 'W3CDTF' }\n          content={ publicationDate }\n        />\n\n        {\n          creators.reduce((total, group) => {\n            return group.people.reduce((total2, people) => {\n              return [\n                ...total2,\n                <meta\n                  key={ people }\n                  name={ 'DC.creator' }\n                  content={ `people` }\n                />\n              ]\n            }, total)\n          }, [])\n          \n        }\n        <meta\n          name={ 'DC.issued' }\n          lang={ 'fr' }\n          content={ publicationDate }\n        />\n        <meta\n          name={ 'DC.Date.created' }\n          schema={ 'W3CDTF' }\n          content={ publicationDate }\n        />\n        {\n            // tags.map((thatTag, index) => <meta key={index} name=\"DC.subject\" xml:lang=\"en-GB\" content={thatTag} />)\n          }\n        {/*<!-- END META DUBLIN CORE -->*/}\n\n        {/*<!-- REGULAR META -->*/}\n        <meta\n          name={ 'author' }\n          content={ \n            creators.reduce((total, group) => {\n              return group.people.reduce((total2, people) => {\n                return [\n                  ...total2,\n                  people\n                ]\n              }, total)\n            }, []).join(', ')\n           }\n        />\n        <meta\n          name={ 'description' }\n          content={ description }\n        />\n        <meta\n          name={ 'viewport' }\n          content={ 'user-scalable=no,width=device-width' }\n        />\n        {/*<!-- END REGULAR META -->*/}\n\n        {/*<!-- META TWITTER -->*/}\n        <meta\n          name={ 'twitter:card' }\n          value={ 'summary' }\n        />\n        <meta\n          name={ 'twitter:site' }\n          content={ homepage }\n        />\n        <meta\n          name={ 'twitter:title' }\n          content={ title }\n        />\n        <meta\n          name={ 'twitter:description' }\n          content={ description }\n        />\n        {/*<!-- todo : Twitter Summary card images must be at least 200x200px -->*/}\n        {/*<meta name=\"twitter:image\" content=\"xxx\">*/}\n        {/*<!-- end meta twitter-->*/}\n\n        {/*<!-- META GOOGLE + -->*/}\n        <meta\n          itemProp={ 'name' }\n          content={ title }\n        />\n        <meta\n          itemProp={ 'description' }\n          content={ description }\n        />\n        {/*<meta itemProp=\"image\" content=\"https://peritex.surge.sh/bulgur-rs.png\">*/}\n        {/*<!-- END META GOOGLE + -->*/}\n\n        {/*<!-- META OPEN GRAPH / FACEBOOK -->*/}\n        <meta\n          property={ 'og:title' }\n          content={ title }\n        />\n        <meta\n          property={ 'og:type' }\n          content={ 'website' }\n        />\n        <meta\n          property={ 'og:url' }\n          content={ homepage }\n        />\n        <meta\n          property={ 'og:description' }\n          content={ description }\n        />\n      </Helmet>\n      <LanguageToggler lang={lang} />\n      <div onClick={onScrollToTop} className=\"running-title\">\n        <h1>{title}</h1>\n      </div>\n      <div className=\"header-main\">\n           <h2 className=\"general-author\">\n             {generalAuthor}\n           </h2>\n           <div className=\"main-title-container\">\n            <h1 className=\"main-title\">\n              {title}\n            </h1>\n           </div>\n           <ul className=\"creators\">\n             {\n               creators.map(({role, people}) => (\n                 <li key={role}>\n                   <div className=\"role\">{role}</div>\n                   <ul className=\"people-container\">\n                     {\n                       people.map(person => (\n                         <li className=\"person\" key={person}>{person}</li>\n                       ))\n                     }\n                   </ul>\n                 </li>\n               ))\n             }\n           </ul>\n      </div>\n      <div className=\"header-secondary\">\n        {/* Summary */}\n        <Nav \n          lang={lang} \n          onRouteNav={onRouteNav} \n          routes={routes} \n          isDeployed={isVisible}\n          activeSectionIndex={activeSectionIndex}\n        />\n        {/* rseau */}\n        <div\n          onScroll={preventScroll}\n          className={cx(\"GraphWrapperContainer\", {'has-visualization': graphData !== undefined})}\n        >\n          {\n            graphData ?\n            <GraphWrapper\n              data={graphData}\n              presentationMode={true}\n              width={500}\n              height={500}\n              x={0.5} \n              y={0.5} \n              ratio={0.8} \n              displayAllLabels={true}\n              nodeColorVariable={'cluster_rename'} \n              nodeLabelVariable={'cluster_label'} \n              labelDensity={1} \n              colorPalette={{\"Future_of_AI\":\"#f17325\",\"Profiling_Algorthms\":\"#2cab57\",\"Job_Automation\":\"#f5253e\",\"Market_&_Prices\":\"#6bc06c\",\"Predictive_Algorithms\":\"#adcd24\",\"Web_Algorithms\":\"#d8dd0d\",\"Facial_Recognition\":\"#54a5e8\",\"Voice_Assistant\":\"#106f88\",\"DeepDream_Nightmares\":\"#e1194a\",\"Health_Algorithms\":\"#fa8566\",\"Autonomous_Cars\":\"#e9c33f\",\"Game_&_Education\":\"#a1943c\",\"Chatbot\":\"#32968a\",\"Consumer_&_Copyright\":\"#f49c57\",\"Killer_Robots\":\"#4650ee\",\"Robo-Advisers\":\"#19d2d4\",\"Sex_Robots\":\"#e94d6c\",\"Deepfake\":\"#4f990f\",\"Image_Search\":\"#2ea2b3\",\"Scientific_Research\":\"#cff157\",\"Music\":\"#18a1bc\",\"Email\":\"#ffb7e0\",\"Deep_Voice\":\"#799c89\"}} \n            />\n            :\n            <Loader percentsLoaded={loadingFraction * 100} />\n          }\n        \n        </div>\n        \n      </div>\n      <button onClick={onScrollToFirstSection} className=\"starter-button\">\n      \n      </button>\n    </header>\n  )\n}\n\nexport default Header;","import Header from './Header';\n\nexport default Header;","import Footer from './Footer';\n\nexport default Footer;","import React, {useContext/*, useMemo, Suspense*/} from 'react';\nimport { LanguageContext } from '../../contexts';\n\nimport Fr from '!babel-loader!mdx-loader!../../contents/fr/footer.mdx';\nimport En from '!babel-loader!mdx-loader!../../contents/en/footer.mdx';\n\nconst Footer = () => {\n  const {lang} = useContext(LanguageContext);\n  // const Content = useMemo(() => {\n  //   return  React.lazy(() => import(`!babel-loader!mdx-loader!../../contents/${lang}/footer.mdx`));\n  // }, [lang])\n  return (\n    <footer className=\"Footer\">\n      {\n        lang === 'fr' ? <Fr /> : <En />\n      }\n      {/* <Suspense fallback={() => <div>{lang === 'fr' ? 'Chargement' : 'Loading'}</div>}>\n        <Content />\n      </Suspense> */}\n    </footer>\n  )\n}\n\nexport default Footer;","import React, {useState} from 'react';\nimport cx from 'classnames';\n\nimport VariablesEditor from '../VariablesEditor';\nimport ColorLegend from '../ColorLegend';\nimport FiltersEditor from '../FiltersEditor';\n\n\n\nexport default function LinearGraphControls({\n  xVariable,\n  xLabelVariable,\n  // reverseX,\n  graphType,\n  yVariable,\n  // reverseY,\n\n  colorVariable,\n  // searchString,\n  useRelativeScale,\n\n  onToggleFiltersModeAnd,\n  filtersModeAnd,\n  onFiltersChange,\n  filters,\n  normalizeY,\n\n  // onSearchStringChange,\n  onToggleUseRelativeScale,\n  onGraphTypeChange,\n  \n  onXVariableChange,\n  onXLabelVariableChange,\n  onYVariableChange,\n  onColorVariableChange,\n\n  onColorPaletteChange,\n  onNormalizeYChange,\n\n  // onToggleReverseX,\n  // onToggleReverseY,\n  \n  filtersOptions,\n  colorPalette,\n}) {\n  // const handleSearchChange = e => onSearchStringChange(e.target.value);\n  const [isMinified, setIsMinified] = useState(true)\n  return (\n    <>\n      <button onClick={() => setIsMinified(!isMinified)} className={cx('minify-button', {'is-active': !isMinified})}>\n        {'diter'}\n      </button>\n      <ul className={cx(\"VisControls\", {'is-minified': isMinified})}>\n        \n        {/* <li className=\"vis-controls-item\">\n        <form onSubmit={e => e.preventDefault()}>\n          <input type=\"text\" onChange={handleSearchChange} placeholder=\"rechercher\" value={searchString} />\n        </form>\n        </li> */}\n        <li className=\"vis-controls-item\">\n          <VariablesEditor\n            {\n              ...{\n                options: filtersOptions,\n                variables: [\n                  {\n                    title: 'Type de graphe',\n                    onChange: onGraphTypeChange,\n                    localOptions: [[\n                      'linegraph',\n                      {title: 'lignes'}\n                    ], [\n                      'histogram',\n                      {title: 'histogramme'}\n                    ]],\n                    value: graphType,\n                    type: 'string'\n                  },\n                  {\n                    title: 'Variable des X',\n                    onChange: onXVariableChange,\n                    value: xVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Label des X',\n                    onChange: onXLabelVariableChange,\n                    value: xLabelVariable,\n                    type: 'string'\n                  },\n                  // {\n                  //   title: 'Inverser les x',\n                  //   onChange: onToggleReverseX,\n                  //   value: reverseX,\n                  //   type: 'boolean'\n                  // },\n                  {\n                    title: 'Label des Y',\n                    onChange: onYVariableChange,\n                    value: yVariable,\n                    type: 'number'\n                  },\n                  // {\n                  //   title: 'Inverser les y',\n                  //   onChange: onToggleReverseY,\n                  //   value: reverseY,\n                  //   type: 'boolean'\n                  // },\n                  {\n                    title: 'Utiliser une chelle relative pour les Y quand filtr',\n                    onChange: onToggleUseRelativeScale,\n                    value: useRelativeScale,\n                    type: 'boolean'\n                  },\n                  {\n                    title: 'Couleur des points',\n                    onChange: onColorVariableChange,\n                    value: colorVariable,\n                    type: 'color'\n                  },\n                  {\n                    title: 'Normaliser les Y',\n                    onChange: onNormalizeYChange,\n                    value: normalizeY,\n                    type: 'boolean'\n                  },\n                  // {\n                  //   title: 'Labels des points',\n                  //   onChange: onLabelVariableChange,\n                  //   value: labelVariable,\n                  //   type: 'string'\n                  // },\n                ],\n              }\n            }\n          />\n        </li>\n        <li className=\"vis-controls-item\">\n          <FiltersEditor\n            {\n              ...{\n                onToggleFiltersModeAnd,\n                filtersModeAnd,\n                filtersOptions,\n                onFiltersChange,\n                filters\n              }\n            }\n          />\n        </li>\n        {\n            colorVariable && colorVariable !== 'default' ?\n            <ColorLegend\n              colorPalette={colorPalette}\n              onChange={onColorPaletteChange}\n            />\n            : null\n        }\n      </ul>\n    </>\n  );\n}","import React, {useMemo} from 'react';\nimport ContainerDimensions from 'react-container-dimensions';\nimport {scaleLinear} from 'd3-scale';\nimport {extent, group} from 'd3-array';\nimport Input from '../DebouncedInput';\n\n\nimport LinearGraphControls from './LinearGraphControls';\nimport {generatePalette} from '../../helpers/palettes';\nimport {evalIfNodeMatches} from '../../helpers/misc';\n\nimport './LinearGraphContainer.css';\nimport { max, uniqBy } from 'lodash';\n\nexport function LinearGraphContainer({\n\n  width, \n  height,\n  data,\n\n  xVariable,\n  xLabelVariable,\n  reverseX,\n  yVariable,\n  reverseY,\n  sizeVariable,\n  colorVariable,\n  labelVariable,\n  colorPalette: inputColorPalette,\n  normalizeY,\n\n  title,\n  legend,\n\n  searchString = '',\n\n  graphType = 'linegraph',\n  useRelativeScale,\n\n  onSearchStringChange,\n  filtersOptions = {},\n\n  filtersModeAnd,\n  filters = [],\n  presentationMode,\n\n  \n  onToggleFiltersModeAnd,\n  onFiltersChange,\n  onXVariableChange,\n  onXLabelVariableChange,\n  onYVariableChange,\n  onColorVariableChange,\n  onSizeVariableChange,\n  onLabelVariableChange,\n  onToggleReverseX,\n  onToggleReverseY,\n  onColorPaletteChange,\n  onGraphTypeChange,\n  onToggleUseRelativeScale,\n  onNormalizeYChange,\n\n  onTitleChange,\n  onLegendChange,\n}) {\n \n  // const smallestDimension = min([width, height])\n  const WIDTH = width;\n  const HEIGHT = height;\n\n  // set scales dimensions and scale\n  const MARGIN = WIDTH / 10;\n\n  let xRange = [MARGIN, WIDTH - MARGIN / 2];\n  let yRange = [HEIGHT - MARGIN, MARGIN];\n\n\n  const xLabelMap = useMemo(() => {\n    return data.reduce((dict, datum) => {\n      const labelVariable = xLabelVariable === 'default' ? xVariable : xLabelVariable;\n      return {\n        ...dict,\n        [datum[xVariable]]: datum[labelVariable]\n      }\n    }, {})\n\n  }, [data, xVariable, xLabelVariable])\n  \n  // build visualization groups\n  let dataGroups = [[undefined, data]]\n  if (colorVariable) {\n    dataGroups = Array.from(group(data, d => d[colorVariable]));\n  } \n\n  // reduce items\n  dataGroups = dataGroups.map(([_id, values]) => {\n    const xGroups = Array.from(group(values, d => d[xVariable])).map(([x, ys]) => {\n      return {\n        x: +x, \n        // aggregate ys\n        y: ys.reduce((sum, y) => sum + (+y[yVariable]), 0),\n        filteredY: ys.filter(d => filters.length ? evalIfNodeMatches(d, filters, filtersModeAnd) : true).reduce((sum, y) => sum + (+y[yVariable]), 0),\n        xValue: x\n      }\n    })\n    return [_id, xGroups]\n  });\n \n  // refactorize by x for stacked barchart\n  if (graphType === 'histogram') {\n    const xMap = dataGroups.reduce((res, [color, values]) => {\n      return values.reduce((res2, value) => {\n        const x = value.x;\n        const transformedValue = {...value, color};\n        return {\n          ...res2,\n          [x]: res2[x] ? [...res2[x], transformedValue] : [transformedValue]\n        }\n      }, res)\n    }, {})\n    // turn datagroup to an array of [x, list of related objects]\n    dataGroups = Object.entries(xMap);\n  }\n  let getX, getY;\n  const yPropToFilter = useRelativeScale ? 'filteredY' : 'y';\n  let xValues;\n  if (graphType === 'linegraph') {\n    // handling relative or global filter\n    const xExtent = extent(dataGroups.reduce((res, [_id, values]) => [...res, ...values.map(v => v.x)] , []));\n    getX = scaleLinear().range(xRange).domain(xExtent);\n    getY = scaleLinear().range(yRange).domain([0, max(dataGroups.map(([_id, values]) => max(values.map(v => v[yPropToFilter]))))]).nice();\n  } else if (graphType === 'histogram') {\n    const xExtent = extent(dataGroups.map(([x]) => +x));\n    getX = scaleLinear().range(xRange).domain(xExtent);\n    xValues = uniqBy(dataGroups, d => d[0])\n    // y scale domain is the biggest sum for each x modality\n    getY = scaleLinear().range(yRange).domain([0, max(dataGroups.map(([_x, list]) => list.reduce((sum, item) => sum + item[yPropToFilter] , 0)))]).nice();\n  }\n\n   // apply filter\n   if (filters.length && colorVariable) {\n    const filtersAffectingColor = filters.filter(f => f.attribute === colorVariable);\n    if (graphType === 'linegraph') {\n      dataGroups = dataGroups.filter(([colorValue, values]) => {\n        if (filtersAffectingColor) {\n          if (filtersModeAnd) {\n            const oneFilterDoesNotMatches = filtersAffectingColor.find(({ attribute, value }) => colorValue !== '' + value) !== undefined;\n            return !oneFilterDoesNotMatches;\n          } else {\n            const oneFilterMatches = filtersAffectingColor.find(({ attribute, value }) => colorValue === '' + value) !== undefined;\n            return oneFilterMatches;\n          }\n        } else {\n          return true;\n        }\n      })\n     } else if (graphType === 'histogram') {\n       // filtering groups\n      dataGroups = dataGroups.reduce((res, [xValue, values]) => {\n        if (filtersAffectingColor) {\n          const newValues = values.filter(value => {\n            if (filtersModeAnd) {\n              const oneFilterDoesNotMatches = filtersAffectingColor.find(({ attribute, value }) => value.color !== '' + value) !== undefined;\n              return !oneFilterDoesNotMatches;\n            } else {\n              const oneFilterMatches = filtersAffectingColor.find(({ attribute, value }) => value.color === '' + value) !== undefined;\n              return oneFilterMatches;\n            }\n          })\n          if (newValues.length) {\n            return [...res, [xValue, newValues]]\n          // all items filtered out -> do not include the group\n          } else return res;\n        // no filters, return as is\n        } else {\n          return [...res, [xValue, values]];\n        }\n      }, [])\n     }\n    \n  }\n    \n  \n  // manage palette\n  let colorPalette;\n  if (inputColorPalette) {\n    colorPalette = inputColorPalette;\n  }\n  else if (colorVariable && colorVariable !== 'default') {\n    const palette = generatePalette(colorVariable, filtersOptions[colorVariable].options.length);\n    colorPalette = filtersOptions[colorVariable].options.reduce((res, option, index) => ({\n      ...res,\n      [option]: palette[index]\n    }), {})\n  }\n  let getColor = (val) => {\n    return colorPalette ? colorPalette[val] : 'grey';\n  }\n\n  // handling search\n  let highlightedIndex;\n  if (searchString.length && labelVariable) {\n    highlightedIndex = new Set();\n    data.forEach((datum, index) => {\n      const label = datum[labelVariable].toLowerCase();\n      if (label.includes(searchString)) {\n        highlightedIndex.add(index);\n      }\n    })\n  }\n\n  if (reverseX) {\n    xRange = xRange.reverse();\n  }\n  if (reverseY) {\n    yRange = yRange.reverse();\n  }\n  let getYHisto\n  // preparing histogram stacking\n  if (graphType === 'histogram') {\n    dataGroups = dataGroups.map(([xValue, values]) => {\n      // let sum = 0;\n      const newValues = values\n      .sort((a, b) => {\n        if (a.color > b.color) {\n          return 1;\n        } else return -1;\n      })\n      .reduce((total, value, index) => {\n        const prev = index > 0 ? total[index - 1] : undefined;\n        const yDisplace = prev ? +prev.y + (prev.yDisplace || 0) : 0;\n\n        const newValue = {\n          ...value,\n          yDisplace,\n          y: +value.y,\n          x: +value.x\n        }\n        return [...total, newValue]\n      }, [])\n\n      return [xValue, newValues];\n    }, []);\n\n    dataGroups = dataGroups.sort((a, b) => {\n      if (+a[0] > +b[0]) {\n        return 1;\n      }\n      return -1;\n    });\n    if (normalizeY) {\n      dataGroups = dataGroups.map(([xValue, values]) => {\n        const sum = values.reduce((sum, v) => sum + v.y, 0);\n        const sumFiltered = values.reduce((sum, v) => sum + v.filteredY, 0);\n        return [\n          xValue,\n          values.map(v => {\n            return {\n              ...v,\n              yDisplace: v.yDisplace / sum,\n              y: v.y / sum,\n              filteredY: v.filteredY / sumFiltered,\n            }\n          })\n        ]\n      })\n    }\n    const maxStacked = max(dataGroups.map(([_xValue, values]) => values.reduce((sum, v) => sum + v.y, 0)));\n    getYHisto = scaleLinear()\n    // .range([MARGIN, HEIGHT - MARGIN])\n    .range([0, HEIGHT - MARGIN * 2])\n    .domain([0, normalizeY ? 1 : maxStacked]).nice()\n\n    getY\n    .domain([0, normalizeY ? 1 : maxStacked]).nice()\n\n  }\n    \n  return (\n    <>\n        <svg transform={`translate(0, ${-MARGIN/2})`} className=\"LinearGraph\" width={WIDTH} height={HEIGHT + MARGIN/2}>\n            <g>\n              \n              <g className=\"left-axis\">\n              {\n                getY.ticks &&\n                getY.ticks()\n                .map((tick, index) => {\n                  const x = MARGIN * .7;\n                  return (\n                    <g className=\"axis-element\" key={index}>\n                      <text textAnchor=\"end\" x={x} y={getY(tick)}>\n                        {tick}\n                      </text>\n                      \n                      <line\n                        x1={x  + MARGIN * .1}\n                        y1={getY(tick)}\n                        x2={MARGIN}\n                        y2={getY(tick)}\n                        stroke={'black'}\n                      />\n                      <line\n                        x1={MARGIN}\n                        y1={getY(tick)}\n                        x2={WIDTH - MARGIN / 2}\n                        y2={getY(tick)}\n                        stroke={'lightgrey'}\n                        strokeDasharray={'1, 2'}\n                      />\n                    </g>\n                  )\n                })\n              }\n                <line\n                  stroke={'black'}\n                  y1={MARGIN}\n                  y2={HEIGHT - MARGIN}\n                  x1={MARGIN}\n                  x2={MARGIN}\n                />\n              </g>\n              <g className=\"bottom-axis\">\n                <line\n                  stroke={'black'}\n                  y1={HEIGHT - MARGIN}\n                  y2={HEIGHT - MARGIN}\n                  x1={MARGIN}\n                  x2={WIDTH - MARGIN / 2}\n                />\n                {\n                getX.ticks &&\n                getX.ticks()\n                .map((tick, index) => {\n                  const y = HEIGHT - MARGIN * .75\n                  return (\n                    <g className=\"axis-element\" key={index}>\n                      <g transform={`translate(${getX(tick)} ${y})`}>\n                        <g transform={'rotate(-45)'}>\n                          <text \n                            textAnchor=\"end\"\n                          >\n                            {xLabelMap[tick]}\n                          </text>\n                        </g>\n                      </g>\n                      <line\n                        y1={HEIGHT - MARGIN}\n                        y2={y - MARGIN * .1}\n                        x1={getX(tick)}\n                        x2={getX(tick)}\n                        stroke={'black'}\n                      />\n                    </g>\n                  )\n                })\n                }\n              </g>\n              {\n                graphType === 'linegraph' ?\n                dataGroups.map(([colorValue, values], index) => {\n                  const firstX = getX(values[0].x);\n                  const firstY = getY(values[0].y);\n                  const color = colorVariable ? getColor(colorValue) : 'grey';\n                  const path = `M ${firstX} ${firstY} ${\n                    values\n                    .reduce((res, {x, y}) => {\n                      return `${res} L ${getX(x)} ${getY(y)}`\n                    }, '')\n                  }`\n                  return <>\n                    <path d={path} \n                      fill=\"transparent\" \n                      stroke={ colorVariable ? color : 'grey'}\n                      key={colorValue}\n                    />\n                    {\n                      values.map(({x, y}, index) => (\n                        <circle\n                          key={index}\n                          cx={getX(x)}\n                          cy={getY(y)}\n                          fill={ color }\n                          r={2}\n                        />\n                      ))\n                    }\n                  </>\n                })\n                : \n                <g className=\"histogram-objects\">\n                  {\n                    dataGroups.map(([xValue, values], index) => {\n                      return (\n                        <g key={index} className=\"x-group\">\n                          {\n                            values.map(({x, y, yDisplace, color}, index2) => {\n                              return (\n                                <rect\n                                  key={index2}\n                                  x={getX(x)}\n                                  y={HEIGHT - MARGIN - getYHisto(y) - getYHisto(yDisplace)}\n                                  height={getYHisto(y)}\n                                  width={ (WIDTH - MARGIN * 4) / xValues.length}\n                                  fill={getColor(color)}\n                                />\n                              )\n                            })\n                          }\n                        </g>\n                      )\n                     \n                    })\n                  }\n                </g>\n              }\n            </g>\n        </svg>\n        {\n          presentationMode ? null :\n          <>\n            <LinearGraphControls\n          {\n            ...{\n              xVariable,\n              xLabelVariable,\n              yVariable,\n              reverseX,\n              reverseY,\n              sizeVariable,\n              colorVariable,\n              labelVariable,\n              graphType,\n              useRelativeScale,\n              normalizeY,\n\n              searchString,\n\n              onSearchStringChange,\n              \n              onXVariableChange,\n              onXLabelVariableChange,\n              onYVariableChange,\n              onColorVariableChange,\n              onSizeVariableChange,\n              onLabelVariableChange,\n              onToggleReverseX,\n              onToggleReverseY,\n              onColorPaletteChange,\n              onToggleUseRelativeScale,\n              onGraphTypeChange,\n              onNormalizeYChange,\n\n              onToggleFiltersModeAnd,\n              filtersModeAnd,\n              onFiltersChange,\n              filters,\n\n              filtersOptions,\n              colorPalette,\n            }\n          }\n        />\n        <form onSubmit={e => {e.preventDefault()}} className=\"caption-editor-container\">\n            <h1 className=\"caption-title-container\">\n              <Input\n                value={title || ''}\n                onChange={val => onTitleChange(val)}\n                placeholder=\"Titre de la visualisation\"\n              />\n            </h1>\n            <div className=\"caption-legend-container\">\n              <Input\n                value={legend || ''}\n                onChange={val => onLegendChange(val)}\n                placeholder=\"Lgende de la visualisation\"\n                type=\"textarea\"\n              />\n            </div>\n          </form>\n          </>\n        }\n        \n    </>\n  );\n}\n\nexport default function LinearGraphContainerWithDimensions(props) {\n  return (\n    <div className=\"VisContainer LinearGraphContainer\">\n\n    <ContainerDimensions>\n      {\n        dimensions => <LinearGraphContainer {...{...props, ...dimensions}} />\n      }\n    </ContainerDimensions>\n    </div>\n  )\n}","import React, {useState} from 'react';\nimport cx from 'classnames';\n\nimport VariablesEditor from '../VariablesEditor';\nimport ColorLegend from '../ColorLegend';\nimport FiltersEditor from '../FiltersEditor';\n\nexport default function IceCreamControls({\n  xVariable,\n  reverseX,\n\n  yVariable,\n  reverseY,\n\n  sizeVariable,\n  colorVariable,\n  labelVariable,\n  labelsOnTheSide,\n  colorScaleType,\n\n  onToggleFiltersModeAnd,\n  filtersModeAnd,\n  onFiltersChange,\n  filters,\n\n  rotateMode,\n  searchString,\n  reverseFlickering,\n\n  onSearchStringChange,\n  onToggleRotateMode,\n  \n  onXVariableChange,\n  onYVariableChange,\n  onColorVariableChange,\n  onSizeVariableChange,\n  onLabelVariableChange,\n  onToggleLabelsOnTheSide,\n  onColorPaletteChange,\n\n  onToggleReverseX,\n  onToggleReverseY,\n  onColorScaleTypeChange,\n  onReverseFlickeringChange,\n  \n  filtersOptions,\n  colorPalette,\n}) {\n  const handleSearchChange = e => onSearchStringChange(e.target.value);\n  const [isMinified, setIsMinified] = useState(true)\n  return (\n    <>\n      <button onClick={() => setIsMinified(!isMinified)} className={cx('minify-button', {'is-active': !isMinified})}>\n        {'diter'}\n      </button>\n      <ul className={cx(\"VisControls\", {'is-minified': isMinified})}>\n        \n        <li className=\"vis-controls-item\">\n        <form onSubmit={e => e.preventDefault()}>\n          <input type=\"text\" onChange={handleSearchChange} placeholder=\"rechercher\" value={searchString} />\n        </form>\n        </li>\n        <li className=\"vis-controls-item\">\n          <VariablesEditor\n            {\n              ...{\n                options: filtersOptions,\n                variables: [\n                  {\n                    title: 'X des points',\n                    onChange: onXVariableChange,\n                    value: xVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Inverser les x',\n                    onChange: onToggleReverseX,\n                    value: reverseX,\n                    type: 'boolean'\n                  },\n                  {\n                    title: 'Y des points',\n                    onChange: onYVariableChange,\n                    value: yVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Inverser les y',\n                    onChange: onToggleReverseY,\n                    value: reverseY,\n                    type: 'boolean'\n                  },\n                  {\n                    title: 'Taille des points',\n                    onChange: onSizeVariableChange,\n                    value: sizeVariable,\n                    type: 'number'\n                  },\n                  {\n                    title: 'Couleur des points',\n                    onChange: onColorVariableChange,\n                    value: colorVariable,\n                    type: 'color'\n                  },\n                  {\n                    title: 'Type d\\'chelle pour la couleur',\n                    onChange: onColorScaleTypeChange,\n                    localOptions: [[\n                      'discrete',\n                      {title: 'discrte'}\n                    ], [\n                      'continuous',\n                      {title: 'continue'}\n                    ]],\n                    value: colorScaleType,\n                    type: 'string'\n                  },\n                  {\n                    title: 'Labels des points',\n                    onChange: onLabelVariableChange,\n                    value: labelVariable,\n                    type: 'string'\n                  },\n                  {\n                    title: 'Tourner la visualisation  45',\n                    onChange: onToggleRotateMode,\n                    value: rotateMode,\n                    type: 'boolean'\n                  },\n                  {\n                    title: 'Afficher les labels sur le ct',\n                    onChange: onToggleLabelsOnTheSide,\n                    value: labelsOnTheSide,\n                    type: 'boolean'\n                  },\n                  {\n                    title: 'Inverser le clignotement quand filtr',\n                    onChange: onReverseFlickeringChange,\n                    value: reverseFlickering,\n                    type: 'boolean'\n                  },\n                  \n                ],\n              }\n            }\n          />\n        </li>\n        <li className=\"vis-controls-item\">\n          <FiltersEditor\n            {\n              ...{\n                onToggleFiltersModeAnd,\n                filtersModeAnd,\n                filtersOptions,\n                onFiltersChange,\n                filters\n              }\n            }\n          />\n        </li>\n        {\n            colorVariable && colorVariable !== 'default' ?\n            <ColorLegend\n              colorPalette={colorPalette}\n              onChange={onColorPaletteChange}\n            />\n            : null\n        }\n      </ul>\n    </>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport ContainerDimensions from 'react-container-dimensions';\nimport { scaleLinear } from 'd3-scale';\nimport { min, extent } from 'd3-array';\nimport cx from 'classnames';\n\nimport IceCreamControls from './IceCreamControls';\nimport { generatePalette } from '../../helpers/palettes';\nimport Input from '../DebouncedInput';\n\nimport './IceCreamContainer.css';\nimport { evalIfNodeMatches, transformGeometry } from '../../helpers/misc';\n\nconst GIF_TIME = 500;\n\nexport function IceCreamContainer({\n\n  width,\n  height,\n  data,\n\n  xVariable,\n  reverseX,\n  yVariable,\n  reverseY,\n  sizeVariable,\n  colorVariable,\n  labelVariable,\n  labelsOnTheSide = true,\n  colorPalette: inputColorPalette,\n  colorScaleType,\n\n  rotateMode,\n  searchString = '',\n\n  onSearchStringChange,\n  onToggleRotateMode,\n  filtersOptions = {},\n  presentationMode,\n\n  onToggleFiltersModeAnd,\n  filtersModeAnd,\n  onFiltersChange,\n  filters = [],\n  title,\n  legend,\n  reverseFlickering,\n\n\n  onXVariableChange,\n  onYVariableChange,\n  onColorVariableChange,\n  onSizeVariableChange,\n  onLabelVariableChange,\n  onToggleReverseX,\n  onToggleReverseY,\n  onToggleLabelsOnTheSide,\n  onColorPaletteChange,\n  onColorScaleTypeChange,\n  onTitleChange,\n  onLegendChange,\n  onReverseFlickeringChange,\n}) {\n\n  const [zoomedIndex, setZoomedIndex] = useState(null);\n  const [enableZoom, setEnableZoom] = useState(true);\n  const updateActive = () => {\n    if (filters && filters.length) {\n      const existing = zoomedIndex === null ? -1 : zoomedIndex;\n      let found = false;\n      if (reverseFlickering) {\n        for (let i = existing - 1; i >= 0; i--) {\n          if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n            setZoomedIndex(i);\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          for (let i = data.length - 1; i >= 0; i--) {\n            if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n              setZoomedIndex(i);\n              break;\n            }\n          }\n        }\n      } else {\n        for (let i = existing + 1; i < data.length; i++) {\n          if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n            setZoomedIndex(i);\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          for (let i = 0; i < data.length; i++) {\n            if (evalIfNodeMatches(data[i], filters, filtersModeAnd)) {\n              setZoomedIndex(i);\n              break;\n            }\n          }\n        }\n      }\n\n    }\n  }\n\n  useEffect(() => {\n    if (filters && filters.length) {\n      if (zoomedIndex === null) {\n        updateActive();\n      }\n      setTimeout(updateActive, GIF_TIME);\n    } else {\n      setZoomedIndex(null);\n    }\n    /* eslint react-hooks/exhaustive-deps : 0 */\n  }, [\n    JSON.stringify(filters),\n    filtersModeAnd,\n    data,\n    zoomedIndex\n  ])\n\n  const smallestDimension = min([width, height]);\n  // in rotate mode width indexed on the hypothenuse\n  const WIDTH = rotateMode ? parseInt(Math.sqrt(smallestDimension * smallestDimension / 2)) : smallestDimension;\n  const HEIGHT = rotateMode ? parseInt(Math.sqrt(smallestDimension * smallestDimension / 2)) : smallestDimension;\n\n  const MIN_AREA = smallestDimension / 50;\n  const MAX_AREA = smallestDimension / 2;\n  const MARGIN = WIDTH / 15;\n\n  let xRange = [MARGIN, WIDTH - MARGIN * 2];\n  let yRange = [MARGIN, HEIGHT - MARGIN * 2];\n  if (reverseX) {\n    xRange = xRange.reverse();\n  }\n  if (reverseY) {\n    yRange = yRange.reverse();\n  }\n\n  const getX = xVariable && xVariable !== 'default' ? scaleLinear().range(xRange).domain([0, 1]) : () => 0;\n  const getY = yVariable && yVariable !== 'default' ? scaleLinear().range(yRange).domain([0, 1]) : () => 0;\n  const getSize = sizeVariable && sizeVariable !== 'default' ? scaleLinear().domain(extent(data.map(d => +d[sizeVariable]))).range([MIN_AREA, MAX_AREA]) : () => 0;\n\n  // manage palette\n  let colorPalette;\n  if (inputColorPalette) {\n    colorPalette = inputColorPalette;\n  }\n  else if (colorVariable && colorVariable !== 'default' && filtersOptions[colorVariable]) {\n    const palette = generatePalette(colorVariable, filtersOptions[colorVariable].options.length);\n    colorPalette = filtersOptions[colorVariable].options.reduce((res, option, index) => ({\n      ...res,\n      [option]: palette[index]\n    }), {})\n  }\n  let continuousColorScale;\n  if (colorScaleType === 'continuous') {\n    let colorRange = ['#D77186', '#61A2DA'];\n    if (colorPalette && colorPalette['from'] && colorPalette['to']) {\n      colorRange = [colorPalette['from'], colorPalette['to']]\n    } else {\n      colorPalette = {\n        from: '#D77186',\n        to: '#61A2DA'\n      }\n    }\n    continuousColorScale = scaleLinear().domain(extent(data.map(d => +d[colorVariable]))).range(colorRange)\n  }\n  let getColor = (val) => {\n    if (colorScaleType === 'continuous') {\n      return continuousColorScale(+val);\n    } else return colorPalette ? colorPalette[val] : 'grey';\n  }\n\n  // handling search\n  let highlightedIndex;\n  if (searchString.length && labelVariable) {\n    highlightedIndex = new Set();\n    data.forEach((datum, index) => {\n      const label = datum[labelVariable].toLowerCase();\n      if (label.includes(searchString)) {\n        highlightedIndex.add(index);\n      }\n    })\n  }\n  let rotateTransform = { rotate: 0 };\n  if (rotateMode) {\n    rotateTransform = {\n      rotate: -45,\n      translate: { x: 0, y: smallestDimension / 2 }\n    }\n  }\n  // wrapping function for transforms\n  const transf = (x, y) => transformGeometry({ x, y }, rotateTransform)\n  // dimensions of control background rect\n  const { x: point1X, y: point1Y } = transformGeometry({\n    x: 0,\n    y: 0\n  }, rotateTransform)\n  const { x: point2X, y: point2Y } = transformGeometry({\n    x: WIDTH,\n    y: 0\n  }, rotateTransform)\n  const { x: point3X, y: point3Y } = transformGeometry({\n    x: WIDTH,\n    y: HEIGHT\n  }, rotateTransform)\n  const { x: point4X, y: point4Y } = transformGeometry({\n    x: 0,\n    y: HEIGHT\n  }, rotateTransform)\n\n  return (\n    <>\n      <svg\n        className={cx(\"scatterplot\", { 'zoom-mode': zoomedIndex !== null && enableZoom })}\n        width={width}\n        height={height}\n      >\n        <g\n          transform={`translate(${WIDTH < width ? (width - smallestDimension) / 2 : 0}, ${HEIGHT < height ? (height - smallestDimension) * .66 : 0})`}\n        >\n          <polygon\n            points={`${point1X},${point1Y} ${point2X},${point2Y} ${point3X},${point3Y} ${point4X},${point4Y}`}\n            width={WIDTH}\n            height={HEIGHT}\n            fill=\"white\"\n          />\n          <g transform={`translate(${rotateMode ? 0 : MARGIN / 2}, ${rotateMode ? -MARGIN : 0})${rotateMode ? 'scale(1.05)' : ''}`}>\n            <g className=\"axis axis-left\">\n              <line\n                x1={transf(MARGIN, MARGIN).x}\n                y1={transf(MARGIN, MARGIN).y}\n                x2={transf(MARGIN, HEIGHT - MARGIN * 2).x}\n                y2={transf(MARGIN, HEIGHT - MARGIN * 2).y}\n                stroke={'black'}\n              />\n              {\n                getY.ticks &&\n                getY.ticks()\n                  .map(tick => {\n\n                    const { x, y } = transf(MARGIN, getY(tick))\n                    const { x: x1, y: y1 } = transf(MARGIN / 4, getY(tick) + MARGIN / 6)\n                    const { x: x2, y: y2 } = transf(MARGIN / 2, getY(tick))\n                    return (\n                      <g key={tick}>\n                        <text textAnchor=\"end\" x={x1} y={y1}>\n                          {tick}\n                        </text>\n                        <line\n                          x1={x}\n                          y1={y}\n                          x2={x2}\n                          y2={y2}\n                          stroke={'black'}\n                        />\n                      </g>\n                    )\n                  })\n              }\n              <g\n                transform={rotateMode ? `translate(${WIDTH / 2 - MARGIN * 1.5}, ${HEIGHT + MARGIN * 2.5})rotate(45)` : `translate(0, ${MARGIN / 2 - 2})`}\n              >\n                <text\n                  className=\"axis-variable-name\"\n                  textAnchor={rotateMode ? 'end' : 'start'}\n                >\n                  {yVariable}\n                </text>\n              </g>\n            </g>\n            <g className=\"axis axis-bottom\">\n              <line\n                x1={transf(MARGIN, HEIGHT - MARGIN * 2).x}\n                y1={transf(MARGIN, HEIGHT - MARGIN * 2).y}\n                x2={transf(WIDTH - MARGIN * 2, HEIGHT - MARGIN * 2).x}\n                y2={transf(WIDTH - MARGIN * 2, HEIGHT - MARGIN * 2).y}\n                stroke={'black'}\n              />\n              {\n                getX.ticks &&\n                getX.ticks()\n                  .map(tick => {\n                    const { x, y } = transf(getX(tick), HEIGHT - MARGIN * 2);\n                    const { x: x1, y: y1 } = transf(getX(tick), HEIGHT - MARGIN * 1.66);\n                    const { x: x2, y: y2 } = transf(getX(tick), HEIGHT - MARGIN * 1.25);\n                    return (\n                      <g key={tick}>\n                        <text textAnchor=\"center\" x={x2} y={y2}>\n                          {tick}\n                        </text>\n                        <line\n                          x1={x}\n                          y1={y}\n                          x2={x1}\n                          y2={y1}\n                          stroke={'black'}\n                        />\n                      </g>\n                    )\n                  })\n              }\n              <g\n                transform={rotateMode ? `translate(${WIDTH}, ${HEIGHT + MARGIN * 1.5})rotate(-45)` : `translate(${WIDTH - MARGIN * 1.5}, ${HEIGHT - MARGIN / 3 - 2})`}\n              >\n                <text\n                  className=\"axis-variable-name\"\n                  textAnchor={rotateMode ? 'end' : 'start'}\n                >\n                  {xVariable}\n                </text>\n              </g>\n            </g>\n            <g className={\"ticks-container\"}>\n              {\n\n                getY.ticks &&\n                getY.ticks()\n                  .map(tick => (\n                    <line\n                      key={tick}\n                      x1={transf(MARGIN, getY(tick)).x}\n                      y1={transf(MARGIN, getY(tick)).y}\n                      x2={transf(WIDTH - MARGIN * 2, getY(tick)).x}\n                      y2={transf(WIDTH - MARGIN * 2, getY(tick)).y}\n                      stroke=\"lightgrey\"\n                    />\n                  ))\n              }\n              {\n\n                getX.ticks &&\n                getX.ticks()\n                  .map(tick => (\n                    <line\n                      key={tick}\n                      x1={transf(getX(tick), MARGIN).x}\n                      y1={transf(getX(tick), MARGIN).y}\n                      x2={transf(getX(tick), WIDTH - MARGIN * 2).x}\n                      y2={transf(getX(tick), WIDTH - MARGIN * 2).y}\n                      stroke=\"lightgrey\"\n                    />\n                  ))\n              }\n            </g>\n            <g\n              className=\"plot-objects-container\"\n              onMouseEnter={() => setEnableZoom(false)}\n              onMouseLeave={() => setEnableZoom(true)}\n            >\n              {\n                data\n                  .sort((a, b) => {\n                    if (getY(a[yVariable]) > getY(b[yVariable])) {\n                      return 1;\n                    }\n                    return -1;\n                  })\n                  .map((datum, index) => {\n                    const radius = Math.sqrt(getSize(+datum[sizeVariable]) / Math.PI);\n                    let { x, y } = transf(getX(+datum[xVariable]), getY(+datum[yVariable]));\n                    let { x: xForXAxis, y: yForXAxis } = transf(getX(datum[xVariable]), getY.range ? getY.range()[0] : 0);\n                    let { x: xForYAxis, y: yForYAxis } = transf(getX.range ? getX.range()[0] : 0, getY(datum[yVariable]));\n                    let labelX = x + radius + smallestDimension / 100;\n                    let labelY = rotateMode ? y - smallestDimension / 200 : y + smallestDimension / 200;\n                    let pointerStartCoords = transf(getX(datum[xVariable]) + radius, getY(datum[yVariable]));\n                    if (labelsOnTheSide) {\n                      let { x: newX, y: newY } = transf(WIDTH - MARGIN * 1.7, MARGIN + index * (HEIGHT - MARGIN * 3) / data.length);\n                      labelX = newX;\n                      labelY = newY;\n                    }\n\n                    let opacity = 1;\n                    const isMatching = !filters.length || evalIfNodeMatches(datum, filters, filtersModeAnd);\n                    if (filters.length) {\n                      if (isMatching && (!highlightedIndex || highlightedIndex.has(index))) {\n                        opacity = 1;\n                      } else {\n                        opacity = .05;\n                      }\n                    } else if (highlightedIndex && !highlightedIndex.has(index)) {\n                      opacity = .2;\n                    }\n\n                    const isZoomed = index === zoomedIndex && enableZoom === true;\n\n                    return (\n                      <g\n                        key={index}\n                        className={cx(\"plot-object\", { 'is-matching': isMatching, 'is-zoomed': isZoomed })}\n                        opacity={opacity}\n                      >\n                        <line\n                          className=\"axis-line\"\n                          stroke=\"grey\"\n                          strokeDasharray='1,1'\n                          x1={x}\n                          y1={y}\n                          x2={xForYAxis}\n                          y2={yForYAxis}\n                        />\n                        <line\n                          className=\"axis-line\"\n                          stroke=\"grey\"\n                          strokeDasharray='1,1'\n                          x1={x}\n                          y1={y}\n                          x2={xForXAxis}\n                          y2={yForXAxis}\n                        />\n                        <circle\n                          cx={x}\n                          cy={y}\n                          r={radius}\n                          fill={getColor(datum[colorVariable])}\n                          opacity={.8}\n                        />\n                        {\n                          labelsOnTheSide ?\n                            <line\n                              x1={pointerStartCoords.x}\n                              y1={pointerStartCoords.y}\n                              x2={labelX}\n                              y2={labelY}\n                              stroke=\"lightgrey\"\n                              strokeDasharray='4,4'\n                            />\n                            : null\n                        }\n                        <g\n                          transform={`translate(${labelX}, ${labelY})`}\n                        >\n                          <text\n                            transform={rotateMode ? 'rotate(-45)' : ''}\n                            style={{\n                              fontSize: rotateMode && labelsOnTheSide ? HEIGHT / 70 : undefined\n                            }}\n                          >\n                            {datum[labelVariable]}\n                          </text>\n                        </g>\n                      </g>\n                    )\n                  })\n              }\n            </g>\n          </g>\n        </g>\n      </svg>\n      {\n        presentationMode ? null :\n          <>\n            <IceCreamControls\n              {\n              ...{\n                xVariable,\n                yVariable,\n                reverseX,\n                reverseY,\n                sizeVariable,\n                colorVariable,\n                labelVariable,\n                labelsOnTheSide,\n\n                rotateMode,\n                searchString,\n                colorScaleType,\n                reverseFlickering,\n\n                onSearchStringChange,\n                onToggleRotateMode,\n\n                onXVariableChange,\n                onYVariableChange,\n                onColorVariableChange,\n                onSizeVariableChange,\n                onLabelVariableChange,\n                onToggleLabelsOnTheSide,\n                onToggleReverseX,\n                onToggleReverseY,\n                onColorPaletteChange,\n                onColorScaleTypeChange,\n                onReverseFlickeringChange,\n\n                onToggleFiltersModeAnd,\n                filtersModeAnd,\n                onFiltersChange,\n                filters,\n\n                filtersOptions,\n                colorPalette,\n              }\n              }\n            />\n            <form onSubmit={e => { e.preventDefault() }} className=\"caption-editor-container\">\n              <h1 className=\"caption-title-container\">\n                <Input\n                  value={title || ''}\n                  onChange={val => onTitleChange(val)}\n                  placeholder=\"Titre de la visualisation\"\n                />\n              </h1>\n              <div className=\"caption-legend-container\">\n                <Input\n                  value={legend || ''}\n                  onChange={val => onLegendChange(val)}\n                  placeholder=\"Lgende de la visualisation\"\n                  type=\"textarea\"\n                />\n              </div>\n            </form>\n          </>\n      }\n\n    </>\n  );\n}\n\nexport default function IceCreamContainerWithDimensions(props) {\n  return (\n    <div className=\"VisContainer IcecreamContainer\">\n\n      <ContainerDimensions>\n        {\n          dimensions => <IceCreamContainer {...{ ...props, ...dimensions }} />\n        }\n      </ContainerDimensions>\n    </div>\n  )\n}","import {useMemo, useState, useEffect} from 'react';\nimport Graph from 'graphology';\nimport gexf from 'graphology-gexf';\nimport {extent} from 'd3-array';\nimport ContainerDimensions from 'react-container-dimensions';\nimport cx from 'classnames';\n\nimport {LinearGraphContainer} from '../LinearGraphAnnotation/LinearGraphContainer'\nimport {GraphContainer} from '../GraphAnnotation/GraphContainer'\nimport {IceCreamContainer} from '../IceCreamAnnotation/IceCreamContainer'\nimport Loader from '../Loader'\nimport { groupBy } from 'lodash-es';\n\n\nconst GraphWrapper = ({data, ...props}) => {\n  const [cameraPosition, setCameraPosition] = useState({x: props.x, y: props.y, ratio: props.ratio})\n\n  useEffect(() => {\n    setCameraPosition({\n      x: props.x, y: props.y, ratio: props.ratio\n    })\n  }, [props.x, props.y, props.ratio])\n  const graph = useMemo(() => {\n    return gexf.parse(Graph, data);\n  }, [data]);\n\n  const onCameraUpdate = (pos) => {\n    // setCameraPosition(pos);\n  }\n  let sizes = [];\n  graph.forEachNode((node, attributes) => {\n    sizes.push(attributes.size);\n  })\n  const sizeExtent = extent(sizes);\n  return (\n    <GraphContainer\n      {...{\n        ...props,\n        graph,\n        extents: {\n          nodeSize: {\n            min: sizeExtent[0],\n            max: sizeExtent[1]\n          }\n        },\n        onCameraUpdate,\n        cameraPosition,\n      }\n      }\n    />\n  );\n}\nconst buildImprint = d => /*d.data + '-' +*/ d.visType;\n\nconst VisualizationController = ({\n  datasets,\n  visualizations,\n  activeVisualization,\n  width,\n  height,\n  loadingFraction,\n}) => {\n  const firstInstanceOfEachVisualization = useMemo(() => {\n    return Object.entries(\n      groupBy(\n        Object.entries(visualizations ||{}),\n        d => buildImprint(d[1])\n      )\n    )\n    .reduce((res, [imprint, [firstInstance]]) => ({\n      ...res, \n      [imprint]: firstInstance[1]\n    }), {})\n  }, [visualizations]);\n\n  let activeImprint;\n  if (activeVisualization) {\n    activeImprint = buildImprint(activeVisualization);\n  }\n\n  const renderVisualization = vis => {\n    if (!datasets[vis.data]) {\n      return null;\n    }\n    switch(vis.visType) {\n      case 'linearGraph':\n        return (\n          <LinearGraphContainer\n            {...{\n              ...vis,\n              data: datasets[vis.data],\n              width,\n              height: height * .66,\n              presentationMode: true\n            }}\n          />\n        );\n      case 'networkGraph':\n        return (\n          <GraphWrapper\n            {...{\n              ...vis,\n              data: datasets[vis.data],\n              width: width - 5,\n              height,\n              presentationMode: true\n            }}\n          />\n        );\n      case 'icecreamGraph':\n        return (\n          <IceCreamContainer\n            {...{\n              ...vis,\n              data: datasets[vis.data],\n              width,\n              height,\n              presentationMode: true\n            }}\n          />\n        );\n      default:\n        return vis.visType;\n    }\n  }\n  if (loadingFraction < 1) {\n    return <Loader percentsLoaded={loadingFraction * 100} />\n  }\n  return (\n    <div className=\"VisualizationController\">\n      {\n        Object.entries(firstInstanceOfEachVisualization)\n        .map(([imprint, defaultVisualization]) => {\n          return (\n            <div className={cx('visualization-item', {'is-visible': imprint === activeImprint})}>\n              {\n                imprint === activeImprint ?\n                renderVisualization(activeVisualization)\n                :\n                renderVisualization(defaultVisualization)\n              }\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n  // return null;\n}\n\nexport default function VisualizationControllerWithDimensions(props) {\n  return (\n    <div className={cx(\"VisualizationController\", props.activeVisualization && props.activeVisualization.visType)}>\n\n    <ContainerDimensions>\n      {\n        dimensions => <VisualizationController {...{...props, ...dimensions}} />\n      }\n    </ContainerDimensions>\n    </div>\n  )\n}","import VisualizationController from './VisualizationController';\n\nexport default VisualizationController;","import FooterNav from './FooterNav';\n\nexport default FooterNav;","import React, {useContext} from 'react';\nimport { Link } from 'react-router-dom';\nimport {LanguageContext} from '../../contexts';\nimport cx from 'classnames';\n\nconst FooterNav = ({\n  prevPage,\n  nextPage\n}) => {\n  const {\n    lang\n  } = useContext(LanguageContext);\n  const messages = {\n    next: {\n      fr: 'Page suivante',\n      en: 'Next page'\n    },\n    prev: {\n      fr: 'Page prcdente',\n      en: 'Previous page'\n    }\n  }\n  return (\n    <footer className={cx(\"FooterNav\", {'start-page': !prevPage})}>\n      <ul>\n        {\n          prevPage ?\n            <li className=\"previous-page\">\n              <h5>\n                <Link to={prevPage.route[lang]}>\n                  <div className=\"marker\">{'<'}</div>\n                  <div className=\"page-content\">\n                    <div className=\"page-label\"><i>{messages.prev[lang]}</i></div>\n                    <div>\n                        {prevPage.title[lang]}\n                    </div>\n                  </div>\n                </Link>\n              </h5>\n            </li>\n            :\n            null\n        }\n        {\n          nextPage ?\n            <li className=\"next-page\">\n              <h5>\n                <Link to={nextPage.route[lang]}>\n                  <div>\n                    <div className=\"page-label\"><i>{messages.next[lang]}</i></div>\n                    <div className=\"page-content\">\n                        {nextPage.title[lang]}\n                    </div>\n                  </div>\n                  <div className=\"marker\">{'>'}</div>\n                </Link>\n              </h5>\n            </li>\n            :\n            null\n        }\n      </ul>\n    </footer>\n  )\n}\n\nexport default FooterNav;","import React, {useState, useMemo, useEffect, Suspense} from 'react';\nimport {extent} from 'd3-array';\nimport {generatePalette} from '../../helpers/palettes';\n\n\nimport gexf from 'graphology-gexf';\nimport Graph from 'graphology';\n\nimport GraphVis from './GraphContainer';\nimport FooterNav from '../FooterNav';\n// import CodeContainer from '../../components/CodeContainer';\nimport {computeFiltersOptions} from '../../helpers/misc';\n\nimport {VisualizationControlContext} from '../../contexts';\n\nconst DEFAULT_LABEL_DENSITY = 0.25;\n\nconst Loader = ({percentsLoaded = 0}) =>{\n  return  (\n    <div className=\"loader-container\">\n      <div className=\"loader\">\n        <div className=\"loading-bar\" style={{width: percentsLoaded + '%'}} />\n      </div>\n   </div>\n)\n}\n\nconst GraphAnnotation = ({\n  Content,\n  data,\n  contentsURL,\n  prevPage,\n  nextPage,\n}) => {\n  const graph = useMemo(() => {\n    return gexf.parse(Graph, data);\n  }, [data]);\n  const filtersOptions = useMemo(() => computeFiltersOptions('graph', graph, data), [graph, data]);\n\n  const [cameraPosition, setCameraPosition] = useState(undefined);\n  const [helpVisible, setHelpVisible] = useState(false);\n  const [searchString, setSearchString] = useState('');\n  const [filtersModeAnd, setFiltersModeAnd] = useState(false);\n  const [updateTimestamp, setUpdateTimeStamp] = useState(new Date().getTime());\n  const [filters, setFilters] = useState([]);\n  const [nodeColorVariable, setNodeColorVariable] = useState(undefined);\n  const [colorPalette, setColorPalette] = useState(undefined);\n  const [nodeSizeVariable, setNodeSizeVariable] = useState(undefined);\n  const [nodeLabelVariable, setNodeLabelVariable] = useState(undefined);\n  const [labelDensity, setLabelDensity] = useState(DEFAULT_LABEL_DENSITY);\n  const [title, setTitle] = useState('');\n  const [legend, setLegend] = useState('');\n  const [displayAllLabels, setDisplayAllLabels] = useState(false);\n  const [hasLoadedFirstVis, setHasLoadedFirstVis] = useState(false);\n\n  const [focusedVisualizationId, setFocusedVisualizationId] = useState(null);\n  const [registeredVisualizations, setRegisteredVisualizations] = useState({});\n\n  const onRegisterVisualization = (id, props) => {\n    setRegisteredVisualizations({\n      ...registeredVisualizations,\n      [id]: props\n    })\n  }\n\n  const onUnregisterVisualization = id => {\n    const copyOfRegistered = {...registeredVisualizations};\n    delete copyOfRegistered[id]\n    setRegisteredVisualizations(copyOfRegistered)\n  }\n\n  const onVisualizationUpdate = ({\n    x, \n    y, \n    ratio, \n    searchString: newSearchString, \n    filtersModeAnd: newFiltersModeAnd, \n    filters: newFilters, \n    nodeColorVariable: newNodeColorVariable,\n    nodeSizeVariable,\n    nodeLabelVariable,\n    labelDensity,\n    colorPalette: newColorPalette,\n    title: newTitle,\n    legend: newLegend,\n    displayAllLabels: newDisplayAllLabels\n}) => {\n    setCameraPosition({x, y, ratio});\n    setUpdateTimeStamp(new Date().getTime());\n    setSearchString(newSearchString);\n    setFiltersModeAnd(newFiltersModeAnd);\n    setFilters(newFilters);\n    setNodeColorVariable(newNodeColorVariable);\n    setNodeSizeVariable(nodeSizeVariable);\n    setNodeLabelVariable(nodeLabelVariable);\n    setDisplayAllLabels(newDisplayAllLabels);\n    setTitle(newTitle);\n    setLegend(newLegend);\n    if (newColorPalette && (nodeColorVariable === newNodeColorVariable || !nodeColorVariable)) {\n      setColorPalette(newColorPalette);\n    } else {\n      const colors = generatePalette(newNodeColorVariable, filtersOptions[newNodeColorVariable].options.size);\n      const palette = {};\n      let i = 0;\n      filtersOptions[newNodeColorVariable].options.forEach(option => {\n        palette[option] = colors[i];\n        i++;\n      });\n      setColorPalette(palette);\n    }\n    setLabelDensity(labelDensity === undefined ? DEFAULT_LABEL_DENSITY : labelDensity);\n  }\n\n  useEffect(() => {\n    if (!focusedVisualizationId && Object.keys(registeredVisualizations).length) {\n      const thatId = Object.keys(registeredVisualizations)[0];\n      setFocusedVisualizationId(thatId );\n      onVisualizationUpdate(registeredVisualizations[thatId]);\n      setHasLoadedFirstVis(true);\n    }\n  }, [registeredVisualizations, focusedVisualizationId]);/* eslint react-hooks/exhaustive-deps : 0 */\n\n  let sizes = [];\n  graph.forEachNode((node, attributes) => {\n    sizes.push(attributes.size);\n  })\n  const sizeExtent = extent(sizes);\n\n  const onCameraUpdate = state => {\n    const {x, y, ratio} = state;\n    setCameraPosition({x, y, ratio});\n  }\n  \n  const onSearchStringChange = str => {\n    setSearchString(str);\n  }\n  return (\n    <VisualizationControlContext.Provider value={{\n      onVisualizationUpdate, \n      onRegisterVisualization, \n      onUnregisterVisualization, \n      focusedVisualizationId,\n      setFocusedVisualizationId,\n      visualizationParams: {\n        ...cameraPosition,\n        searchString,\n        // filtersOptions,\n        filters,\n        // updateTimestamp,\n        displayAllLabels,\n        nodeSizeVariable,\n        nodeColorVariable,\n        nodeLabelVariable,\n        filtersModeAnd,\n        labelDensity,\n        colorPalette,\n        title,\n        legend,\n      }\n    }}>\n    <div className=\"slide-container\">\n      <section>\n        <div>\n          <p>\n            <button className={helpVisible ? 'is-active': ''} onClick={() => setHelpVisible(!helpVisible)}>\n              Comment modifier cette page ?\n            </button>\n          </p>\n          <ol className={`edit-help ${helpVisible ? 'is-active' : ''}`}>\n            <li>\n              Pralablement se logger dans github si le rpertoire est priv\n            </li>\n            <li>\n              Se rendre sur <a target=\"blank\" href={contentsURL}>cette page du rpertoire github</a>\n            </li>\n            <li>\n              Cliquer sur le crayon en haut  droite des contenus (il affiche \"edit\" au survol)\n            </li>\n            <li>\n              Faire les modifications puis cliquer sur \"Commit changes\" en bas de la page\n            </li>\n            <li>\n              Attendre 2 minutes puis recharger la page pour voir la version  jour de la page\n            </li>\n          </ol>\n        </div>\n        <Suspense fallback={<div>Chargement</div>}>\n          <Content />\n        </Suspense>\n        <FooterNav prevPage={prevPage} nextPage={nextPage} />\n      </section>\n      \n      <aside>\n        {hasLoadedFirstVis ?\n        <div className=\"vis\">\n          <GraphVis\n            {\n              ...{\n                graph,\n                // nodeColor,\n                // nodeSize,\n                // nodeLabel,\n                // labelDensity,\n                searchString,\n                filtersOptions,\n                filters,\n                cameraPosition,\n                onCameraUpdate,\n                updateTimestamp,\n                nodeSizeVariable,\n                nodeColorVariable,\n                nodeLabelVariable,\n                filtersModeAnd,\n                labelDensity,\n                displayAllLabels,\n                title,\n                legend,\n\n                colorPalette,\n\n                onSearchStringChange,\n                onToggleFiltersModeAnd: () => setFiltersModeAnd(!filtersModeAnd),\n\n                onFiltersChange: (newFilters) => setFilters(newFilters),\n\n                onLabelDensityChange: val => setLabelDensity(val),\n                onDisplayAllLabelsChange: val => setDisplayAllLabels(val),\n                onNodeSizeVariableChange: (val) => setNodeSizeVariable(val),\n                onNodeColorVariableChange: (val) => setNodeColorVariable(val),\n                onNodeLabelVariableChange: (val) => setNodeLabelVariable(val),\n                onColorPaletteChange: val => setColorPalette(val),\n                onTitleChange: val => setTitle(val),\n                onLegendChange: val => setLegend(val),\n\n                extents: {\n                  nodeSize: {\n                    min: sizeExtent[0],\n                    max: sizeExtent[1]\n                  }\n                }\n              }\n            }\n          />\n          \n        </div>\n        : <Loader percentsLoaded={50} /> }\n        {/* <CodeContainer code={currentCode} /> */}\n      </aside>\n  </div>\n  </VisualizationControlContext.Provider>\n  )\n}\n\nexport default GraphAnnotation;","import GraphAnnotation from './GraphAnnotation';\n\nexport default GraphAnnotation;","import IceCreamAnnotation from './IceCreamAnnotation';\n\nexport default IceCreamAnnotation;","import React, { useState, useEffect, useMemo, Suspense } from 'react';\nimport FooterNav from '../FooterNav';\nimport { generatePalette } from '../../helpers/palettes';\n\nimport IceCreamVis from './IceCreamContainer';\n\nimport { VisualizationControlContext } from '../../contexts';\n\nimport { computeFiltersOptions } from '../../helpers/misc';\n\nconst IceCreamAnnotation = ({\n  Content,\n  data,\n  contentsURL,\n  prevPage,\n  nextPage,\n}) => {\n  const filtersOptions = useMemo(() => computeFiltersOptions('table', data), [data]);\n  const [helpVisible, setHelpVisible] = useState(false);\n  const [searchString, setSearchString] = useState('');\n\n  const [xVariable, setXVariable] = useState(undefined);\n  const [yVariable, setYVariable] = useState(undefined);\n  const [reverseX, setReverseX] = useState(false);\n  const [reverseY, setReverseY] = useState(false);\n  const [sizeVariable, setSizeVariable] = useState(undefined);\n  const [colorVariable, setColorVariable] = useState(undefined);\n  const [labelVariable, setLabelVariable] = useState(undefined);\n  const [labelsOnTheSide, setLabelsOnTheSide] = useState(false);\n  const [colorPalette, setColorPalette] = useState(undefined);\n  const [colorScaleType, setColorScaleType] = useState(undefined);\n  const [filtersModeAnd, setFiltersModeAnd] = useState(false);\n  const [title, setTitle] = useState('');\n  const [legend, setLegend] = useState('');\n  const [filters, setFilters] = useState([]);\n  const [reverseFlickering, setReverseFlickering] = useState(false);\n\n\n  const [rotateMode, setRotateMode] = useState(false);\n\n  const [focusedVisualizationId, setFocusedVisualizationId] = useState(null);\n  const [registeredVisualizations, setRegisteredVisualizations] = useState({});\n\n  const onRegisterVisualization = (id, props) => {\n    setRegisteredVisualizations({\n      ...registeredVisualizations,\n      [id]: props\n    })\n  }\n\n  const onUnregisterVisualization = id => {\n    const copyOfRegistered = { ...registeredVisualizations };\n    delete copyOfRegistered[id]\n    setRegisteredVisualizations(copyOfRegistered)\n  }\n\n  const onVisualizationUpdate = ({\n    xVariable: thatXVariable,\n    yVariable: thatYVariable,\n\n    reverseX: thatReverseX,\n    reverseY: thatReverseY,\n\n    sizeVariable: thatSizeVariable,\n    colorVariable: thatColorVariable,\n    labelVariable: thatLabelVariable,\n    labelsOnTheSide: thatLabelsOnTheSide,\n    colorScaleType: thatColorScaleType,\n\n    rotateMode: thatRotateMode,\n    searchString: thatSearchString,\n    colorPalette: thatColorPalette,\n    filters: theseFilters = [],\n    filtersModeAnd: theseFiltersModeAnd,\n    title: thisTitle,\n    legend: thisLegend,\n    reverseFlickering: thatReverseFlickering,\n  }) => {\n    setXVariable(thatXVariable);\n    setYVariable(thatYVariable);\n    setReverseX(thatReverseX);\n    setReverseY(thatReverseY);\n    setSizeVariable(thatSizeVariable);\n    setColorVariable(thatColorVariable);\n    setColorScaleType(thatColorScaleType);\n    setLabelVariable(thatLabelVariable);\n    setRotateMode(thatRotateMode);\n    setSearchString(thatSearchString);\n    setLabelsOnTheSide(thatLabelsOnTheSide);\n    setFilters(theseFilters);\n    setFiltersModeAnd(theseFiltersModeAnd);\n    setTitle(thisTitle);\n    setLegend(thisLegend);\n    setReverseFlickering(thatReverseFlickering);\n    if (thatColorPalette && (colorVariable === thatColorVariable || (!colorVariable && thatColorVariable))) {\n      setColorPalette(thatColorPalette);\n    } else if (thatColorVariable || colorScaleType !== thatColorScaleType) {\n      let palette = colorVariable && colorVariable !== 'default' ? generatePalette(colorVariable, filtersOptions[colorVariable].options.length) : undefined\n      if (palette) {\n        const colors = generatePalette(thatColorVariable, filtersOptions[thatColorVariable].options.size);\n        // const palette = {};\n        let i = 0;\n        filtersOptions[thatColorVariable].options.forEach(option => {\n          palette[option] = colors[i];\n          i++;\n        });\n      } else {\n        setColorPalette(undefined);\n      }\n      \n      setColorPalette(palette);\n    } else if (colorPalette) {\n      setColorPalette(undefined);\n    }\n  }\n\n  useEffect(() => {\n    if (!focusedVisualizationId && Object.keys(registeredVisualizations).length) {\n      const thatId = Object.keys(registeredVisualizations)[0];\n      setFocusedVisualizationId(thatId);\n      onVisualizationUpdate(registeredVisualizations[thatId]);\n    }\n  }, [registeredVisualizations, focusedVisualizationId])/* eslint react-hooks/exhaustive-deps : 0 */\n\n\n  const onSearchStringChange = str => {\n    setSearchString(str);\n  }\n  return (\n    <VisualizationControlContext.Provider value={{\n      onVisualizationUpdate,\n      onRegisterVisualization,\n      onUnregisterVisualization,\n      focusedVisualizationId,\n      setFocusedVisualizationId,\n      visualizationParams: {\n        xVariable,\n        yVariable,\n\n        reverseX,\n        reverseY,\n\n        sizeVariable,\n        colorVariable,\n        labelVariable,\n        labelsOnTheSide,\n\n        rotateMode,\n        searchString,\n        colorPalette,\n        colorScaleType,\n\n        filters,\n        filtersModeAnd,\n\n        title,\n        legend,\n        reverseFlickering,\n      }\n    }}>\n      <div className=\"slide-container\">\n        <section>\n          <div>\n            <p>\n              <button className={helpVisible ? 'is-active' : ''} onClick={() => setHelpVisible(!helpVisible)}>\n                Comment modifier cette page ?\n            </button>\n            </p>\n            <ol className={`edit-help ${helpVisible ? 'is-active' : ''}`}>\n              <li>\n                Pralablement se logger dans github si le rpertoire est priv\n            </li>\n              <li>\n                Se rendre sur <a target=\"blank\" href={contentsURL}>cette page du rpertoire github</a>\n              </li>\n              <li>\n                Cliquer sur le crayon en haut  droite des contenus (il affiche \"edit\" au survol)\n            </li>\n              <li>\n                Faire les modifications puis cliquer sur \"Commit changes\" en bas de la page\n            </li>\n              <li>\n                Attendre 2 minutes puis recharger la page pour voir la version  jour de la page\n            </li>\n            </ol>\n          </div>\n          <Suspense fallback={<div>Chargement</div>}>\n            <Content />\n          </Suspense>\n          <FooterNav prevPage={prevPage} nextPage={nextPage} />\n        </section>\n        <aside>\n          <div className=\"vis\">\n            <IceCreamVis\n              {\n              ...{\n                data,\n                filtersOptions,\n\n                xVariable,\n                reverseX,\n                yVariable,\n                reverseY,\n                sizeVariable,\n                colorVariable,\n                labelVariable,\n                labelsOnTheSide,\n                colorPalette,\n                colorScaleType,\n\n                rotateMode,\n                searchString,\n\n                filtersModeAnd,\n                filters,\n                title,\n                legend,\n                reverseFlickering,\n\n                onToggleFiltersModeAnd: () => setFiltersModeAnd(!filtersModeAnd),\n                onFiltersChange: (newFilters) => setFilters(newFilters),\n\n                onSearchStringChange,\n                onToggleRotateMode: () => setRotateMode(!rotateMode),\n\n                onXVariableChange: (val) => setXVariable(val),\n                onYVariableChange: (val) => setYVariable(val),\n\n                onToggleReverseX: () => setReverseX(!reverseX),\n                onToggleReverseY: () => setReverseY(!reverseY),\n\n                onColorVariableChange: (val) => setColorVariable(val),\n                onSizeVariableChange: (val) => setSizeVariable(val),\n                onLabelVariableChange: (val) => setLabelVariable(val),\n                onToggleLabelsOnTheSide: val => setLabelsOnTheSide(val),\n                onColorPaletteChange: val => setColorPalette(val),\n                onColorScaleTypeChange: val => setColorScaleType(val),\n                onTitleChange: val => setTitle(val),\n                onLegendChange: val => setLegend(val),\n                onReverseFlickeringChange: val => setReverseFlickering(val),\n              }\n              }\n            />\n          </div>\n        </aside>\n      </div>\n    </VisualizationControlContext.Provider>\n  )\n}\n\nexport default IceCreamAnnotation;","import LinearGraphAnnotation from './LinearGraphAnnotation';\n\nexport default LinearGraphAnnotation;","import React, { useState, useEffect, useMemo, Suspense } from 'react';\nimport FooterNav from '../FooterNav';\nimport { generatePalette } from '../../helpers/palettes';\n\nimport LinearGraphVis from './LinearGraphContainer';\n\nimport { VisualizationControlContext } from '../../contexts';\n\nimport { computeFiltersOptions } from '../../helpers/misc';\n\nconst LinearGraphAnnotation = ({\n  Content,\n  data,\n  contentsURL,\n  prevPage,\n  nextPage,\n}) => {\n  const filtersOptions = useMemo(() => computeFiltersOptions('table', data), [data]);\n  const [helpVisible, setHelpVisible] = useState(false);\n  const [searchString, setSearchString] = useState('');\n\n  const [xVariable, setXVariable] = useState(undefined);\n  const [xLabelVariable, setXLabelVariable] = useState(undefined);\n  const [yVariable, setYVariable] = useState(undefined);\n  const [reverseX, setReverseX] = useState(false);\n  const [reverseY, setReverseY] = useState(false);\n  const [sizeVariable, setSizeVariable] = useState(undefined);\n  const [colorVariable, setColorVariable] = useState(undefined);\n  const [labelVariable, setLabelVariable] = useState(undefined);\n  const [colorPalette, setColorPalette] = useState(undefined);\n  const [graphType, setGraphType] = useState('linegraph');\n  const [useRelativeScale, setUseRelativeScale] = useState(undefined);\n  const [filtersModeAnd, setFiltersModeAnd] = useState(false);\n  const [filters, setFilters] = useState([]);\n  const [title, setTitle] = useState('');\n  const [legend, setLegend] = useState('');\n  const [normalizeY, setNormalizeY] = useState(false);\n\n\n  const [focusedVisualizationId, setFocusedVisualizationId] = useState(null);\n  const [registeredVisualizations, setRegisteredVisualizations] = useState({});\n\n  const onRegisterVisualization = (id, props) => {\n    setRegisteredVisualizations({\n      ...registeredVisualizations,\n      [id]: props\n    })\n  }\n\n  const onUnregisterVisualization = id => {\n    const copyOfRegistered = { ...registeredVisualizations };\n    delete copyOfRegistered[id]\n    setRegisteredVisualizations(copyOfRegistered)\n  }\n\n  const onVisualizationUpdate = ({\n    xVariable: thatXVariable,\n    xLabelVariable: thatXLabelVariable,\n    yVariable: thatYVariable,\n\n    reverseX: thatReverseX,\n    reverseY: thatReverseY,\n\n    sizeVariable: thatSizeVariable,\n    colorVariable: thatColorVariable,\n    labelVariable: thatLabelVariable,\n\n    searchString: thatSearchString,\n    colorPalette: thatColorPalette,\n\n    graphType: thatGraphType,\n    useRelativeScale: thatUseRelativeScale,\n\n    filters: theseFilters = [],\n    filtersModeAnd: theseFiltersModeAnd,\n    title: thisTitle,\n    legend: thisLegend,\n    normalizeY: thatNormalizeY\n  }) => {\n    setXVariable(thatXVariable);\n    setXLabelVariable(thatXLabelVariable);\n    setYVariable(thatYVariable);\n    setReverseX(thatReverseX);\n    setReverseY(thatReverseY);\n    setSizeVariable(thatSizeVariable);\n    setColorVariable(thatColorVariable);\n    setLabelVariable(thatLabelVariable);\n    setSearchString(thatSearchString);\n    setGraphType(thatGraphType);\n    setUseRelativeScale(thatUseRelativeScale);\n    setFilters(theseFilters);\n    setFiltersModeAnd(theseFiltersModeAnd);\n    setTitle(thisTitle);\n    setLegend(thisLegend);\n    setNormalizeY(thatNormalizeY);\n\n\n    if (thatColorPalette && ((!colorVariable && thatColorVariable) || colorVariable === thatColorVariable)) {\n      setColorPalette(thatColorPalette);\n    } else if (thatColorVariable) {\n      let colors = thatColorVariable && thatColorVariable !== 'default' ? generatePalette(thatColorVariable, filtersOptions[thatColorVariable].options.length) : undefined\n      // const colors = generatePalette(thatColorVariable, filtersOptions[thatColorVariable].options.size);\n      const finalPalette = {};\n      let i = 0;\n      filtersOptions[thatColorVariable].options.forEach(option => {\n        finalPalette[option] = colors[i];\n        i++;\n      });\n      setColorPalette(finalPalette);\n    } else if (colorPalette) {\n      setColorPalette(undefined);\n    }\n  }\n\n  useEffect(() => {\n    if (!focusedVisualizationId && Object.keys(registeredVisualizations).length) {\n      const thatId = Object.keys(registeredVisualizations)[0];\n      setFocusedVisualizationId(thatId)\n      onVisualizationUpdate(registeredVisualizations[thatId])\n    }\n  }, [registeredVisualizations, focusedVisualizationId])/* eslint react-hooks/exhaustive-deps : 0 */\n\n\n  const onSearchStringChange = str => {\n    setSearchString(str);\n  }\n  return (\n    <VisualizationControlContext.Provider value={{\n      onVisualizationUpdate,\n      onRegisterVisualization,\n      onUnregisterVisualization,\n      focusedVisualizationId,\n      setFocusedVisualizationId,\n      visualizationParams: {\n        graphType,\n        useRelativeScale,\n\n        xVariable,\n        xLabelVariable,\n        yVariable,\n\n        reverseX,\n        reverseY,\n\n        sizeVariable,\n        colorVariable,\n\n        searchString,\n        colorPalette,\n\n        filters,\n        filtersModeAnd,\n        \n        title,\n        legend,\n        normalizeY\n      }\n    }}>\n      <div className=\"slide-container\">\n        <section>\n          <div>\n            <p>\n              <button className={helpVisible ? 'is-active' : ''} onClick={() => setHelpVisible(!helpVisible)}>\n                Comment modifier cette page ?\n            </button>\n            </p>\n            <ol className={`edit-help ${helpVisible ? 'is-active' : ''}`}>\n              <li>\n                Pralablement se logger dans github si le rpertoire est priv\n            </li>\n              <li>\n                Se rendre sur <a target=\"blank\" href={contentsURL}>cette page du rpertoire github</a>\n              </li>\n              <li>\n                Cliquer sur le crayon en haut  droite des contenus (il affiche \"edit\" au survol)\n            </li>\n              <li>\n                Faire les modifications puis cliquer sur \"Commit changes\" en bas de la page\n            </li>\n              <li>\n                Attendre 2 minutes puis recharger la page pour voir la version  jour de la page\n            </li>\n            </ol>\n          </div>\n          <Suspense fallback={<div>Chargement</div>}>\n            <Content />\n          </Suspense>\n          <FooterNav prevPage={prevPage} nextPage={nextPage} />\n        </section>\n        <aside>\n          <div className=\"vis\">\n            <LinearGraphVis\n              {\n              ...{\n                data,\n                filtersOptions,\n\n                xVariable,\n                xLabelVariable,\n                reverseX,\n                yVariable,\n                reverseY,\n                sizeVariable,\n                colorVariable,\n                labelVariable,\n                colorPalette,\n                searchString,\n                useRelativeScale,\n                graphType,\n\n                onSearchStringChange,\n\n                filtersModeAnd,\n                filters,\n\n                title,\n                legend,\n                normalizeY,\n\n                onToggleFiltersModeAnd: () => setFiltersModeAnd(!filtersModeAnd),\n                onFiltersChange: (newFilters) => setFilters(newFilters),\n\n                onXVariableChange: (val) => setXVariable(val),\n                onXLabelVariableChange: (val) => setXLabelVariable(val),\n                onYVariableChange: (val) => setYVariable(val),\n\n                onToggleReverseX: () => setReverseX(!reverseX),\n                onToggleReverseY: () => setReverseY(!reverseY),\n\n                onColorVariableChange: (val) => setColorVariable(val),\n                onColorPaletteChange: val => setColorPalette(val),\n\n                onGraphTypeChange: val => setGraphType(val),\n                onToggleUseRelativeScale: () => setUseRelativeScale(!useRelativeScale),\n\n                onTitleChange: val => setTitle(val),\n                onLegendChange: val => setLegend(val),\n                onNormalizeYChange: val => setNormalizeY(val),\n\n              }\n              }\n            />\n          </div>\n        </aside>\n      </div>\n    </VisualizationControlContext.Provider>\n  )\n}\n\nexport default LinearGraphAnnotation;","import PlainPage from './PlainPage';\n\nexport default PlainPage;","import React, {useState, Suspense} from 'react';\nimport FooterNav from '../FooterNav';\n\nconst PlainPage = ({\n  Content,\n  contentsURL,\n  prevPage,\n  nextPage\n}) => {\n  const [helpVisible, setHelpVisible] = useState(false);\n  return (\n    <div className=\"slide-container without-visualization\">\n      <section>\n        <div>\n          <p>\n            <button className={helpVisible ? 'is-active': ''} onClick={() => setHelpVisible(!helpVisible)}>\n              Comment modifier cette page ?\n            </button>\n          </p>\n          <ol className={`edit-help ${helpVisible ? 'is-active' : ''}`}>\n            <li>\n              Pralablement se logger dans github si le rpertoire est priv\n            </li>\n            <li>\n              Se rendre sur <a target=\"blank\" href={contentsURL}>cette page du rpertoire github</a>\n            </li>\n            <li>\n              Cliquer sur le crayon en haut  droite des contenus (il affiche \"edit\" au survol)\n            </li>\n            <li>\n              Faire les modifications puis cliquer sur \"Commit changes\" en bas de la page\n            </li>\n            <li>\n              Attendre 2 minutes puis recharger la page pour voir la version  jour de la page\n            </li>\n          </ol>\n        </div>\n        <Suspense fallback={<div>Chargement</div>}>\n          <Content />\n        </Suspense>\n        <FooterNav prevPage={prevPage} nextPage={nextPage} />\n      </section>\n      <aside>\n      </aside>\n  </div>\n  )\n}\n\nexport default PlainPage;","import GraphAnnotation from './components/GraphAnnotation';\nimport IceCreamAnnotation from './components/IceCreamAnnotation';\nimport LinearGraphAnnotation from './components/LinearGraphAnnotation';\nimport PlainPage from './components/PlainPage';\n\nimport ChapoFr from '!babel-loader!mdx-loader!./contents/fr/chapo.mdx'\nimport ChapoEn from '!babel-loader!mdx-loader!./contents/en/headline.mdx'\n\n\nimport IntroFr from '!babel-loader!mdx-loader!./contents/fr/00_home.mdx'\nimport Part1Fr from '!babel-loader!mdx-loader!./contents/fr/01_couverture_media.mdx'\nimport Part2Fr from '!babel-loader!mdx-loader!./contents/fr/02_detectcritic.mdx'\nimport Part3Fr from '!babel-loader!mdx-loader!./contents/fr/03_graphclusters.mdx'    \nimport Part4Fr from '!babel-loader!mdx-loader!./contents/fr/04_timelineclusters.mdx'\nimport Part5Fr from '!babel-loader!mdx-loader!./contents/fr/05_toporobotalgo.mdx'\nimport Part6Fr from '!babel-loader!mdx-loader!./contents/fr/06_explore_entities.mdx'\nimport Part7Fr from '!babel-loader!mdx-loader!./contents/fr/07_IssueVERB.mdx'\nimport Part8Fr from '!babel-loader!mdx-loader!./contents/fr/08_NERdate.mdx'\n\nimport IntroEn from '!babel-loader!mdx-loader!./contents/en/00_home.mdx'\nimport Part1En from '!babel-loader!mdx-loader!./contents/en/01_couverture_media.mdx'\nimport Part2En from '!babel-loader!mdx-loader!./contents/en/02_detectcritic.mdx'\nimport Part3En from '!babel-loader!mdx-loader!./contents/en/03_graphclusters.mdx'    \nimport Part4En from '!babel-loader!mdx-loader!./contents/en/04_timelineclusters.mdx'\nimport Part5En from '!babel-loader!mdx-loader!./contents/en/05_toporobotalgo.mdx'\nimport Part6En from '!babel-loader!mdx-loader!./contents/en/06_explore_entities.mdx'\nimport Part7En from '!babel-loader!mdx-loader!./contents/en/07_IssueVERB.mdx'\nimport Part8En from '!babel-loader!mdx-loader!./contents/en/08_NERdate.mdx'\n\nconst routes = [\n  {\n    title: {\n      fr: 'Chap',\n      en: 'Headline',\n    },\n    route: {\n      fr: 'chapo',\n      en: 'headline',\n    },\n    contents: {\n      fr: 'chapo.mdx',\n      en: 'headline.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <ChapoFr />,\n      en: () => <ChapoEn />\n    },\n    Component: PlainPage\n  },\n  {\n    title: {\n      fr: 'Introduction',\n      en: 'Introduction',\n    },\n    route: {\n      fr: 'introduction',\n      en: 'introduction',\n    },\n    contents: {\n      fr: '00_home.mdx',\n      en: '00_home.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <IntroFr />,\n      en: () => <IntroEn />\n    },\n    Component: PlainPage\n  },\n  {\n    title: {\n      fr: 'Quelle est la couverture mdiatique de l\\'IA ?',\n      en: '1. Media coverage',\n    },\n    route: {\n      fr: '01-couverture-media',\n      en: '01-media-coverage',\n    },\n    contents: {\n      fr: '01_couverture_media.mdx',\n      en: '01_couverture_media.mdx'\n    },\n    contentsCompiled: {\n      fr: () => <Part1Fr />,\n      en: () => <Part1En />\n    },\n    Component: LinearGraphAnnotation,\n    data: '4average_clusters_unpivoted.csv'\n  },\n  {\n    title: {\n      fr: 'Comment dtecter le discours critique dans les mdias ?',\n      en: '2. Detecting critiques',\n    },\n    route: {\n      fr: '02-detecter-critiques',\n      en: '02-detect-critiques'\n    },\n    contents: {\n      fr: '02_detectcritic.mdx',\n      en: '02_detectcritic.mdx'\n    },\n    contentsCompiled: {\n      fr: () => <Part2Fr />,\n      en: () => <Part2En />\n    },\n    Component: LinearGraphAnnotation,\n    data: 'critic_notcritic_unpivoted.csv',\n  },\n  {\n    title: {\n      fr: 'Quels sont les thmes sur lesquels porte la critique ?',\n      en: '3. Graph clusters',\n    },\n    route: {\n      fr: '03-graph-clusters',\n      en: '03-graph-clusters',\n    },\n    contents: {\n      fr: '03_graphclusters.mdx',\n      en: '03_graphclusters.mdx'\n    },\n    contentsCompiled: {\n      fr: () => <Part3Fr />,\n      en: () => <Part3En />\n    },\n    data: 'Graph_Critic_EN_algopress_webV2.gexf',\n    Component: GraphAnnotation\n  },\n  {\n    title: {\n      fr: 'Comment volue lagenda mdiatique ?',\n      en: '4. Evolution of the mediatic agenda',\n    },\n    route: {\n      fr: '04-timeline-clusters',\n      en: '04-timeline-clusters',\n    },\n    contents: {\n      fr: '04_timelineclusters.mdx',\n      en: '04_timelineclusters.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <Part4Fr />,\n      en: () => <Part4En />\n    },\n    Component: LinearGraphAnnotation,\n    data: '5average_clusters_unpivoted.csv',\n  },\n  {\n    title: {\n      fr: 'Quest-ce que la topologie du rseau nous apprend de la critique mdiatique ?',\n      en: '5. Network topology',\n    },\n    route: {\n      fr: '05-topologie',\n      en: '05-topology',\n    },\n    contents: {\n      fr: '05_toporobotalgo.mdx',\n      en: '05_toporobotalgo.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <Part5Fr />,\n      en: () => <Part5En />\n    },\n    data: 'Graph_Critic_EN_algopress_webV2.gexf',\n    Component: GraphAnnotation\n  },\n  {\n    title: {\n      fr: 'Qui sont les agents calculateurs ?',\n      en: '6. Calculating agents',\n    },\n    route: {\n      fr: '06-agents',\n      en: '06-agents',\n    },\n    contents: {\n      fr: '06_explore_entities.mdx',\n      en: '06_explore_entities.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <Part6Fr />,\n      en: () => <Part6En />\n    },\n    data: 'Graph_Critic_EN_algopress_webV2.gexf',\n    Component: GraphAnnotation\n  },\n  {\n    title: {\n      fr: 'Comment sont exprims les verbes de troubles ?',\n      en: '7. Trouble verbs',\n    },\n    route: {\n      fr: '07-verbes',\n      en: '07-verbs',\n    },\n    contents: {\n      fr: '07_IssueVERB.mdx',\n      en: '07_IssueVERB.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <Part7Fr />,\n      en: () => <Part7En />\n    },\n    data: 'verbs_bin_normalise.csv',\n    Component: IceCreamAnnotation\n  },\n  {\n    title: {\n      fr: 'Comment est exprime la temporalit ?',\n      en: '8. Temporality',\n    },\n    route: {\n      fr: '08-temporalite',\n      en: '08-temporalite',\n    },\n    contents: {\n      fr: '08_NERdate.mdx',\n      en: '08_NERdate.mdx',\n    },\n    contentsCompiled: {\n      fr: () => <Part8Fr />,\n      en: () => <Part8En />\n    },\n    Component: IceCreamAnnotation,\n    data: 'date_ner_tfidf_v3.csv'\n  }\n]\n\nexport default routes;","import React, { useRef, useEffect, useState, createRef, useReducer } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { csvParse, tsvParse } from 'd3-dsv';\nimport cx from 'classnames';\nimport { useScrollYPosition } from 'react-use-scroll-position';\n\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport Loader from '../Loader';\nimport VisualizationController from '../VisualizationController';\n\n\nimport { VisualizationControlContext, PresentationContext } from '../../contexts'\n// import {useDebouncedEffect} from '../../helpers/hooks';\n\nimport routes from '../../summary'\nimport { omit } from 'lodash-es';\n\nconst buildRouteId = (_index, route, lang) => `${encodeURIComponent(route.route[lang].toLowerCase())}`;\n\nconst Sections = ({\n  routes,\n  lang,\n  setVisualizations,\n  visualizations,\n  activeSectionIndex,\n  sectionsRef\n}) => {\n  return (\n    <main>\n          {\n            routes.map((route, index) => {\n              const {\n                data,\n                contentsCompiled\n              } = route;\n              const Content = contentsCompiled[lang];\n              const onRegisterVisualization = (id, params) => {\n                const finalParams = {\n                  ...params,\n                  sectionIndex: index,\n                  data\n                }\n                setTimeout(() => setVisualizations({ ...visualizations, [id]: finalParams }));\n              }\n              const onUnregisterVisualization = id => {\n                setVisualizations(omit(visualizations, [id]))\n              }\n              return (\n                <VisualizationControlContext.Provider\n                  key={index}\n                  value={{\n                    onRegisterVisualization,\n                    onUnregisterVisualization,\n                  }}\n                >\n                  <section className={cx(\"section-container\", {'is-active': index === activeSectionIndex, 'has-visualization': data !== undefined})} ref={sectionsRef.current[index]}>\n                    <Content />\n                  </section>\n                </VisualizationControlContext.Provider>\n              )\n            })\n          }\n        </main>\n  )\n}\n\nconst PresentationWrapper = ({ match: { params } }) => {\n  const { lang, sectionId, visualizationIndex } = params;\n  const sectionsRef = useRef(routes.map(() => createRef()));\n\n  const [activeVisualization, setActiveVisualization] = useState(undefined);\n  const [activeVisualizationIndex, setActiveVisualizationIndex] = useState(undefined);\n  const [activeSection, setActiveSection] = useState(undefined);\n  const [activeSectionIndex, setActiveSectionIndex] = useState(undefined);\n\n  const [datasets, setDatasets] = useState({})\n  const [loadingFraction, setLoadingFraction] = useState(0);\n  const history = useHistory();\n  const [inHeader, setInHeader] = useState(true);\n  const [inFooter, setInFooter] = useState(false);\n\n  const [visualizations, setVisualizations] = useReducer(\n    (state, newState) => ({ ...state, ...newState }),\n    {}\n  )\n\n  const scrollRef = useRef(null);\n  const scrollY = useScrollYPosition();\n  \n  /**\n   * Scroll on coumponent mount\n   */\n  useEffect(() => {\n    // waiting for visualizations\n    setTimeout(() => {\n      if (sectionId !== undefined) {\n        let newSection;\n        let newSectionIndex;\n        routes.find((route, routeIndex) => {\n          const id = buildRouteId(routeIndex, route, lang);\n          if (id === sectionId) {\n            newSection = route;\n            newSectionIndex = routeIndex;\n            return true;\n          }\n          return false;\n        });\n        setActiveSection(newSection);\n        setActiveSectionIndex(newSectionIndex);\n        setInHeader(false);\n        let relevantVisualization;\n        if (visualizationIndex !== undefined) {\n          const relevantVisualizations = Object.entries(visualizations)\n            .filter(([id, params]) => params.sectionIndex === +newSectionIndex)\n            .map(t => t[1]);\n          relevantVisualization = +visualizationIndex < relevantVisualizations.length ? relevantVisualizations[+visualizationIndex] : undefined;\n          if (relevantVisualization) {\n            setActiveVisualizationIndex(+visualizationIndex);\n            setActiveVisualization(relevantVisualization);\n            const y = relevantVisualization.ref.current.getBoundingClientRect().y;\n            const bodyRect = document.body.getBoundingClientRect();\n            const visY = y - bodyRect.top;\n            window.scrollTo({\n              left: 0, \n              top: visY - window.innerHeight / 2 + 10,\n            });\n          }\n        }\n        if (!relevantVisualization) {\n          const el = sectionsRef.current[newSectionIndex];\n          if (el.current) {\n            const y = el.current.getBoundingClientRect().y;\n            const bodyRect = document.body.getBoundingClientRect();\n            const sectionY = y - bodyRect.top;\n            window.scrollTo({\n              left: 0, \n              top: sectionY,\n            })\n          }\n        }\n\n      }\n    }, 1000);\n  }, [])/* eslint react-hooks/exhaustive-deps : 0 */\n  /**\n   * Route update\n   */\n  useEffect(() => {\n    if (activeSection) {\n      const id = buildRouteId(activeSectionIndex, activeSection, lang);\n      history.push({\n        pathname: `/publication/${lang}/${id}${activeVisualizationIndex !== undefined ? '/' + activeVisualizationIndex : ''}`\n      })\n    }\n  }, [activeVisualizationIndex, activeSection, activeSectionIndex, lang])\n\n  /**\n   * loading all datasets\n   */\n  useEffect(() => {\n    routes.reduce((cur, route, routeIndex) => {\n      return cur.then((res) => new Promise((resolve, reject) => {\n\n        const { data } = route;\n        const url = data ? `${process.env.PUBLIC_URL}/data/${data}` : undefined;\n        if (url) {\n          axios.get(url, {\n            onDownloadProgress: progressEvent => {\n              const status = progressEvent.loaded / progressEvent.total;\n              const globalFraction = routeIndex / routes.length;\n              setLoadingFraction(globalFraction + status / routes.length);\n            }\n          })\n            .then(({ data: inputData }) => {\n              setTimeout(() => {\n                let loadedData = inputData;\n                if (url.split('.').pop() === 'csv') {\n                  loadedData = csvParse(inputData);\n                } else if (url.split('.').pop() === 'tsv') {\n                  loadedData = tsvParse(inputData);\n                }\n                resolve({...res, [data]: loadedData})\n              })\n            })\n            .catch(reject)\n        } else return resolve(res);\n\n      }))\n    }, Promise.resolve({}))\n    .then(newDatasets => {\n      setLoadingFraction(1);\n      setDatasets(newDatasets)\n    })\n    .catch(console.log)\n  }, [])\n\n  \n\n  /**\n   * Scrollytelling managmeent\n   */\n   useEffect(() => {\n    const DISPLACE_Y = window.innerHeight * .5;\n      const y = scrollY + DISPLACE_Y;\n      let newActiveRouteIndex;\n      let newActiveVisualizationIndex;\n      let newActiveRoute;\n      let newActiveVisualization;\n\n      // find active section\n      sectionsRef.current.find((ref, index) => {\n        if (ref.current) {\n          const { y: initialSectionY, height } = ref.current.getBoundingClientRect();\n          const bodyRect = document.body.getBoundingClientRect();\n          const sectionY = initialSectionY - bodyRect.top;\n          if (index === 0 && y > sectionY && inHeader) {\n            setInHeader(false);\n          } else if (index === 0 && y < sectionY && !inHeader) {\n            setInHeader(true);\n          }\n          if (index === sectionsRef.current.length - 1 && y > sectionY + height && !inFooter) {\n            setInFooter(true);\n          } else if (inFooter) {\n            setInFooter(false);\n          }\n          if (y > sectionY && y < sectionY + height) {\n            newActiveRouteIndex = index;\n            newActiveRoute = routes[index];\n            return true;\n          }\n        }\n        return false;\n      });\n      if (activeSectionIndex !== newActiveRouteIndex) {\n        setActiveSectionIndex(newActiveRouteIndex);\n        setActiveSection(newActiveRoute);\n      }\n      if (newActiveRouteIndex !== undefined) {\n        // const id = buildRouteId(newActiveRouteIndex, newRoute, lang);\n        // find active visualization\n        const relevantVisualizations = Object.entries(visualizations)\n          .filter(([id, params]) => params.sectionIndex === newActiveRouteIndex)\n          .map(t => t[1])\n        for (let index = relevantVisualizations.length - 1; index >= 0; index--) {\n          const params = relevantVisualizations[index];\n          const { ref } = params;\n          if (ref.current) {\n            const { y: initialVisY } = ref.current.getBoundingClientRect();\n            const visY = initialVisY + window.scrollY;\n            if (y > visY) {\n              newActiveVisualization = params;\n              newActiveVisualizationIndex = index;\n              break;\n            }\n          }\n        }\n        if (relevantVisualizations.length && newActiveVisualization === undefined) {\n          newActiveVisualization = relevantVisualizations[0];\n          newActiveVisualizationIndex = 0;\n        }\n        if (activeVisualizationIndex !== newActiveVisualizationIndex || activeSectionIndex !== newActiveRouteIndex) {\n          setActiveVisualization(newActiveVisualization);\n          setActiveVisualizationIndex(newActiveVisualizationIndex);\n        }\n        } else {\n          if (activeVisualization) {\n            setActiveVisualization(undefined);\n            setActiveVisualizationIndex(undefined);\n          }\n        }\n  }, [scrollY])\n  \n  const preventScroll = e => {\n    e.preventScroll();\n    e.stopPropagation();\n    e.preventDefault();\n  }\n  const handleRouteNav = index => {\n    setActiveVisualization(undefined);\n    setActiveSectionIndex(index);\n    setActiveSection(routes[index]);\n    let relevantVisualizations = Object.entries(visualizations)\n    .filter(([id, params]) => params.sectionIndex === index)\n    .map(t => t[1]);\n    setActiveVisualization(relevantVisualizations.length ? relevantVisualizations[0] : undefined);\n    setActiveVisualizationIndex(relevantVisualizations.length ? 0 : undefined);\n\n    const el = sectionsRef.current[index];\n    if (el.current) {\n      const y = el.current.getBoundingClientRect().y;\n      const bodyRect = document.body.getBoundingClientRect();\n      const sectionY = y - bodyRect.top;\n      window.scrollTo({\n        left: 0, \n        top: sectionY, // - window.innerHeight / 2,\n        behavior: 'smooth'\n      })\n    }\n  }\n  const handleScrollToFirstSection = () => handleRouteNav(0);\n  const handleBlockClick = (_id, ref) => {\n    if (ref.current) {\n      const y = ref.current.getBoundingClientRect().y;\n      const bodyRect = document.body.getBoundingClientRect();\n      const sectionY = y - bodyRect.top;\n      window.scrollTo({\n        left: 0, \n        top: sectionY - window.innerHeight / 2 + 5,\n        behavior: 'smooth'\n      })\n    }\n  }\n  const handleScrollToTop = () => {\n    setActiveVisualization(undefined);\n    setActiveVisualizationIndex(undefined);\n    setActiveSection(undefined);\n    setActiveSectionIndex(undefined);\n    window.scrollTo({\n      left: 0, \n      top: 0,\n      behavior: 'smooth'\n    })\n  }\n\n  return (\n    <PresentationContext.Provider\n      value={{\n        presentationMode: true,\n        activeVisualization,\n        onBlockClick: handleBlockClick\n      }}\n    >\n      <div ref={scrollRef} id=\"presentation-wrapper\">\n        <Header \n          lang={lang} \n          routes={routes} \n          onRouteNav={handleRouteNav} \n          isVisible={inHeader}\n          activeSectionIndex={activeSectionIndex}\n          loadingFraction={loadingFraction}\n          graphData={datasets && datasets['Graph_Critic_EN_algopress_webV2.gexf']}\n          onScrollToTop={handleScrollToTop}\n          onScrollToFirstSection={handleScrollToFirstSection}\n        />\n        <Sections\n          {\n            ...{\n              routes,\n              lang,\n              setVisualizations,\n              visualizations,\n              activeSectionIndex,\n              sectionsRef\n            }\n          }\n        />\n        <aside onScroll={preventScroll} className={cx('visualization-container', {'is-visible': !(inHeader || inFooter)})}>\n          {\n            datasets ?\n            <VisualizationController\n              datasets={datasets}\n              activeVisualization={activeVisualization}\n              visualizations={visualizations}\n              loadingFraction={loadingFraction}\n            />\n            :\n            <Loader percentsLoaded={loadingFraction * 100} />\n          }\n        </aside>\n        <Footer />\n      </div>\n    </PresentationContext.Provider>\n  )\n}\n\nexport default PresentationWrapper;","import PresentationWrapper from './PresentationWrapper';\n\nexport default PresentationWrapper;","import React, { useState } from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  NavLink as Link,\n  Redirect,\n  useHistory,\n} from \"react-router-dom\";\n\nimport './Edition.scss';\nimport './Presentation.scss';\n\nimport { LanguageContext } from './contexts';\n\n\nimport { repository } from '../package.json';\n\nimport DataLoader from './components/DataLoader';\nimport PresentationContainer from './components/PresentationWrapper';\n\nimport routes from './summary'\n\nconst LANGUAGES = ['fr', 'en'];\n\n\n\nfunction App() {\n\n  const history = useHistory();\n  const [lang, setLang] = useState('fr');\n\n  const renderRoute = ({\n    data,\n    contentsURL,\n    Content,\n    ThatComponent,\n    prevPage,\n    nextPage\n  }) => (\n    <DataLoader url={data ? `${process.env.PUBLIC_URL}/data/${data}` : undefined}>\n      {\n        data => (\n          <ThatComponent\n            {\n            ...{\n              contentsURL,\n              Content,\n              prevPage,\n              nextPage,\n              data\n            }\n            }\n          />\n        )\n      }\n    </DataLoader>\n  );\n\n  const onLangChange = (ln) => {\n    if (ln !== lang) {\n      const otherLang = lang;\n      const pathOtherLang = history.location.pathname.split('/').pop();\n      const routeItem = routes.find(route => {\n        return route.route[otherLang] === pathOtherLang;\n      });\n      setLang(ln);\n      if (routeItem) {\n        history.push(`/edition/${ln}/${routeItem.route[ln]}`);\n\n      }\n    }\n\n  }\n\n  const Edition = ({match}) => {\n    return (\n      <div id=\"edition-wrapper\">\n      <nav>\n            <ul>\n              {\n                routes.map(({ title, route: inputRoute }, index) => {\n                  const route = `${match.path}/${lang}/${inputRoute[lang]}`\n                  return (\n                    <li key={index} className=\"navitem-container\">\n                      <Link to={route}>\n                        {index}. {title[lang]}\n                      </Link>\n                    </li>\n                  )\n                })\n              }\n              <li className=\"lang-toggle\">\n                <button\n                  className={lang === 'fr' ? 'is-active' : ''}\n                  onClick={() => onLangChange('fr')}\n                >fr</button>\n                <button\n                  className={lang === 'en' ? 'is-active' : ''}\n                  onClick={() => onLangChange('en')}\n                >en</button>\n              </li>\n            </ul>\n          </nav>\n          <main>\n            <Switch>\n              {\n                LANGUAGES.map(lang => {\n                  return routes.map(({\n                    // title,\n                    route: inputRoute,\n                    contents,\n                    data,\n                    Component: ThatComponent\n                  }, index) => {\n                    const route = `${match.path}/${lang}/${inputRoute[lang]}`;\n                    const prevPage = index > 0 ? routes[index - 1] : undefined;\n                    const nextPage = index < routes.length - 1 ? routes[index + 1] : undefined;\n                    const Content = React.lazy(() => import(`!babel-loader!mdx-loader!./contents/${lang}/${contents[lang]}`))\n                    const contentsURL = `${repository}/blob/main/src/contents/${lang}/${contents[lang]}`;\n                    return (\n                      <Route key={index} path={route}>\n                        {renderRoute({ data, contentsURL, Content, ThatComponent, prevPage, nextPage })}\n                      </Route>\n                    )\n                  })\n                })\n              }\n              <Redirect to={`${match.path}/fr/${routes[0].route['fr']}`} />\n            </Switch>\n          </main>\n      </div>\n    )\n  }\n  return (\n    <LanguageContext.Provider value={{ lang, onLangChange }}>\n        <Route path=\"/edition\" component={Edition} />\n        <Route path=\"/publication/:lang/:sectionId?/:visualizationIndex?\" component={PresentationContainer} />\n        <Route exact path=\"/\">\n          <Redirect to={`/publication/fr/`} />\n        </Route>\n    </LanguageContext.Provider>\n  );\n}\n\n\nexport default function Wrapper() {\n  return (\n    <Router>\n      <App />\n    </Router>\n  )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\nimport cx from 'classnames';\nimport React, {useContext} from 'react';\nimport { PresentationContext} from '../../contexts';\n\nconst filterColorPalette = (colorVariable, colorPalette = {}, filters = [], filtersModeAnd) => {\n  if (!filters.length) {\n    return Object.entries(colorPalette);\n  }\n  return Object.entries(colorPalette)\n  .filter(([label, color]) => {\n    const matchesAtLeastOne = filters.find(({ attribute, value }) => {\n      if (attribute === colorVariable) {\n        return value === label;\n      }\n      return false;\n    })\n    return matchesAtLeastOne;\n  })\n}\n\nconst ColorLegend = ({colorPalette = []}) => {\n  return (\n    <ul className=\"ColorLegend\">\n      {\n        colorPalette\n        .sort(([labelA], [labelB]) => {\n          if (labelA > labelB) {\n            return 1;\n          }\n          return -1;\n        })\n        .map(([label, color]) => (\n          <li>\n            <span className=\"color\" style={{background: color}} />\n            <span className=\"label\">{label}</span>\n          </li>\n        ))\n      }\n    </ul>\n  )\n}\n\nconst VisBlock = React.forwardRef(({\n  title, \n  legend, \n  id,\n  colorPalette,\n  nodeColorVariable,\n  filters,\n  filtersModeAnd,\n  colorVariable\n}, ref) => {\n  const {\n    activeVisualization,\n    onBlockClick\n  } = useContext(PresentationContext);\n  const onClick = e => {\n    if (typeof onBlockClick === 'function') {\n      onBlockClick(id, ref);\n    }\n  }\n  return (\n    <div onClick={onClick} ref={ref} id={id} className={cx(\"VisualizationBlock LinearGraphBlock\", {'is-active': activeVisualization && activeVisualization.id === id})}>\n      {\n        title ?\n        <h5 className=\"block-title\">{title}</h5>\n        : null\n      }\n      {\n        legend ?\n        <p className=\"block-legend\">\n          {legend}\n        </p>\n        : null\n      }\n      <ColorLegend colorPalette={filterColorPalette(nodeColorVariable || colorVariable, colorPalette, filters, filtersModeAnd)} />\n      \n    </div>\n  )\n})\n\nexport default VisBlock;","import VisBlock from './VisBlock';\n\nexport default VisBlock;"],"sourceRoot":""}